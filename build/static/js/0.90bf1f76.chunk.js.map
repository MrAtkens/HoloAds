{"version":3,"sources":["../../src/constants.js","../../src/sheet/Tag.js","../../src/sheet/Sheet.js","../../src/utils/isStaticRules.js","../../src/models/Keyframes.js","../../src/models/StyledComponent.js","../../src/models/GlobalStyle.js","../../src/models/ServerStyleSheet.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","../node_modules/framer-motion/dist/es/context/MotionConfigContext.js","../node_modules/framer-motion/dist/es/utils/use-isomorphic-effect.js","../node_modules/react-helmet/es/Helmet.js","../node_modules/@emotion/memoize/dist/memoize.browser.esm.js","../node_modules/@emotion/is-prop-valid/dist/is-prop-valid.browser.esm.js","../node_modules/process/browser.js","../node_modules/shallowequal/index.js","../node_modules/@emotion/stylis/dist/stylis.browser.esm.js","../node_modules/@emotion/unitless/dist/unitless.browser.esm.js","../node_modules/react-side-effect/lib/index.js","../node_modules/react-fast-compare/index.js","../node_modules/react-feather/dist/icons/x.js","../node_modules/react-feather/dist/icons/menu.js","../node_modules/framer-motion/dist/es/motion/features/use-features.js","../node_modules/framer-motion/dist/es/context/MotionContext/index.js","../node_modules/framer-motion/dist/es/context/LayoutGroupContext.js","../node_modules/framer-motion/dist/es/motion/utils/use-visual-element.js","../node_modules/framer-motion/dist/es/utils/is-ref-object.js","../node_modules/framer-motion/dist/es/context/MotionContext/create.js","../node_modules/framer-motion/dist/es/context/MotionContext/utils.js","../node_modules/framer-motion/dist/es/motion/index.js","../node_modules/framer-motion/dist/es/motion/utils/use-motion-ref.js","../node_modules/framer-motion/dist/es/render/dom/motion-proxy.js","../node_modules/framer-motion/dist/es/render/html/utils/create-render-state.js","../node_modules/framer-motion/dist/es/render/html/use-props.js","../node_modules/framer-motion/dist/es/motion/utils/valid-prop.js","../node_modules/framer-motion/dist/es/render/dom/utils/filter-props.js","../node_modules/framer-motion/dist/es/render/svg/utils/create-render-state.js","../node_modules/framer-motion/dist/es/render/svg/use-props.js","../node_modules/framer-motion/dist/es/render/dom/use-render.js","../node_modules/framer-motion/dist/es/value/utils/resolve-motion-value.js","../node_modules/framer-motion/dist/es/motion/utils/use-visual-state.js","../node_modules/framer-motion/dist/es/render/svg/config-motion.js","../node_modules/framer-motion/dist/es/render/html/config-motion.js","../node_modules/framer-motion/dist/es/render/dom/utils/create-config.js","../node_modules/framer-motion/dist/es/gestures/PanSession.js","../node_modules/framer-motion/dist/es/gestures/drag/utils/constraints.js","../node_modules/framer-motion/dist/es/render/dom/projection/utils.js","../node_modules/framer-motion/dist/es/gestures/drag/VisualElementDragControls.js","../node_modules/framer-motion/dist/es/render/dom/projection/convert-to-relative.js","../node_modules/framer-motion/dist/es/motion/features/drag.js","../node_modules/framer-motion/dist/es/gestures/use-pan-gesture.js","../node_modules/framer-motion/dist/es/gestures/drag/use-drag.js","../node_modules/framer-motion/dist/es/render/dom/projection/default-scale-correctors.js","../node_modules/framer-motion/dist/es/motion/features/layout/Animate.js","../node_modules/framer-motion/dist/es/components/AnimateSharedLayout/utils/batcher.js","../node_modules/framer-motion/dist/es/context/SharedLayoutContext.js","../node_modules/framer-motion/dist/es/motion/features/layout/Measure.js","../node_modules/framer-motion/dist/es/motion/features/layout/index.js","../node_modules/framer-motion/dist/es/render/dom/motion.js","../node_modules/popmotion/dist/es/utils/wrap.js","../node_modules/framer-motion/dist/es/utils/use-cycle.js","../node_modules/framer-motion/dist/es/animation/animation-controls.js","../node_modules/framer-motion/dist/es/animation/use-animation.js"],"names":["nodes","insertRule","names","id","options","flatten","React","_taggedTemplateLiteral","strings","raw","slice","Object","freeze","defineProperties","value","_arrayLikeToArray","arr","len","length","i","arr2","Array","_slicedToArray","isArray","Symbol","iterator","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","err","o","minLen","n","prototype","toString","call","constructor","name","from","test","TypeError","MotionConfigContext","createContext","transformPagePoint","p","isStatic","useIsomorphicLayoutEffect","isBrowser","useLayoutEffect","useEffect","ATTRIBUTE_NAMES","TAG_NAMES","BASE","BODY","HEAD","HTML","LINK","META","NOSCRIPT","SCRIPT","STYLE","TITLE","TAG_PROPERTIES","keys","map","REACT_TAG_MAP","accesskey","charset","class","contenteditable","contextmenu","itemprop","tabindex","HELMET_PROPS","HTML_TAG_MAP","reduce","obj","key","SELF_CLOSING_TAGS","HELMET_ATTRIBUTE","_typeof","classCallCheck","instance","Constructor","createClass","target","props","descriptor","enumerable","configurable","writable","defineProperty","protoProps","staticProps","_extends","assign","arguments","source","hasOwnProperty","objectWithoutProperties","indexOf","possibleConstructorReturn","self","ReferenceError","encodeSpecialCharacters","str","encode","String","replace","getTitleFromPropsList","propsList","innermostTitle","getInnermostProperty","innermostTemplate","join","innermostDefaultTitle","getOnChangeClientState","getAttributesFromPropsList","tagType","filter","tagAttrs","current","getBaseTagFromPropsList","primaryAttributes","reverse","innermostBaseTag","tag","lowerCaseAttributeKey","toLowerCase","concat","getTagsFromPropsList","tagName","approvedSeenTags","warn","approvedTags","instanceTags","instanceSeenTags","primaryAttributeKey","attributeKey","forEach","tagUnion","objectAssign","property","rafPolyfill","clock","Date","now","callback","currentTime","setTimeout","cafPolyfill","clearTimeout","requestAnimationFrame","window","bind","webkitRequestAnimationFrame","mozRequestAnimationFrame","global","cancelAnimationFrame","webkitCancelAnimationFrame","mozCancelAnimationFrame","msg","console","_helmetCallback","commitTagChanges","newState","cb","baseTag","bodyAttributes","htmlAttributes","linkTags","metaTags","noscriptTags","onChangeClientState","scriptTags","styleTags","title","titleAttributes","updateAttributes","updateTitle","tagUpdates","updateTags","addedTags","removedTags","_tagUpdates$tagType","newTags","oldTags","flattenArray","possibleArray","attributes","document","elementTag","getElementsByTagName","helmetAttributeString","getAttribute","helmetAttributes","split","attributesToRemove","attributeKeys","attribute","setAttribute","indexToSave","splice","removeAttribute","type","tags","headElement","head","querySelector","tagNodes","querySelectorAll","indexToDelete","newElement","createElement","innerHTML","styleSheet","cssText","appendChild","createTextNode","some","existingTag","index","isEqualNode","parentNode","removeChild","generateElementAttributesAsString","attr","convertElementAttributestoReactProps","initProps","getMethodsForTag","toComponent","_initProps","generateTitleAsReactComponent","attributeString","flattenedTitle","generateTitleAsString","_mappedTag","mappedTag","mappedAttribute","content","dangerouslySetInnerHTML","__html","generateTagsAsReactComponent","attributeHtml","string","tagContent","isSelfClosing","generateTagsAsString","mapStateOnServer","_ref","_ref$title","base","link","meta","noscript","script","style","HelmetExport","Component","_class","_temp","_React$Component","HelmetWrapper","this","apply","subClass","superClass","create","setPrototypeOf","__proto__","inherits","shouldComponentUpdate","nextProps","isEqual","mapNestedChildrenToProps","child","nestedChildren","Error","flattenArrayTypeChildren","_babelHelpers$extends","arrayTypeChildren","newChildProps","mapObjectTypeChildren","_ref2","_babelHelpers$extends2","_babelHelpers$extends3","newProps","mapArrayTypeChildrenToProps","newFlattenedProps","arrayChildName","_babelHelpers$extends4","warnOnInvalidChildren","mapChildrenToProps","children","_this2","Children","_child$props","initAttributes","convertReactPropstoHtmlAttributes","render","_props","set","canUseDOM","propTypes","PropTypes","object","oneOfType","arrayOf","node","defaultTitle","defer","bool","func","titleTemplate","defaultProps","peek","rewind","mappedState","Helmet","withSideEffect","renderStatic","memoize","reactPropsRegex","fn","cache","arg","prop","charCodeAt","cachedSetTimeout","cachedClearTimeout","process","module","exports","defaultSetTimout","defaultClearTimeout","runTimeout","fun","e","currentQueue","queue","draining","queueIndex","cleanUpNextTick","drainQueue","timeout","run","marker","runClearTimeout","Item","array","noop","nextTick","args","browser","env","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","dir","umask","objA","objB","compare","compareContext","ret","keysA","keysB","bHasOwnProperty","idx","valueA","valueB","stylis_min","W","M","d","c","h","a","q","g","k","y","C","m","b","v","x","K","u","l","r","I","t","B","J","f","F","G","N","trim","charAt","substring","ca","O","A","H","X","D","z","da","ea","fa","w","L","P","Y","E","ha","Q","ia","Z","ja","ka","aa","ba","la","ma","R","na","oa","S","U","prefix","use","T","unitlessKeys","animationIterationCount","borderImageOutset","borderImageSlice","borderImageWidth","boxFlex","boxFlexGroup","boxOrdinalGroup","columnCount","columns","flex","flexGrow","flexPositive","flexShrink","flexNegative","flexOrder","gridRow","gridRowEnd","gridRowSpan","gridRowStart","gridColumn","gridColumnEnd","gridColumnSpan","gridColumnStart","msGridRow","msGridRowSpan","msGridColumn","msGridColumnSpan","fontWeight","lineHeight","opacity","order","orphans","tabSize","widows","zIndex","zoom","WebkitLineClamp","fillOpacity","floodOpacity","stopOpacity","strokeDasharray","strokeDashoffset","strokeMiterlimit","strokeOpacity","strokeWidth","ex","require","React__default","_defineProperty","reducePropsToState","handleStateChangeOnClient","WrappedComponent","state","mountedInstances","emitChange","SideEffect","_PureComponent","recordedState","_proto","UNSAFE_componentWillMount","componentDidUpdate","componentWillUnmount","PureComponent","displayName","getDisplayName","hasElementType","Element","hasMap","Map","hasSet","Set","hasArrayBuffer","ArrayBuffer","isView","equal","it","size","entries","has","get","RegExp","flags","valueOf","$$typeof","error","message","match","_objectWithoutProperties","excluded","sourceKeys","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","forwardRef","ref","_ref$color","color","_ref$size","rest","xmlns","width","height","viewBox","fill","stroke","strokeLinecap","strokeLinejoin","x1","y1","x2","y2","number","Menu","featureNames","featureDefinitions","numFeatures","MotionContext","LayoutGroupContext","useVisualElement","visualState","createVisualElement","config","useContext","lazyContext","LazyContext","parent","visualElement","presenceContext","PresenceContext","layoutId","_a","layoutGroupId","useLayoutId","visualElementRef","useRef","renderer","__assign","presenceId","blockInitialAnimation","initial","setProps","isPresent","isPresenceRoot","syncRender","animationState","animateChanges","notifyUnmount","isRefObject","useCreateMotionContext","context","checkIfControllingVariants","animate","isVariantLabel","inherit","getCurrentTreeVariants","useMemo","variantLabelsAsDependency","createMotionComponent","preloadedFeatures","useRender","useVisualState","loadFeatures","externalRef","features","name_1","isEnabled","useFeatures","Provider","useCallback","mount","unmount","useMotionRef","createMotionProxy","createConfig","custom","customMotionComponentConfig","componentCache","Proxy","_target","createHtmlRenderState","transform","transformKeys","transformOrigin","vars","copyRawValuesOnly","isMotionValue","isForcedMotionValue","useStyle","transformTemplate","buildHTMLStyles","enableHardwareAcceleration","useInitialMotionValues","transformValues","useHTMLProps","htmlProps","Boolean","drag","draggable","userSelect","WebkitUserSelect","WebkitTouchCallout","touchAction","validMotionProps","isValidMotionProp","shouldForward","emotionIsPropValid_1","default","startsWith","createSvgRenderState","attrs","useSVGProps","visualProps","buildSVGAttrs","rawStyles","createUseRender","forwardMotionProps","latestValues","isSVGComponent","filteredProps","isDom","filterProps","elementProps","resolveMotionValue","unwrappedValue","isCustomValue","toValue","makeState","scrapeMotionValuesFromProps","createRenderState","onMount","makeLatestValues","renderState","makeUseVisualState","useConstant","scrapeMotionValues","values","motionValues","isControllingVariants","isVariantNode","checkIfVariantNode","variantToSet","isAnimationControls","definition","resolved","resolveVariantFromProps","transitionEnd","transition","__rest","svgMotionConfig","dimensions","getBBox","getBoundingClientRect","totalPathLength","getTotalLength","renderSVG","htmlMotionConfig","createDomMotionConfig","_b","baseConfig","PanSession","event","handlers","_this","startEvent","lastMoveEvent","lastMoveEventInfo","updatePoint","info","getPanInfo","history","isPanStarted","isDistancePastThreshold","distance","offset","point","timestamp","getFrameData","onStart","onMove","handlePointerMove","transformPoint","isMouseEvent","buttons","handlePointerUp","sync","update","end","onEnd","panInfo","isTouchEvent","touches","initialInfo","extractEventInfo","onSessionStart","removeListeners","pipe","addPointerEvent","updateHandlers","cancelSync","subtractPoint","delta","lastDevicePoint","startDevicePoint","velocity","getVelocity","timeDelta","timestampedPoint","lastPoint","secondsToMilliseconds","time","currentVelocity","Infinity","applyConstraints","elastic","min","max","mix","Math","calcRelativeAxisConstraints","axis","calcViewportAxisConstraints","layoutAxis","constraintsAxis","__read","resolveAxisElastic","dragElastic","minLabel","maxLabel","resolvePointElastic","label","isProjecting","projection","shouldResetTransform","collectProjectingAncestors","ancestors","updateLayoutMeasurement","layoutState","getLayoutState","notifyBeforeLayoutMeasure","layout","isHydrated","measureViewportBox","layoutCorrected","copyAxisBox","notifyLayoutMeasure","prevViewportBox","rebaseProjectionTarget","lastPointerEvent","elementDragControls","WeakMap","VisualElementDragControls","isDragging","currentDirection","constraints","axisBox","hasMutatedConstraints","cursorProgress","originPoint","openGlobalLock","panSession","enableLayoutProjection","start","originEvent","_c","snapToCursor","stopMotion","initialPoint","getViewportPointFromEvent","cancelLayout","batchLayout","read","write","addChild","sort","compareByDepth","collectProjectingChildren","tree","__spreadArray","hasManuallySetCursorOrigin","isLayoutDrag","lockProjectionTarget","element","resetTransform","restoreTransform","getAxisMotionValue","isExternalDrag","scheduleUpdateLayoutProjection","eachAxis","progress","axisValue","flushSync","preRender","postRender","resolveDragConstraints","dragPropagation","getGlobalLock","flushLayout","onDragStart","setActive","AnimationType","Drag","dragDirectionLock","lockThreshold","direction","abs","getCurrentDirection","onDirectionLock","updateAxis","onDrag","stop","dragConstraints","resolveRefConstraints","layoutBox","top","left","bottom","right","calcRelativeConstraints","resolveDragElastic","relativeConstraints","rebaseAxisConstraints","onMeasureDragConstraints","constraintsElement","invariant","constraintsBox","getBoundingBox","measuredConstraints","calcViewportConstraints","userConstraints","convertAxisBoxToBoundingBox","convertBoundingBoxToAxisBox","cancelDrag","unlockProjectionTarget","animateDragEnd","onDragEnd","shouldDrag","box","length_1","center","includes","updateAxisMotionValue","updateVisualElementAxis","nextValue","axisLayout","axisLength","axisProgress","calcConstrainedMinPoint","setProjectionTargetAxis","_f","_g","dragMomentum","remainingProps","dragKey","toUpperCase","getValue","_dragX","_dragY","dragTransition","isRelative","projectionParent","getProjectionParent","calcRelativeOffset","removeBoxTransforms","getLatestValues","convertToRelativeProjection","relativeConstraints_1","targetFinal","isNaN","momentumAnimations","bounceStiffness","bounceDamping","inertia","timeConstant","restDelta","restSpeed","startAxisValueAnimation","startLayoutAnimation","Promise","all","then","onDragTransitionEnd","stopLayoutAnimation","currentValue","startAnimation","scalePoint","boxProgress","calcOrigin","updateConstraints","calcPositionFromProgress","onReady","getInstance","stopPointerListener","dragListener","stopResizeListener","addDomEvent","stopLayoutUpdateListener","onLayoutUpdate","prevDragCursor","pan","makeRenderlessComponent","onPan","onPanStart","onPanEnd","onPanSessionStart","hasPanEvents","usePointerEvent","useUnmountEffect","groupDragControls","dragControls","subscribe","pixelsToPercent","pixels","varToken","borderCorrectionDefinition","latest","_layoutState","px","parseFloat","defaultScaleCorrectors","borderRadius","applyTo","borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius","boxShadow","treeScale","original","containsCSSVariables","cssVariables","cssVariableRegex","shadow","complex","parse","template","createTransformer","xScale","scale","yScale","averageScale","output","i_1","cssVariable","Animate","_super","frameTarget","currentAnimationTarget","isAnimating","stopAxisAnimation","isAnimatingTree","origin","originBox","targetBox","visibilityAction","shouldStackAnimate","onComplete","prevParent","safeToRemove","prevParentViewportBox","parentLayout","checkIfParentHasChanged","isProvidedCorrectDataForRelativeSharedLayout","boxHasMoved","hasMoved","animations","targetLength","isTargetLocked","animateAxis","setVisibility","VisibilityAction","Show","notifyLayoutAnimationComplete","__extends","componentDidMount","animateMotionValue","unsubLayoutReady","layoutSafeToRemove","addScaleCorrection","axisIsEqual","layoutProgress","getProjectionAnimationProgress","clearListeners","frame","tweenAxis","unsubscribeProgress","onChange","layoutTransition","getDefaultTransition","defaultLayoutTransition","getValueTransition","isZeroBox","zeroAxis","duration","ease","defaultHandler","layoutReady","notifyLayoutReady","createBatcher","add","flush","presence","Presence","Present","assignProjectionToSnapshot","clear","SharedLayoutContext","FramerTreeLayoutContext","isSharedLayout","forceUpdate","Measure","syncLayout","framerSyncLayout","register","onUnmount","remove","getSnapshotBeforeUpdate","syncUpdate","snapshotViewportBox","layoutAnimations","measureLayout","layoutAnimation","usePresence","featureBundle","gestureAnimations","motion","createDomVisualElement","wrap","rangeSize","useCycle","items","useState","item","setItem","animationControls","hasMounted","pendingAnimations","subscribers","controls","delete","transitionOverride","animations_1","animateVisualElement","resolve","animation","setValues","stopAnimation","useAnimation"],"mappings":"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","file":"static/js/0.90bf1f76.chunk.js","sourcesContent":["// @flow\n\ndeclare var SC_DISABLE_SPEEDY: ?boolean;\ndeclare var __VERSION__: string;\n\nexport const SC_ATTR: string =\n  (typeof process !== 'undefined' && (process.env.REACT_APP_SC_ATTR || process.env.SC_ATTR)) ||\n  'data-styled';\n\nexport const SC_ATTR_ACTIVE = 'active';\nexport const SC_ATTR_VERSION = 'data-styled-version';\nexport const SC_VERSION = __VERSION__;\nexport const SPLITTER = '/*!sc*/\\n';\n\nexport const IS_BROWSER = typeof window !== 'undefined' && 'HTMLElement' in window;\n\nexport const DISABLE_SPEEDY =\n  Boolean(typeof SC_DISABLE_SPEEDY === 'boolean'\n    ? SC_DISABLE_SPEEDY\n    : (typeof process !== 'undefined' && typeof process.env.REACT_APP_SC_DISABLE_SPEEDY !== 'undefined' && process.env.REACT_APP_SC_DISABLE_SPEEDY !== ''\n      ? process.env.REACT_APP_SC_DISABLE_SPEEDY === 'false' ? false : process.env.REACT_APP_SC_DISABLE_SPEEDY\n      : (typeof process !== 'undefined' && typeof process.env.SC_DISABLE_SPEEDY !== 'undefined' && process.env.SC_DISABLE_SPEEDY !== ''\n        ? process.env.SC_DISABLE_SPEEDY === 'false' ? false : process.env.SC_DISABLE_SPEEDY\n        : process.env.NODE_ENV !== 'production'\n      )\n    ));\n\n// Shared empty execution context when generating static styles\nexport const STATIC_EXECUTION_CONTEXT = {};\n","// @flow\n/* eslint-disable no-use-before-define */\n\nimport { makeStyleTag, getSheet } from './dom';\nimport type { SheetOptions, Tag } from './types';\n\n/** Create a CSSStyleSheet-like tag depending on the environment */\nexport const makeTag = ({ isServer, useCSSOMInjection, target }: SheetOptions): Tag => {\n  if (isServer) {\n    return new VirtualTag(target);\n  } else if (useCSSOMInjection) {\n    return new CSSOMTag(target);\n  } else {\n    return new TextTag(target);\n  }\n};\n\nexport class CSSOMTag implements Tag {\n  element: HTMLStyleElement;\n\n  sheet: CSSStyleSheet;\n\n  length: number;\n\n  constructor(target?: HTMLElement) {\n    const element = (this.element = makeStyleTag(target));\n\n    // Avoid Edge bug where empty style elements don't create sheets\n    element.appendChild(document.createTextNode(''));\n\n    this.sheet = getSheet(element);\n    this.length = 0;\n  }\n\n  insertRule(index: number, rule: string): boolean {\n    try {\n      this.sheet.insertRule(rule, index);\n      this.length++;\n      return true;\n    } catch (_error) {\n      return false;\n    }\n  }\n\n  deleteRule(index: number): void {\n    this.sheet.deleteRule(index);\n    this.length--;\n  }\n\n  getRule(index: number): string {\n    const rule = this.sheet.cssRules[index];\n    // Avoid IE11 quirk where cssText is inaccessible on some invalid rules\n    if (rule !== undefined && typeof rule.cssText === 'string') {\n      return rule.cssText;\n    } else {\n      return '';\n    }\n  }\n}\n\n/** A Tag that emulates the CSSStyleSheet API but uses text nodes */\nexport class TextTag implements Tag {\n  element: HTMLStyleElement;\n\n  nodes: NodeList<Node>;\n\n  length: number;\n\n  constructor(target?: HTMLElement) {\n    const element = (this.element = makeStyleTag(target));\n    this.nodes = element.childNodes;\n    this.length = 0;\n  }\n\n  insertRule(index: number, rule: string): boolean {\n    if (index <= this.length && index >= 0) {\n      const node = document.createTextNode(rule);\n      const refNode = this.nodes[index];\n      this.element.insertBefore(node, refNode || null);\n      this.length++;\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  deleteRule(index: number): void {\n    this.element.removeChild(this.nodes[index]);\n    this.length--;\n  }\n\n  getRule(index: number): string {\n    if (index < this.length) {\n      return this.nodes[index].textContent;\n    } else {\n      return '';\n    }\n  }\n}\n\n/** A completely virtual (server-side) Tag that doesn't manipulate the DOM */\nexport class VirtualTag implements Tag {\n  rules: string[];\n\n  length: number;\n\n  constructor(_target?: HTMLElement) {\n    this.rules = [];\n    this.length = 0;\n  }\n\n  insertRule(index: number, rule: string): boolean {\n    if (index <= this.length) {\n      this.rules.splice(index, 0, rule);\n      this.length++;\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  deleteRule(index: number): void {\n    this.rules.splice(index, 1);\n    this.length--;\n  }\n\n  getRule(index: number): string {\n    if (index < this.length) {\n      return this.rules[index];\n    } else {\n      return '';\n    }\n  }\n}\n","// @flow\nimport { DISABLE_SPEEDY, IS_BROWSER } from '../constants';\nimport { EMPTY_OBJECT } from '../utils/empties';\nimport { makeGroupedTag } from './GroupedTag';\nimport { getGroupForId } from './GroupIDAllocator';\nimport { outputSheet, rehydrateSheet } from './Rehydration';\nimport { makeTag } from './Tag';\nimport type { GroupedTag, Sheet, SheetOptions } from './types';\n\nlet SHOULD_REHYDRATE = IS_BROWSER;\n\ntype SheetConstructorArgs = {\n  isServer?: boolean,\n  useCSSOMInjection?: boolean,\n  target?: HTMLElement,\n};\n\ntype GlobalStylesAllocationMap = { [key: string]: number };\ntype NamesAllocationMap = Map<string, Set<string>>;\n\nconst defaultOptions: SheetOptions = {\n  isServer: !IS_BROWSER,\n  useCSSOMInjection: !DISABLE_SPEEDY,\n};\n\n/** Contains the main stylesheet logic for stringification and caching */\nexport default class StyleSheet implements Sheet {\n  gs: GlobalStylesAllocationMap;\n\n  names: NamesAllocationMap;\n\n  options: SheetOptions;\n\n  tag: void | GroupedTag;\n\n  /** Register a group ID to give it an index */\n  static registerId(id: string): number {\n    return getGroupForId(id);\n  }\n\n  constructor(\n    options: SheetConstructorArgs = EMPTY_OBJECT,\n    globalStyles?: GlobalStylesAllocationMap = {},\n    names?: NamesAllocationMap\n  ) {\n    this.options = {\n      ...defaultOptions,\n      ...options,\n    };\n\n    this.gs = globalStyles;\n    this.names = new Map(names);\n\n    // We rehydrate only once and use the sheet that is created first\n    if (!this.options.isServer && IS_BROWSER && SHOULD_REHYDRATE) {\n      SHOULD_REHYDRATE = false;\n      rehydrateSheet(this);\n    }\n  }\n\n  reconstructWithOptions(options: SheetConstructorArgs, withNames?: boolean = true) {\n    return new StyleSheet(\n      { ...this.options, ...options },\n      this.gs,\n      (withNames && this.names) || undefined\n    );\n  }\n\n  allocateGSInstance(id: string) {\n    return (this.gs[id] = (this.gs[id] || 0) + 1);\n  }\n\n  /** Lazily initialises a GroupedTag for when it's actually needed */\n  getTag(): GroupedTag {\n    return this.tag || (this.tag = makeGroupedTag(makeTag(this.options)));\n  }\n\n  /** Check whether a name is known for caching */\n  hasNameForId(id: string, name: string): boolean {\n    return this.names.has(id) && (this.names.get(id): any).has(name);\n  }\n\n  /** Mark a group's name as known for caching */\n  registerName(id: string, name: string) {\n    getGroupForId(id);\n\n    if (!this.names.has(id)) {\n      const groupNames = new Set();\n      groupNames.add(name);\n      this.names.set(id, groupNames);\n    } else {\n      (this.names.get(id): any).add(name);\n    }\n  }\n\n  /** Insert new rules which also marks the name as known */\n  insertRules(id: string, name: string, rules: string[]) {\n    this.registerName(id, name);\n    this.getTag().insertRules(getGroupForId(id), rules);\n  }\n\n  /** Clears all cached names for a given group ID */\n  clearNames(id: string) {\n    if (this.names.has(id)) {\n      (this.names.get(id): any).clear();\n    }\n  }\n\n  /** Clears all rules for a given group ID */\n  clearRules(id: string) {\n    this.getTag().clearGroup(getGroupForId(id));\n    this.clearNames(id);\n  }\n\n  /** Clears the entire tag which deletes all rules but not its names */\n  clearTag() {\n    // NOTE: This does not clear the names, since it's only used during SSR\n    // so that we can continuously output only new rules\n    this.tag = undefined;\n  }\n\n  /** Outputs the current sheet as a CSS string with markers for SSR */\n  toString(): string {\n    return outputSheet(this);\n  }\n}\n","// @flow\nimport isFunction from './isFunction';\nimport isStyledComponent from './isStyledComponent';\nimport type { RuleSet } from '../types';\n\nexport default function isStaticRules(rules: RuleSet): boolean {\n  for (let i = 0; i < rules.length; i += 1) {\n    const rule = rules[i];\n\n    if (isFunction(rule) && !isStyledComponent(rule)) {\n      // functions are allowed to be static if they're just being\n      // used to get the classname of a nested styled component\n      return false;\n    }\n  }\n\n  return true;\n}\n","// @flow\nimport StyleSheet from '../sheet';\nimport { type Stringifier } from '../types';\nimport throwStyledError from '../utils/error';\nimport { masterStylis } from './StyleSheetManager';\n\nexport default class Keyframes {\n  id: string;\n\n  name: string;\n\n  rules: string;\n\n  constructor(name: string, rules: string) {\n    this.name = name;\n    this.id = `sc-keyframes-${name}`;\n    this.rules = rules;\n  }\n\n  inject = (styleSheet: StyleSheet, stylisInstance: Stringifier = masterStylis) => {\n    const resolvedName = this.name + stylisInstance.hash;\n\n    if (!styleSheet.hasNameForId(this.id, resolvedName)) {\n      styleSheet.insertRules(\n        this.id,\n        resolvedName,\n        stylisInstance(this.rules, resolvedName, '@keyframes')\n      );\n    }\n  };\n\n  toString = () => {\n    return throwStyledError(12, String(this.name));\n  };\n\n  getName(stylisInstance: Stringifier = masterStylis) {\n    return this.name + stylisInstance.hash;\n  }\n}\n","// @flow\nimport validAttr from '@emotion/is-prop-valid';\nimport hoist from 'hoist-non-react-statics';\nimport React, { createElement, type Ref, useContext, useDebugValue } from 'react';\nimport { SC_VERSION } from '../constants';\nimport type {\n  Attrs,\n  IStyledComponent,\n  IStyledStatics,\n  RuleSet,\n  ShouldForwardProp,\n  Target,\n} from '../types';\nimport { checkDynamicCreation } from '../utils/checkDynamicCreation';\nimport createWarnTooManyClasses from '../utils/createWarnTooManyClasses';\nimport determineTheme from '../utils/determineTheme';\nimport { EMPTY_ARRAY, EMPTY_OBJECT } from '../utils/empties';\nimport escape from '../utils/escape';\nimport generateComponentId from '../utils/generateComponentId';\nimport generateDisplayName from '../utils/generateDisplayName';\nimport getComponentName from '../utils/getComponentName';\nimport isFunction from '../utils/isFunction';\nimport isStyledComponent from '../utils/isStyledComponent';\nimport isTag from '../utils/isTag';\nimport joinStrings from '../utils/joinStrings';\nimport merge from '../utils/mixinDeep';\nimport ComponentStyle from './ComponentStyle';\nimport { useStyleSheet, useStylis } from './StyleSheetManager';\nimport { ThemeContext } from './ThemeProvider';\n\nconst identifiers = {};\n\n/* We depend on components having unique IDs */\nfunction generateId(displayName?: string, parentComponentId?: string) {\n  const name = typeof displayName !== 'string' ? 'sc' : escape(displayName);\n  // Ensure that no displayName can lead to duplicate componentIds\n  identifiers[name] = (identifiers[name] || 0) + 1;\n\n  const componentId = `${name}-${generateComponentId(\n    // SC_VERSION gives us isolation between multiple runtimes on the page at once\n    // this is improved further with use of the babel plugin \"namespace\" feature\n    SC_VERSION + name + identifiers[name]\n  )}`;\n\n  return parentComponentId ? `${parentComponentId}-${componentId}` : componentId;\n}\n\nfunction useResolvedAttrs<Config>(theme: any = EMPTY_OBJECT, props: Config, attrs: Attrs) {\n  // NOTE: can't memoize this\n  // returns [context, resolvedAttrs]\n  // where resolvedAttrs is only the things injected by the attrs themselves\n  const context = { ...props, theme };\n  const resolvedAttrs = {};\n\n  attrs.forEach(attrDef => {\n    let resolvedAttrDef = attrDef;\n    let key;\n\n    if (isFunction(resolvedAttrDef)) {\n      resolvedAttrDef = resolvedAttrDef(context);\n    }\n\n    /* eslint-disable guard-for-in */\n    for (key in resolvedAttrDef) {\n      context[key] = resolvedAttrs[key] =\n        key === 'className'\n          ? joinStrings(resolvedAttrs[key], resolvedAttrDef[key])\n          : resolvedAttrDef[key];\n    }\n    /* eslint-enable guard-for-in */\n  });\n\n  return [context, resolvedAttrs];\n}\n\nfunction useInjectedStyle<T>(\n  componentStyle: ComponentStyle,\n  isStatic: boolean,\n  resolvedAttrs: T,\n  warnTooManyClasses?: $Call<typeof createWarnTooManyClasses, string, string>\n) {\n  const styleSheet = useStyleSheet();\n  const stylis = useStylis();\n\n  const className = isStatic\n    ? componentStyle.generateAndInjectStyles(EMPTY_OBJECT, styleSheet, stylis)\n    : componentStyle.generateAndInjectStyles(resolvedAttrs, styleSheet, stylis);\n\n  // eslint-disable-next-line react-hooks/rules-of-hooks\n  if (process.env.NODE_ENV !== 'production') useDebugValue(className);\n\n  if (process.env.NODE_ENV !== 'production' && !isStatic && warnTooManyClasses) {\n    warnTooManyClasses(className);\n  }\n\n  return className;\n}\n\nfunction useStyledComponentImpl(\n  forwardedComponent: IStyledComponent,\n  props: Object,\n  forwardedRef: Ref<any>,\n  isStatic: boolean\n) {\n  const {\n    attrs: componentAttrs,\n    componentStyle,\n    defaultProps,\n    foldedComponentIds,\n    shouldForwardProp,\n    styledComponentId,\n    target,\n  } = forwardedComponent;\n\n  // eslint-disable-next-line react-hooks/rules-of-hooks\n  if (process.env.NODE_ENV !== 'production') useDebugValue(styledComponentId);\n\n  // NOTE: the non-hooks version only subscribes to this when !componentStyle.isStatic,\n  // but that'd be against the rules-of-hooks. We could be naughty and do it anyway as it\n  // should be an immutable value, but behave for now.\n  const theme = determineTheme(props, useContext(ThemeContext), defaultProps);\n\n  const [context, attrs] = useResolvedAttrs(theme || EMPTY_OBJECT, props, componentAttrs);\n\n  const generatedClassName = useInjectedStyle(\n    componentStyle,\n    isStatic,\n    context,\n    process.env.NODE_ENV !== 'production' ? forwardedComponent.warnTooManyClasses : undefined\n  );\n\n  const refToForward = forwardedRef;\n\n  const elementToBeCreated: Target = attrs.$as || props.$as || attrs.as || props.as || target;\n\n  const isTargetTag = isTag(elementToBeCreated);\n  const computedProps = attrs !== props ? { ...props, ...attrs } : props;\n  const propsForElement = {};\n\n  // eslint-disable-next-line guard-for-in\n  for (const key in computedProps) {\n    if (key[0] === '$' || key === 'as') continue;\n    else if (key === 'forwardedAs') {\n      propsForElement.as = computedProps[key];\n    } else if (\n      shouldForwardProp\n        ? shouldForwardProp(key, validAttr, elementToBeCreated)\n        : isTargetTag\n        ? validAttr(key)\n        : true\n    ) {\n      // Don't pass through non HTML tags through to HTML elements\n      propsForElement[key] = computedProps[key];\n    }\n  }\n\n  if (props.style && attrs.style !== props.style) {\n    propsForElement.style = { ...props.style, ...attrs.style };\n  }\n\n  propsForElement.className = Array.prototype\n    .concat(\n      foldedComponentIds,\n      styledComponentId,\n      generatedClassName !== styledComponentId ? generatedClassName : null,\n      props.className,\n      attrs.className\n    )\n    .filter(Boolean)\n    .join(' ');\n\n  propsForElement.ref = refToForward;\n\n  return createElement(elementToBeCreated, propsForElement);\n}\n\nexport default function createStyledComponent(\n  target: $PropertyType<IStyledComponent, 'target'>,\n  options: {\n    attrs?: Attrs,\n    componentId: string,\n    displayName?: string,\n    parentComponentId?: string,\n    shouldForwardProp?: ShouldForwardProp,\n  },\n  rules: RuleSet\n) {\n  const isTargetStyledComp = isStyledComponent(target);\n  const isCompositeComponent = !isTag(target);\n\n  const {\n    attrs = EMPTY_ARRAY,\n    componentId = generateId(options.displayName, options.parentComponentId),\n    displayName = generateDisplayName(target),\n  } = options;\n\n  const styledComponentId =\n    options.displayName && options.componentId\n      ? `${escape(options.displayName)}-${options.componentId}`\n      : options.componentId || componentId;\n\n  // fold the underlying StyledComponent attrs up (implicit extend)\n  const finalAttrs =\n    isTargetStyledComp && ((target: any): IStyledComponent).attrs\n      ? Array.prototype.concat(((target: any): IStyledComponent).attrs, attrs).filter(Boolean)\n      : attrs;\n\n  // eslint-disable-next-line prefer-destructuring\n  let shouldForwardProp = options.shouldForwardProp;\n\n  if (isTargetStyledComp && target.shouldForwardProp) {\n    if (options.shouldForwardProp) {\n      // compose nested shouldForwardProp calls\n      shouldForwardProp = (prop, filterFn, elementToBeCreated) =>\n        ((((target: any): IStyledComponent).shouldForwardProp: any): ShouldForwardProp)(\n          prop,\n          filterFn,\n          elementToBeCreated\n        ) &&\n        ((options.shouldForwardProp: any): ShouldForwardProp)(prop, filterFn, elementToBeCreated);\n    } else {\n      // eslint-disable-next-line prefer-destructuring\n      shouldForwardProp = ((target: any): IStyledComponent).shouldForwardProp;\n    }\n  }\n\n  const componentStyle = new ComponentStyle(\n    rules,\n    styledComponentId,\n    isTargetStyledComp ? ((target: Object).componentStyle: ComponentStyle) : undefined\n  );\n\n  // statically styled-components don't need to build an execution context object,\n  // and shouldn't be increasing the number of class names\n  const isStatic = componentStyle.isStatic && attrs.length === 0;\n\n  /**\n   * forwardRef creates a new interim component, which we'll take advantage of\n   * instead of extending ParentComponent to create _another_ interim class\n   */\n  let WrappedStyledComponent: IStyledComponent;\n\n  const forwardRef = (props, ref) =>\n    // eslint-disable-next-line\n    useStyledComponentImpl(WrappedStyledComponent, props, ref, isStatic);\n\n  forwardRef.displayName = displayName;\n\n  WrappedStyledComponent = ((React.forwardRef(forwardRef): any): IStyledComponent);\n  WrappedStyledComponent.attrs = finalAttrs;\n  WrappedStyledComponent.componentStyle = componentStyle;\n  WrappedStyledComponent.displayName = displayName;\n  WrappedStyledComponent.shouldForwardProp = shouldForwardProp;\n\n  // this static is used to preserve the cascade of static classes for component selector\n  // purposes; this is especially important with usage of the css prop\n  WrappedStyledComponent.foldedComponentIds = isTargetStyledComp\n    ? Array.prototype.concat(\n        ((target: any): IStyledComponent).foldedComponentIds,\n        ((target: any): IStyledComponent).styledComponentId\n      )\n    : EMPTY_ARRAY;\n\n  WrappedStyledComponent.styledComponentId = styledComponentId;\n\n  // fold the underlying StyledComponent target up since we folded the styles\n  WrappedStyledComponent.target = isTargetStyledComp\n    ? ((target: any): IStyledComponent).target\n    : target;\n\n  WrappedStyledComponent.withComponent = function withComponent(tag: Target) {\n    const { componentId: previousComponentId, ...optionsToCopy } = options;\n\n    const newComponentId =\n      previousComponentId &&\n      `${previousComponentId}-${isTag(tag) ? tag : escape(getComponentName(tag))}`;\n\n    const newOptions = {\n      ...optionsToCopy,\n      attrs: finalAttrs,\n      componentId: newComponentId,\n    };\n\n    return createStyledComponent(tag, newOptions, rules);\n  };\n\n  Object.defineProperty(WrappedStyledComponent, 'defaultProps', {\n    get() {\n      return this._foldedDefaultProps;\n    },\n\n    set(obj) {\n      this._foldedDefaultProps = isTargetStyledComp\n        ? merge({}, ((target: any): IStyledComponent).defaultProps, obj)\n        : obj;\n    },\n  });\n\n  if (process.env.NODE_ENV !== 'production') {\n    checkDynamicCreation(displayName, styledComponentId);\n\n    WrappedStyledComponent.warnTooManyClasses = createWarnTooManyClasses(\n      displayName,\n      styledComponentId\n    );\n  }\n\n  WrappedStyledComponent.toString = () => `.${WrappedStyledComponent.styledComponentId}`;\n\n  if (isCompositeComponent) {\n    hoist<\n      IStyledStatics,\n      $PropertyType<IStyledComponent, 'target'>,\n      { [key: $Keys<IStyledStatics>]: true }\n    >(WrappedStyledComponent, ((target: any): $PropertyType<IStyledComponent, 'target'>), {\n      // all SC-specific things should not be hoisted\n      attrs: true,\n      componentStyle: true,\n      displayName: true,\n      foldedComponentIds: true,\n      shouldForwardProp: true,\n      styledComponentId: true,\n      target: true,\n      withComponent: true,\n    });\n  }\n\n  return WrappedStyledComponent;\n}\n","// @flow\nimport StyleSheet from '../sheet';\nimport type { RuleSet, Stringifier } from '../types';\nimport flatten from '../utils/flatten';\nimport isStaticRules from '../utils/isStaticRules';\n\nexport default class GlobalStyle {\n  componentId: string;\n\n  isStatic: boolean;\n\n  rules: RuleSet;\n\n  constructor(rules: RuleSet, componentId: string) {\n    this.rules = rules;\n    this.componentId = componentId;\n    this.isStatic = isStaticRules(rules);\n\n    // pre-register the first instance to ensure global styles\n    // load before component ones\n    StyleSheet.registerId(this.componentId + 1);\n  }\n\n  createStyles(\n    instance: number,\n    executionContext: Object,\n    styleSheet: StyleSheet,\n    stylis: Stringifier\n  ) {\n    const flatCSS = flatten(this.rules, executionContext, styleSheet, stylis);\n    const css = stylis(flatCSS.join(''), '');\n    const id = this.componentId + instance;\n\n    // NOTE: We use the id as a name as well, since these rules never change\n    styleSheet.insertRules(id, id, css);\n  }\n\n  removeStyles(instance: number, styleSheet: StyleSheet) {\n    styleSheet.clearRules(this.componentId + instance);\n  }\n\n  renderStyles(\n    instance: number,\n    executionContext: Object,\n    styleSheet: StyleSheet,\n    stylis: Stringifier\n  ) {\n    if (instance > 2) StyleSheet.registerId(this.componentId + instance);\n\n    // NOTE: Remove old styles, then inject the new ones\n    this.removeStyles(instance, styleSheet);\n    this.createStyles(instance, executionContext, styleSheet, stylis);\n  }\n}\n","// @flow\n/* eslint-disable no-underscore-dangle */\nimport React from 'react';\nimport { IS_BROWSER, SC_ATTR, SC_ATTR_VERSION, SC_VERSION } from '../constants';\nimport throwStyledError from '../utils/error';\nimport getNonce from '../utils/nonce';\nimport StyleSheet from '../sheet';\nimport StyleSheetManager from './StyleSheetManager';\n\ndeclare var __SERVER__: boolean;\n\nconst CLOSING_TAG_R = /^\\s*<\\/[a-z]/i;\n\nexport default class ServerStyleSheet {\n  isStreaming: boolean;\n\n  instance: StyleSheet;\n\n  sealed: boolean;\n\n  constructor() {\n    this.instance = new StyleSheet({ isServer: true });\n    this.sealed = false;\n  }\n\n  _emitSheetCSS = (): string => {\n    const css = this.instance.toString();\n    const nonce = getNonce();\n    const attrs = [nonce && `nonce=\"${nonce}\"`, `${SC_ATTR}=\"true\"`, `${SC_ATTR_VERSION}=\"${SC_VERSION}\"`];\n    const htmlAttr = attrs.filter(Boolean).join(' ');\n\n    return `<style ${htmlAttr}>${css}</style>`;\n  };\n\n  collectStyles(children: any) {\n    if (this.sealed) {\n      return throwStyledError(2);\n    }\n\n    return <StyleSheetManager sheet={this.instance}>{children}</StyleSheetManager>;\n  }\n\n  getStyleTags = (): string => {\n    if (this.sealed) {\n      return throwStyledError(2);\n    }\n\n    return this._emitSheetCSS();\n  };\n\n  getStyleElement = () => {\n    if (this.sealed) {\n      return throwStyledError(2);\n    }\n\n    const props = {\n      [SC_ATTR]: '',\n      [SC_ATTR_VERSION]: SC_VERSION,\n      dangerouslySetInnerHTML: {\n        __html: this.instance.toString(),\n      },\n    };\n\n    const nonce = getNonce();\n    if (nonce) {\n      (props: any).nonce = nonce;\n    }\n\n    // v4 returned an array for this fn, so we'll do the same for v5 for backward compat\n    return [<style {...props} key=\"sc-0-0\" />];\n  };\n\n  // eslint-disable-next-line consistent-return\n  interleaveWithNodeStream(input: any) {\n    if (!__SERVER__ || IS_BROWSER) {\n      return throwStyledError(3);\n    } else if (this.sealed) {\n      return throwStyledError(2);\n    }\n\n    if (__SERVER__) {\n      this.seal();\n\n      // eslint-disable-next-line global-require\n      const { Readable, Transform } = require('stream');\n\n      const readableStream: Readable = input;\n      const { instance: sheet, _emitSheetCSS } = this;\n\n      const transformer = new Transform({\n        transform: function appendStyleChunks(chunk, /* encoding */ _, callback) {\n          // Get the chunk and retrieve the sheet's CSS as an HTML chunk,\n          // then reset its rules so we get only new ones for the next chunk\n          const renderedHtml = chunk.toString();\n          const html = _emitSheetCSS();\n\n          sheet.clearTag();\n\n          // prepend style html to chunk, unless the start of the chunk is a\n          // closing tag in which case append right after that\n          if (CLOSING_TAG_R.test(renderedHtml)) {\n            const endOfClosingTag = renderedHtml.indexOf('>') + 1;\n            const before = renderedHtml.slice(0, endOfClosingTag);\n            const after = renderedHtml.slice(endOfClosingTag);\n\n            this.push(before + html + after);\n          } else {\n            this.push(html + renderedHtml);\n          }\n\n          callback();\n        },\n      });\n\n      readableStream.on('error', err => {\n        // forward the error to the transform stream\n        transformer.emit('error', err);\n      });\n\n      return readableStream.pipe(transformer);\n    }\n  }\n\n  seal = () => {\n    this.sealed = true;\n  };\n}\n","export default function _taggedTemplateLiteral(strings, raw) {\n  if (!raw) {\n    raw = strings.slice(0);\n  }\n\n  return Object.freeze(Object.defineProperties(strings, {\n    raw: {\n      value: Object.freeze(raw)\n    }\n  }));\n}","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayWithHoles from \"@babel/runtime/helpers/esm/arrayWithHoles\";\nimport iterableToArrayLimit from \"@babel/runtime/helpers/esm/iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableRest from \"@babel/runtime/helpers/esm/nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import { createContext } from 'react';\n\n/**\n * @public\n */\nvar MotionConfigContext = createContext({\n    transformPagePoint: function (p) { return p; },\n    isStatic: false,\n});\n\nexport { MotionConfigContext };\n","import { useLayoutEffect, useEffect } from 'react';\nimport { isBrowser } from './is-browser.js';\n\nvar useIsomorphicLayoutEffect = isBrowser ? useLayoutEffect : useEffect;\n\nexport { useIsomorphicLayoutEffect };\n","import PropTypes from 'prop-types';\nimport withSideEffect from 'react-side-effect';\nimport isEqual from 'react-fast-compare';\nimport React from 'react';\nimport objectAssign from 'object-assign';\n\nvar ATTRIBUTE_NAMES = {\n    BODY: \"bodyAttributes\",\n    HTML: \"htmlAttributes\",\n    TITLE: \"titleAttributes\"\n};\n\nvar TAG_NAMES = {\n    BASE: \"base\",\n    BODY: \"body\",\n    HEAD: \"head\",\n    HTML: \"html\",\n    LINK: \"link\",\n    META: \"meta\",\n    NOSCRIPT: \"noscript\",\n    SCRIPT: \"script\",\n    STYLE: \"style\",\n    TITLE: \"title\"\n};\n\nvar VALID_TAG_NAMES = Object.keys(TAG_NAMES).map(function (name) {\n    return TAG_NAMES[name];\n});\n\nvar TAG_PROPERTIES = {\n    CHARSET: \"charset\",\n    CSS_TEXT: \"cssText\",\n    HREF: \"href\",\n    HTTPEQUIV: \"http-equiv\",\n    INNER_HTML: \"innerHTML\",\n    ITEM_PROP: \"itemprop\",\n    NAME: \"name\",\n    PROPERTY: \"property\",\n    REL: \"rel\",\n    SRC: \"src\",\n    TARGET: \"target\"\n};\n\nvar REACT_TAG_MAP = {\n    accesskey: \"accessKey\",\n    charset: \"charSet\",\n    class: \"className\",\n    contenteditable: \"contentEditable\",\n    contextmenu: \"contextMenu\",\n    \"http-equiv\": \"httpEquiv\",\n    itemprop: \"itemProp\",\n    tabindex: \"tabIndex\"\n};\n\nvar HELMET_PROPS = {\n    DEFAULT_TITLE: \"defaultTitle\",\n    DEFER: \"defer\",\n    ENCODE_SPECIAL_CHARACTERS: \"encodeSpecialCharacters\",\n    ON_CHANGE_CLIENT_STATE: \"onChangeClientState\",\n    TITLE_TEMPLATE: \"titleTemplate\"\n};\n\nvar HTML_TAG_MAP = Object.keys(REACT_TAG_MAP).reduce(function (obj, key) {\n    obj[REACT_TAG_MAP[key]] = key;\n    return obj;\n}, {});\n\nvar SELF_CLOSING_TAGS = [TAG_NAMES.NOSCRIPT, TAG_NAMES.SCRIPT, TAG_NAMES.STYLE];\n\nvar HELMET_ATTRIBUTE = \"data-react-helmet\";\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\nvar classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar inherits = function (subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n};\n\nvar objectWithoutProperties = function (obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n};\n\nvar possibleConstructorReturn = function (self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n};\n\nvar encodeSpecialCharacters = function encodeSpecialCharacters(str) {\n    var encode = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n    if (encode === false) {\n        return String(str);\n    }\n\n    return String(str).replace(/&/g, \"&amp;\").replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\").replace(/\"/g, \"&quot;\").replace(/'/g, \"&#x27;\");\n};\n\nvar getTitleFromPropsList = function getTitleFromPropsList(propsList) {\n    var innermostTitle = getInnermostProperty(propsList, TAG_NAMES.TITLE);\n    var innermostTemplate = getInnermostProperty(propsList, HELMET_PROPS.TITLE_TEMPLATE);\n\n    if (innermostTemplate && innermostTitle) {\n        // use function arg to avoid need to escape $ characters\n        return innermostTemplate.replace(/%s/g, function () {\n            return Array.isArray(innermostTitle) ? innermostTitle.join(\"\") : innermostTitle;\n        });\n    }\n\n    var innermostDefaultTitle = getInnermostProperty(propsList, HELMET_PROPS.DEFAULT_TITLE);\n\n    return innermostTitle || innermostDefaultTitle || undefined;\n};\n\nvar getOnChangeClientState = function getOnChangeClientState(propsList) {\n    return getInnermostProperty(propsList, HELMET_PROPS.ON_CHANGE_CLIENT_STATE) || function () {};\n};\n\nvar getAttributesFromPropsList = function getAttributesFromPropsList(tagType, propsList) {\n    return propsList.filter(function (props) {\n        return typeof props[tagType] !== \"undefined\";\n    }).map(function (props) {\n        return props[tagType];\n    }).reduce(function (tagAttrs, current) {\n        return _extends({}, tagAttrs, current);\n    }, {});\n};\n\nvar getBaseTagFromPropsList = function getBaseTagFromPropsList(primaryAttributes, propsList) {\n    return propsList.filter(function (props) {\n        return typeof props[TAG_NAMES.BASE] !== \"undefined\";\n    }).map(function (props) {\n        return props[TAG_NAMES.BASE];\n    }).reverse().reduce(function (innermostBaseTag, tag) {\n        if (!innermostBaseTag.length) {\n            var keys = Object.keys(tag);\n\n            for (var i = 0; i < keys.length; i++) {\n                var attributeKey = keys[i];\n                var lowerCaseAttributeKey = attributeKey.toLowerCase();\n\n                if (primaryAttributes.indexOf(lowerCaseAttributeKey) !== -1 && tag[lowerCaseAttributeKey]) {\n                    return innermostBaseTag.concat(tag);\n                }\n            }\n        }\n\n        return innermostBaseTag;\n    }, []);\n};\n\nvar getTagsFromPropsList = function getTagsFromPropsList(tagName, primaryAttributes, propsList) {\n    // Calculate list of tags, giving priority innermost component (end of the propslist)\n    var approvedSeenTags = {};\n\n    return propsList.filter(function (props) {\n        if (Array.isArray(props[tagName])) {\n            return true;\n        }\n        if (typeof props[tagName] !== \"undefined\") {\n            warn(\"Helmet: \" + tagName + \" should be of type \\\"Array\\\". Instead found type \\\"\" + _typeof(props[tagName]) + \"\\\"\");\n        }\n        return false;\n    }).map(function (props) {\n        return props[tagName];\n    }).reverse().reduce(function (approvedTags, instanceTags) {\n        var instanceSeenTags = {};\n\n        instanceTags.filter(function (tag) {\n            var primaryAttributeKey = void 0;\n            var keys = Object.keys(tag);\n            for (var i = 0; i < keys.length; i++) {\n                var attributeKey = keys[i];\n                var lowerCaseAttributeKey = attributeKey.toLowerCase();\n\n                // Special rule with link tags, since rel and href are both primary tags, rel takes priority\n                if (primaryAttributes.indexOf(lowerCaseAttributeKey) !== -1 && !(primaryAttributeKey === TAG_PROPERTIES.REL && tag[primaryAttributeKey].toLowerCase() === \"canonical\") && !(lowerCaseAttributeKey === TAG_PROPERTIES.REL && tag[lowerCaseAttributeKey].toLowerCase() === \"stylesheet\")) {\n                    primaryAttributeKey = lowerCaseAttributeKey;\n                }\n                // Special case for innerHTML which doesn't work lowercased\n                if (primaryAttributes.indexOf(attributeKey) !== -1 && (attributeKey === TAG_PROPERTIES.INNER_HTML || attributeKey === TAG_PROPERTIES.CSS_TEXT || attributeKey === TAG_PROPERTIES.ITEM_PROP)) {\n                    primaryAttributeKey = attributeKey;\n                }\n            }\n\n            if (!primaryAttributeKey || !tag[primaryAttributeKey]) {\n                return false;\n            }\n\n            var value = tag[primaryAttributeKey].toLowerCase();\n\n            if (!approvedSeenTags[primaryAttributeKey]) {\n                approvedSeenTags[primaryAttributeKey] = {};\n            }\n\n            if (!instanceSeenTags[primaryAttributeKey]) {\n                instanceSeenTags[primaryAttributeKey] = {};\n            }\n\n            if (!approvedSeenTags[primaryAttributeKey][value]) {\n                instanceSeenTags[primaryAttributeKey][value] = true;\n                return true;\n            }\n\n            return false;\n        }).reverse().forEach(function (tag) {\n            return approvedTags.push(tag);\n        });\n\n        // Update seen tags with tags from this instance\n        var keys = Object.keys(instanceSeenTags);\n        for (var i = 0; i < keys.length; i++) {\n            var attributeKey = keys[i];\n            var tagUnion = objectAssign({}, approvedSeenTags[attributeKey], instanceSeenTags[attributeKey]);\n\n            approvedSeenTags[attributeKey] = tagUnion;\n        }\n\n        return approvedTags;\n    }, []).reverse();\n};\n\nvar getInnermostProperty = function getInnermostProperty(propsList, property) {\n    for (var i = propsList.length - 1; i >= 0; i--) {\n        var props = propsList[i];\n\n        if (props.hasOwnProperty(property)) {\n            return props[property];\n        }\n    }\n\n    return null;\n};\n\nvar reducePropsToState = function reducePropsToState(propsList) {\n    return {\n        baseTag: getBaseTagFromPropsList([TAG_PROPERTIES.HREF, TAG_PROPERTIES.TARGET], propsList),\n        bodyAttributes: getAttributesFromPropsList(ATTRIBUTE_NAMES.BODY, propsList),\n        defer: getInnermostProperty(propsList, HELMET_PROPS.DEFER),\n        encode: getInnermostProperty(propsList, HELMET_PROPS.ENCODE_SPECIAL_CHARACTERS),\n        htmlAttributes: getAttributesFromPropsList(ATTRIBUTE_NAMES.HTML, propsList),\n        linkTags: getTagsFromPropsList(TAG_NAMES.LINK, [TAG_PROPERTIES.REL, TAG_PROPERTIES.HREF], propsList),\n        metaTags: getTagsFromPropsList(TAG_NAMES.META, [TAG_PROPERTIES.NAME, TAG_PROPERTIES.CHARSET, TAG_PROPERTIES.HTTPEQUIV, TAG_PROPERTIES.PROPERTY, TAG_PROPERTIES.ITEM_PROP], propsList),\n        noscriptTags: getTagsFromPropsList(TAG_NAMES.NOSCRIPT, [TAG_PROPERTIES.INNER_HTML], propsList),\n        onChangeClientState: getOnChangeClientState(propsList),\n        scriptTags: getTagsFromPropsList(TAG_NAMES.SCRIPT, [TAG_PROPERTIES.SRC, TAG_PROPERTIES.INNER_HTML], propsList),\n        styleTags: getTagsFromPropsList(TAG_NAMES.STYLE, [TAG_PROPERTIES.CSS_TEXT], propsList),\n        title: getTitleFromPropsList(propsList),\n        titleAttributes: getAttributesFromPropsList(ATTRIBUTE_NAMES.TITLE, propsList)\n    };\n};\n\nvar rafPolyfill = function () {\n    var clock = Date.now();\n\n    return function (callback) {\n        var currentTime = Date.now();\n\n        if (currentTime - clock > 16) {\n            clock = currentTime;\n            callback(currentTime);\n        } else {\n            setTimeout(function () {\n                rafPolyfill(callback);\n            }, 0);\n        }\n    };\n}();\n\nvar cafPolyfill = function cafPolyfill(id) {\n    return clearTimeout(id);\n};\n\nvar requestAnimationFrame = typeof window !== \"undefined\" ? window.requestAnimationFrame && window.requestAnimationFrame.bind(window) || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || rafPolyfill : global.requestAnimationFrame || rafPolyfill;\n\nvar cancelAnimationFrame = typeof window !== \"undefined\" ? window.cancelAnimationFrame || window.webkitCancelAnimationFrame || window.mozCancelAnimationFrame || cafPolyfill : global.cancelAnimationFrame || cafPolyfill;\n\nvar warn = function warn(msg) {\n    return console && typeof console.warn === \"function\" && console.warn(msg);\n};\n\nvar _helmetCallback = null;\n\nvar handleClientStateChange = function handleClientStateChange(newState) {\n    if (_helmetCallback) {\n        cancelAnimationFrame(_helmetCallback);\n    }\n\n    if (newState.defer) {\n        _helmetCallback = requestAnimationFrame(function () {\n            commitTagChanges(newState, function () {\n                _helmetCallback = null;\n            });\n        });\n    } else {\n        commitTagChanges(newState);\n        _helmetCallback = null;\n    }\n};\n\nvar commitTagChanges = function commitTagChanges(newState, cb) {\n    var baseTag = newState.baseTag,\n        bodyAttributes = newState.bodyAttributes,\n        htmlAttributes = newState.htmlAttributes,\n        linkTags = newState.linkTags,\n        metaTags = newState.metaTags,\n        noscriptTags = newState.noscriptTags,\n        onChangeClientState = newState.onChangeClientState,\n        scriptTags = newState.scriptTags,\n        styleTags = newState.styleTags,\n        title = newState.title,\n        titleAttributes = newState.titleAttributes;\n\n    updateAttributes(TAG_NAMES.BODY, bodyAttributes);\n    updateAttributes(TAG_NAMES.HTML, htmlAttributes);\n\n    updateTitle(title, titleAttributes);\n\n    var tagUpdates = {\n        baseTag: updateTags(TAG_NAMES.BASE, baseTag),\n        linkTags: updateTags(TAG_NAMES.LINK, linkTags),\n        metaTags: updateTags(TAG_NAMES.META, metaTags),\n        noscriptTags: updateTags(TAG_NAMES.NOSCRIPT, noscriptTags),\n        scriptTags: updateTags(TAG_NAMES.SCRIPT, scriptTags),\n        styleTags: updateTags(TAG_NAMES.STYLE, styleTags)\n    };\n\n    var addedTags = {};\n    var removedTags = {};\n\n    Object.keys(tagUpdates).forEach(function (tagType) {\n        var _tagUpdates$tagType = tagUpdates[tagType],\n            newTags = _tagUpdates$tagType.newTags,\n            oldTags = _tagUpdates$tagType.oldTags;\n\n\n        if (newTags.length) {\n            addedTags[tagType] = newTags;\n        }\n        if (oldTags.length) {\n            removedTags[tagType] = tagUpdates[tagType].oldTags;\n        }\n    });\n\n    cb && cb();\n\n    onChangeClientState(newState, addedTags, removedTags);\n};\n\nvar flattenArray = function flattenArray(possibleArray) {\n    return Array.isArray(possibleArray) ? possibleArray.join(\"\") : possibleArray;\n};\n\nvar updateTitle = function updateTitle(title, attributes) {\n    if (typeof title !== \"undefined\" && document.title !== title) {\n        document.title = flattenArray(title);\n    }\n\n    updateAttributes(TAG_NAMES.TITLE, attributes);\n};\n\nvar updateAttributes = function updateAttributes(tagName, attributes) {\n    var elementTag = document.getElementsByTagName(tagName)[0];\n\n    if (!elementTag) {\n        return;\n    }\n\n    var helmetAttributeString = elementTag.getAttribute(HELMET_ATTRIBUTE);\n    var helmetAttributes = helmetAttributeString ? helmetAttributeString.split(\",\") : [];\n    var attributesToRemove = [].concat(helmetAttributes);\n    var attributeKeys = Object.keys(attributes);\n\n    for (var i = 0; i < attributeKeys.length; i++) {\n        var attribute = attributeKeys[i];\n        var value = attributes[attribute] || \"\";\n\n        if (elementTag.getAttribute(attribute) !== value) {\n            elementTag.setAttribute(attribute, value);\n        }\n\n        if (helmetAttributes.indexOf(attribute) === -1) {\n            helmetAttributes.push(attribute);\n        }\n\n        var indexToSave = attributesToRemove.indexOf(attribute);\n        if (indexToSave !== -1) {\n            attributesToRemove.splice(indexToSave, 1);\n        }\n    }\n\n    for (var _i = attributesToRemove.length - 1; _i >= 0; _i--) {\n        elementTag.removeAttribute(attributesToRemove[_i]);\n    }\n\n    if (helmetAttributes.length === attributesToRemove.length) {\n        elementTag.removeAttribute(HELMET_ATTRIBUTE);\n    } else if (elementTag.getAttribute(HELMET_ATTRIBUTE) !== attributeKeys.join(\",\")) {\n        elementTag.setAttribute(HELMET_ATTRIBUTE, attributeKeys.join(\",\"));\n    }\n};\n\nvar updateTags = function updateTags(type, tags) {\n    var headElement = document.head || document.querySelector(TAG_NAMES.HEAD);\n    var tagNodes = headElement.querySelectorAll(type + \"[\" + HELMET_ATTRIBUTE + \"]\");\n    var oldTags = Array.prototype.slice.call(tagNodes);\n    var newTags = [];\n    var indexToDelete = void 0;\n\n    if (tags && tags.length) {\n        tags.forEach(function (tag) {\n            var newElement = document.createElement(type);\n\n            for (var attribute in tag) {\n                if (tag.hasOwnProperty(attribute)) {\n                    if (attribute === TAG_PROPERTIES.INNER_HTML) {\n                        newElement.innerHTML = tag.innerHTML;\n                    } else if (attribute === TAG_PROPERTIES.CSS_TEXT) {\n                        if (newElement.styleSheet) {\n                            newElement.styleSheet.cssText = tag.cssText;\n                        } else {\n                            newElement.appendChild(document.createTextNode(tag.cssText));\n                        }\n                    } else {\n                        var value = typeof tag[attribute] === \"undefined\" ? \"\" : tag[attribute];\n                        newElement.setAttribute(attribute, value);\n                    }\n                }\n            }\n\n            newElement.setAttribute(HELMET_ATTRIBUTE, \"true\");\n\n            // Remove a duplicate tag from domTagstoRemove, so it isn't cleared.\n            if (oldTags.some(function (existingTag, index) {\n                indexToDelete = index;\n                return newElement.isEqualNode(existingTag);\n            })) {\n                oldTags.splice(indexToDelete, 1);\n            } else {\n                newTags.push(newElement);\n            }\n        });\n    }\n\n    oldTags.forEach(function (tag) {\n        return tag.parentNode.removeChild(tag);\n    });\n    newTags.forEach(function (tag) {\n        return headElement.appendChild(tag);\n    });\n\n    return {\n        oldTags: oldTags,\n        newTags: newTags\n    };\n};\n\nvar generateElementAttributesAsString = function generateElementAttributesAsString(attributes) {\n    return Object.keys(attributes).reduce(function (str, key) {\n        var attr = typeof attributes[key] !== \"undefined\" ? key + \"=\\\"\" + attributes[key] + \"\\\"\" : \"\" + key;\n        return str ? str + \" \" + attr : attr;\n    }, \"\");\n};\n\nvar generateTitleAsString = function generateTitleAsString(type, title, attributes, encode) {\n    var attributeString = generateElementAttributesAsString(attributes);\n    var flattenedTitle = flattenArray(title);\n    return attributeString ? \"<\" + type + \" \" + HELMET_ATTRIBUTE + \"=\\\"true\\\" \" + attributeString + \">\" + encodeSpecialCharacters(flattenedTitle, encode) + \"</\" + type + \">\" : \"<\" + type + \" \" + HELMET_ATTRIBUTE + \"=\\\"true\\\">\" + encodeSpecialCharacters(flattenedTitle, encode) + \"</\" + type + \">\";\n};\n\nvar generateTagsAsString = function generateTagsAsString(type, tags, encode) {\n    return tags.reduce(function (str, tag) {\n        var attributeHtml = Object.keys(tag).filter(function (attribute) {\n            return !(attribute === TAG_PROPERTIES.INNER_HTML || attribute === TAG_PROPERTIES.CSS_TEXT);\n        }).reduce(function (string, attribute) {\n            var attr = typeof tag[attribute] === \"undefined\" ? attribute : attribute + \"=\\\"\" + encodeSpecialCharacters(tag[attribute], encode) + \"\\\"\";\n            return string ? string + \" \" + attr : attr;\n        }, \"\");\n\n        var tagContent = tag.innerHTML || tag.cssText || \"\";\n\n        var isSelfClosing = SELF_CLOSING_TAGS.indexOf(type) === -1;\n\n        return str + \"<\" + type + \" \" + HELMET_ATTRIBUTE + \"=\\\"true\\\" \" + attributeHtml + (isSelfClosing ? \"/>\" : \">\" + tagContent + \"</\" + type + \">\");\n    }, \"\");\n};\n\nvar convertElementAttributestoReactProps = function convertElementAttributestoReactProps(attributes) {\n    var initProps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    return Object.keys(attributes).reduce(function (obj, key) {\n        obj[REACT_TAG_MAP[key] || key] = attributes[key];\n        return obj;\n    }, initProps);\n};\n\nvar convertReactPropstoHtmlAttributes = function convertReactPropstoHtmlAttributes(props) {\n    var initAttributes = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    return Object.keys(props).reduce(function (obj, key) {\n        obj[HTML_TAG_MAP[key] || key] = props[key];\n        return obj;\n    }, initAttributes);\n};\n\nvar generateTitleAsReactComponent = function generateTitleAsReactComponent(type, title, attributes) {\n    var _initProps;\n\n    // assigning into an array to define toString function on it\n    var initProps = (_initProps = {\n        key: title\n    }, _initProps[HELMET_ATTRIBUTE] = true, _initProps);\n    var props = convertElementAttributestoReactProps(attributes, initProps);\n\n    return [React.createElement(TAG_NAMES.TITLE, props, title)];\n};\n\nvar generateTagsAsReactComponent = function generateTagsAsReactComponent(type, tags) {\n    return tags.map(function (tag, i) {\n        var _mappedTag;\n\n        var mappedTag = (_mappedTag = {\n            key: i\n        }, _mappedTag[HELMET_ATTRIBUTE] = true, _mappedTag);\n\n        Object.keys(tag).forEach(function (attribute) {\n            var mappedAttribute = REACT_TAG_MAP[attribute] || attribute;\n\n            if (mappedAttribute === TAG_PROPERTIES.INNER_HTML || mappedAttribute === TAG_PROPERTIES.CSS_TEXT) {\n                var content = tag.innerHTML || tag.cssText;\n                mappedTag.dangerouslySetInnerHTML = { __html: content };\n            } else {\n                mappedTag[mappedAttribute] = tag[attribute];\n            }\n        });\n\n        return React.createElement(type, mappedTag);\n    });\n};\n\nvar getMethodsForTag = function getMethodsForTag(type, tags, encode) {\n    switch (type) {\n        case TAG_NAMES.TITLE:\n            return {\n                toComponent: function toComponent() {\n                    return generateTitleAsReactComponent(type, tags.title, tags.titleAttributes, encode);\n                },\n                toString: function toString() {\n                    return generateTitleAsString(type, tags.title, tags.titleAttributes, encode);\n                }\n            };\n        case ATTRIBUTE_NAMES.BODY:\n        case ATTRIBUTE_NAMES.HTML:\n            return {\n                toComponent: function toComponent() {\n                    return convertElementAttributestoReactProps(tags);\n                },\n                toString: function toString() {\n                    return generateElementAttributesAsString(tags);\n                }\n            };\n        default:\n            return {\n                toComponent: function toComponent() {\n                    return generateTagsAsReactComponent(type, tags);\n                },\n                toString: function toString() {\n                    return generateTagsAsString(type, tags, encode);\n                }\n            };\n    }\n};\n\nvar mapStateOnServer = function mapStateOnServer(_ref) {\n    var baseTag = _ref.baseTag,\n        bodyAttributes = _ref.bodyAttributes,\n        encode = _ref.encode,\n        htmlAttributes = _ref.htmlAttributes,\n        linkTags = _ref.linkTags,\n        metaTags = _ref.metaTags,\n        noscriptTags = _ref.noscriptTags,\n        scriptTags = _ref.scriptTags,\n        styleTags = _ref.styleTags,\n        _ref$title = _ref.title,\n        title = _ref$title === undefined ? \"\" : _ref$title,\n        titleAttributes = _ref.titleAttributes;\n    return {\n        base: getMethodsForTag(TAG_NAMES.BASE, baseTag, encode),\n        bodyAttributes: getMethodsForTag(ATTRIBUTE_NAMES.BODY, bodyAttributes, encode),\n        htmlAttributes: getMethodsForTag(ATTRIBUTE_NAMES.HTML, htmlAttributes, encode),\n        link: getMethodsForTag(TAG_NAMES.LINK, linkTags, encode),\n        meta: getMethodsForTag(TAG_NAMES.META, metaTags, encode),\n        noscript: getMethodsForTag(TAG_NAMES.NOSCRIPT, noscriptTags, encode),\n        script: getMethodsForTag(TAG_NAMES.SCRIPT, scriptTags, encode),\n        style: getMethodsForTag(TAG_NAMES.STYLE, styleTags, encode),\n        title: getMethodsForTag(TAG_NAMES.TITLE, { title: title, titleAttributes: titleAttributes }, encode)\n    };\n};\n\nvar Helmet = function Helmet(Component) {\n    var _class, _temp;\n\n    return _temp = _class = function (_React$Component) {\n        inherits(HelmetWrapper, _React$Component);\n\n        function HelmetWrapper() {\n            classCallCheck(this, HelmetWrapper);\n            return possibleConstructorReturn(this, _React$Component.apply(this, arguments));\n        }\n\n        HelmetWrapper.prototype.shouldComponentUpdate = function shouldComponentUpdate(nextProps) {\n            return !isEqual(this.props, nextProps);\n        };\n\n        HelmetWrapper.prototype.mapNestedChildrenToProps = function mapNestedChildrenToProps(child, nestedChildren) {\n            if (!nestedChildren) {\n                return null;\n            }\n\n            switch (child.type) {\n                case TAG_NAMES.SCRIPT:\n                case TAG_NAMES.NOSCRIPT:\n                    return {\n                        innerHTML: nestedChildren\n                    };\n\n                case TAG_NAMES.STYLE:\n                    return {\n                        cssText: nestedChildren\n                    };\n            }\n\n            throw new Error(\"<\" + child.type + \" /> elements are self-closing and can not contain children. Refer to our API for more information.\");\n        };\n\n        HelmetWrapper.prototype.flattenArrayTypeChildren = function flattenArrayTypeChildren(_ref) {\n            var _babelHelpers$extends;\n\n            var child = _ref.child,\n                arrayTypeChildren = _ref.arrayTypeChildren,\n                newChildProps = _ref.newChildProps,\n                nestedChildren = _ref.nestedChildren;\n\n            return _extends({}, arrayTypeChildren, (_babelHelpers$extends = {}, _babelHelpers$extends[child.type] = [].concat(arrayTypeChildren[child.type] || [], [_extends({}, newChildProps, this.mapNestedChildrenToProps(child, nestedChildren))]), _babelHelpers$extends));\n        };\n\n        HelmetWrapper.prototype.mapObjectTypeChildren = function mapObjectTypeChildren(_ref2) {\n            var _babelHelpers$extends2, _babelHelpers$extends3;\n\n            var child = _ref2.child,\n                newProps = _ref2.newProps,\n                newChildProps = _ref2.newChildProps,\n                nestedChildren = _ref2.nestedChildren;\n\n            switch (child.type) {\n                case TAG_NAMES.TITLE:\n                    return _extends({}, newProps, (_babelHelpers$extends2 = {}, _babelHelpers$extends2[child.type] = nestedChildren, _babelHelpers$extends2.titleAttributes = _extends({}, newChildProps), _babelHelpers$extends2));\n\n                case TAG_NAMES.BODY:\n                    return _extends({}, newProps, {\n                        bodyAttributes: _extends({}, newChildProps)\n                    });\n\n                case TAG_NAMES.HTML:\n                    return _extends({}, newProps, {\n                        htmlAttributes: _extends({}, newChildProps)\n                    });\n            }\n\n            return _extends({}, newProps, (_babelHelpers$extends3 = {}, _babelHelpers$extends3[child.type] = _extends({}, newChildProps), _babelHelpers$extends3));\n        };\n\n        HelmetWrapper.prototype.mapArrayTypeChildrenToProps = function mapArrayTypeChildrenToProps(arrayTypeChildren, newProps) {\n            var newFlattenedProps = _extends({}, newProps);\n\n            Object.keys(arrayTypeChildren).forEach(function (arrayChildName) {\n                var _babelHelpers$extends4;\n\n                newFlattenedProps = _extends({}, newFlattenedProps, (_babelHelpers$extends4 = {}, _babelHelpers$extends4[arrayChildName] = arrayTypeChildren[arrayChildName], _babelHelpers$extends4));\n            });\n\n            return newFlattenedProps;\n        };\n\n        HelmetWrapper.prototype.warnOnInvalidChildren = function warnOnInvalidChildren(child, nestedChildren) {\n            if (process.env.NODE_ENV !== \"production\") {\n                if (!VALID_TAG_NAMES.some(function (name) {\n                    return child.type === name;\n                })) {\n                    if (typeof child.type === \"function\") {\n                        return warn(\"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.\");\n                    }\n\n                    return warn(\"Only elements types \" + VALID_TAG_NAMES.join(\", \") + \" are allowed. Helmet does not support rendering <\" + child.type + \"> elements. Refer to our API for more information.\");\n                }\n\n                if (nestedChildren && typeof nestedChildren !== \"string\" && (!Array.isArray(nestedChildren) || nestedChildren.some(function (nestedChild) {\n                    return typeof nestedChild !== \"string\";\n                }))) {\n                    throw new Error(\"Helmet expects a string as a child of <\" + child.type + \">. Did you forget to wrap your children in braces? ( <\" + child.type + \">{``}</\" + child.type + \"> ) Refer to our API for more information.\");\n                }\n            }\n\n            return true;\n        };\n\n        HelmetWrapper.prototype.mapChildrenToProps = function mapChildrenToProps(children, newProps) {\n            var _this2 = this;\n\n            var arrayTypeChildren = {};\n\n            React.Children.forEach(children, function (child) {\n                if (!child || !child.props) {\n                    return;\n                }\n\n                var _child$props = child.props,\n                    nestedChildren = _child$props.children,\n                    childProps = objectWithoutProperties(_child$props, [\"children\"]);\n\n                var newChildProps = convertReactPropstoHtmlAttributes(childProps);\n\n                _this2.warnOnInvalidChildren(child, nestedChildren);\n\n                switch (child.type) {\n                    case TAG_NAMES.LINK:\n                    case TAG_NAMES.META:\n                    case TAG_NAMES.NOSCRIPT:\n                    case TAG_NAMES.SCRIPT:\n                    case TAG_NAMES.STYLE:\n                        arrayTypeChildren = _this2.flattenArrayTypeChildren({\n                            child: child,\n                            arrayTypeChildren: arrayTypeChildren,\n                            newChildProps: newChildProps,\n                            nestedChildren: nestedChildren\n                        });\n                        break;\n\n                    default:\n                        newProps = _this2.mapObjectTypeChildren({\n                            child: child,\n                            newProps: newProps,\n                            newChildProps: newChildProps,\n                            nestedChildren: nestedChildren\n                        });\n                        break;\n                }\n            });\n\n            newProps = this.mapArrayTypeChildrenToProps(arrayTypeChildren, newProps);\n            return newProps;\n        };\n\n        HelmetWrapper.prototype.render = function render() {\n            var _props = this.props,\n                children = _props.children,\n                props = objectWithoutProperties(_props, [\"children\"]);\n\n            var newProps = _extends({}, props);\n\n            if (children) {\n                newProps = this.mapChildrenToProps(children, newProps);\n            }\n\n            return React.createElement(Component, newProps);\n        };\n\n        createClass(HelmetWrapper, null, [{\n            key: \"canUseDOM\",\n\n\n            // Component.peek comes from react-side-effect:\n            // For testing, you may use a static peek() method available on the returned component.\n            // It lets you get the current state without resetting the mounted instance stack.\n            // Dont use it for anything other than testing.\n\n            /**\n             * @param {Object} base: {\"target\": \"_blank\", \"href\": \"http://mysite.com/\"}\n             * @param {Object} bodyAttributes: {\"className\": \"root\"}\n             * @param {String} defaultTitle: \"Default Title\"\n             * @param {Boolean} defer: true\n             * @param {Boolean} encodeSpecialCharacters: true\n             * @param {Object} htmlAttributes: {\"lang\": \"en\", \"amp\": undefined}\n             * @param {Array} link: [{\"rel\": \"canonical\", \"href\": \"http://mysite.com/example\"}]\n             * @param {Array} meta: [{\"name\": \"description\", \"content\": \"Test description\"}]\n             * @param {Array} noscript: [{\"innerHTML\": \"<img src='http://mysite.com/js/test.js'\"}]\n             * @param {Function} onChangeClientState: \"(newState) => console.log(newState)\"\n             * @param {Array} script: [{\"type\": \"text/javascript\", \"src\": \"http://mysite.com/js/test.js\"}]\n             * @param {Array} style: [{\"type\": \"text/css\", \"cssText\": \"div { display: block; color: blue; }\"}]\n             * @param {String} title: \"Title\"\n             * @param {Object} titleAttributes: {\"itemprop\": \"name\"}\n             * @param {String} titleTemplate: \"MySite.com - %s\"\n             */\n            set: function set$$1(canUseDOM) {\n                Component.canUseDOM = canUseDOM;\n            }\n        }]);\n        return HelmetWrapper;\n    }(React.Component), _class.propTypes = {\n        base: PropTypes.object,\n        bodyAttributes: PropTypes.object,\n        children: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.node), PropTypes.node]),\n        defaultTitle: PropTypes.string,\n        defer: PropTypes.bool,\n        encodeSpecialCharacters: PropTypes.bool,\n        htmlAttributes: PropTypes.object,\n        link: PropTypes.arrayOf(PropTypes.object),\n        meta: PropTypes.arrayOf(PropTypes.object),\n        noscript: PropTypes.arrayOf(PropTypes.object),\n        onChangeClientState: PropTypes.func,\n        script: PropTypes.arrayOf(PropTypes.object),\n        style: PropTypes.arrayOf(PropTypes.object),\n        title: PropTypes.string,\n        titleAttributes: PropTypes.object,\n        titleTemplate: PropTypes.string\n    }, _class.defaultProps = {\n        defer: true,\n        encodeSpecialCharacters: true\n    }, _class.peek = Component.peek, _class.rewind = function () {\n        var mappedState = Component.rewind();\n        if (!mappedState) {\n            // provide fallback if mappedState is undefined\n            mappedState = mapStateOnServer({\n                baseTag: [],\n                bodyAttributes: {},\n                encodeSpecialCharacters: true,\n                htmlAttributes: {},\n                linkTags: [],\n                metaTags: [],\n                noscriptTags: [],\n                scriptTags: [],\n                styleTags: [],\n                title: \"\",\n                titleAttributes: {}\n            });\n        }\n\n        return mappedState;\n    }, _temp;\n};\n\nvar NullComponent = function NullComponent() {\n    return null;\n};\n\nvar HelmetSideEffects = withSideEffect(reducePropsToState, handleClientStateChange, mapStateOnServer)(NullComponent);\n\nvar HelmetExport = Helmet(HelmetSideEffects);\nHelmetExport.renderStatic = HelmetExport.rewind;\n\nexport default HelmetExport;\nexport { HelmetExport as Helmet };\n","function memoize(fn) {\n  var cache = {};\n  return function (arg) {\n    if (cache[arg] === undefined) cache[arg] = fn(arg);\n    return cache[arg];\n  };\n}\n\nexport default memoize;\n","import memoize from '@emotion/memoize';\n\nvar reactPropsRegex = /^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|inert|itemProp|itemScope|itemType|itemID|itemRef|on|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/; // https://esbench.com/bench/5bfee68a4cd7e6009ef61d23\n\nvar index = memoize(function (prop) {\n  return reactPropsRegex.test(prop) || prop.charCodeAt(0) === 111\n  /* o */\n  && prop.charCodeAt(1) === 110\n  /* n */\n  && prop.charCodeAt(2) < 91;\n}\n/* Z+1 */\n);\n\nexport default index;\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","//\n\nmodule.exports = function shallowEqual(objA, objB, compare, compareContext) {\n  var ret = compare ? compare.call(compareContext, objA, objB) : void 0;\n\n  if (ret !== void 0) {\n    return !!ret;\n  }\n\n  if (objA === objB) {\n    return true;\n  }\n\n  if (typeof objA !== \"object\" || !objA || typeof objB !== \"object\" || !objB) {\n    return false;\n  }\n\n  var keysA = Object.keys(objA);\n  var keysB = Object.keys(objB);\n\n  if (keysA.length !== keysB.length) {\n    return false;\n  }\n\n  var bHasOwnProperty = Object.prototype.hasOwnProperty.bind(objB);\n\n  // Test for A's keys different from B.\n  for (var idx = 0; idx < keysA.length; idx++) {\n    var key = keysA[idx];\n\n    if (!bHasOwnProperty(key)) {\n      return false;\n    }\n\n    var valueA = objA[key];\n    var valueB = objB[key];\n\n    ret = compare ? compare.call(compareContext, valueA, valueB, key) : void 0;\n\n    if (ret === false || (ret === void 0 && valueA !== valueB)) {\n      return false;\n    }\n  }\n\n  return true;\n};\n","function stylis_min (W) {\n  function M(d, c, e, h, a) {\n    for (var m = 0, b = 0, v = 0, n = 0, q, g, x = 0, K = 0, k, u = k = q = 0, l = 0, r = 0, I = 0, t = 0, B = e.length, J = B - 1, y, f = '', p = '', F = '', G = '', C; l < B;) {\n      g = e.charCodeAt(l);\n      l === J && 0 !== b + n + v + m && (0 !== b && (g = 47 === b ? 10 : 47), n = v = m = 0, B++, J++);\n\n      if (0 === b + n + v + m) {\n        if (l === J && (0 < r && (f = f.replace(N, '')), 0 < f.trim().length)) {\n          switch (g) {\n            case 32:\n            case 9:\n            case 59:\n            case 13:\n            case 10:\n              break;\n\n            default:\n              f += e.charAt(l);\n          }\n\n          g = 59;\n        }\n\n        switch (g) {\n          case 123:\n            f = f.trim();\n            q = f.charCodeAt(0);\n            k = 1;\n\n            for (t = ++l; l < B;) {\n              switch (g = e.charCodeAt(l)) {\n                case 123:\n                  k++;\n                  break;\n\n                case 125:\n                  k--;\n                  break;\n\n                case 47:\n                  switch (g = e.charCodeAt(l + 1)) {\n                    case 42:\n                    case 47:\n                      a: {\n                        for (u = l + 1; u < J; ++u) {\n                          switch (e.charCodeAt(u)) {\n                            case 47:\n                              if (42 === g && 42 === e.charCodeAt(u - 1) && l + 2 !== u) {\n                                l = u + 1;\n                                break a;\n                              }\n\n                              break;\n\n                            case 10:\n                              if (47 === g) {\n                                l = u + 1;\n                                break a;\n                              }\n\n                          }\n                        }\n\n                        l = u;\n                      }\n\n                  }\n\n                  break;\n\n                case 91:\n                  g++;\n\n                case 40:\n                  g++;\n\n                case 34:\n                case 39:\n                  for (; l++ < J && e.charCodeAt(l) !== g;) {\n                  }\n\n              }\n\n              if (0 === k) break;\n              l++;\n            }\n\n            k = e.substring(t, l);\n            0 === q && (q = (f = f.replace(ca, '').trim()).charCodeAt(0));\n\n            switch (q) {\n              case 64:\n                0 < r && (f = f.replace(N, ''));\n                g = f.charCodeAt(1);\n\n                switch (g) {\n                  case 100:\n                  case 109:\n                  case 115:\n                  case 45:\n                    r = c;\n                    break;\n\n                  default:\n                    r = O;\n                }\n\n                k = M(c, r, k, g, a + 1);\n                t = k.length;\n                0 < A && (r = X(O, f, I), C = H(3, k, r, c, D, z, t, g, a, h), f = r.join(''), void 0 !== C && 0 === (t = (k = C.trim()).length) && (g = 0, k = ''));\n                if (0 < t) switch (g) {\n                  case 115:\n                    f = f.replace(da, ea);\n\n                  case 100:\n                  case 109:\n                  case 45:\n                    k = f + '{' + k + '}';\n                    break;\n\n                  case 107:\n                    f = f.replace(fa, '$1 $2');\n                    k = f + '{' + k + '}';\n                    k = 1 === w || 2 === w && L('@' + k, 3) ? '@-webkit-' + k + '@' + k : '@' + k;\n                    break;\n\n                  default:\n                    k = f + k, 112 === h && (k = (p += k, ''));\n                } else k = '';\n                break;\n\n              default:\n                k = M(c, X(c, f, I), k, h, a + 1);\n            }\n\n            F += k;\n            k = I = r = u = q = 0;\n            f = '';\n            g = e.charCodeAt(++l);\n            break;\n\n          case 125:\n          case 59:\n            f = (0 < r ? f.replace(N, '') : f).trim();\n            if (1 < (t = f.length)) switch (0 === u && (q = f.charCodeAt(0), 45 === q || 96 < q && 123 > q) && (t = (f = f.replace(' ', ':')).length), 0 < A && void 0 !== (C = H(1, f, c, d, D, z, p.length, h, a, h)) && 0 === (t = (f = C.trim()).length) && (f = '\\x00\\x00'), q = f.charCodeAt(0), g = f.charCodeAt(1), q) {\n              case 0:\n                break;\n\n              case 64:\n                if (105 === g || 99 === g) {\n                  G += f + e.charAt(l);\n                  break;\n                }\n\n              default:\n                58 !== f.charCodeAt(t - 1) && (p += P(f, q, g, f.charCodeAt(2)));\n            }\n            I = r = u = q = 0;\n            f = '';\n            g = e.charCodeAt(++l);\n        }\n      }\n\n      switch (g) {\n        case 13:\n        case 10:\n          47 === b ? b = 0 : 0 === 1 + q && 107 !== h && 0 < f.length && (r = 1, f += '\\x00');\n          0 < A * Y && H(0, f, c, d, D, z, p.length, h, a, h);\n          z = 1;\n          D++;\n          break;\n\n        case 59:\n        case 125:\n          if (0 === b + n + v + m) {\n            z++;\n            break;\n          }\n\n        default:\n          z++;\n          y = e.charAt(l);\n\n          switch (g) {\n            case 9:\n            case 32:\n              if (0 === n + m + b) switch (x) {\n                case 44:\n                case 58:\n                case 9:\n                case 32:\n                  y = '';\n                  break;\n\n                default:\n                  32 !== g && (y = ' ');\n              }\n              break;\n\n            case 0:\n              y = '\\\\0';\n              break;\n\n            case 12:\n              y = '\\\\f';\n              break;\n\n            case 11:\n              y = '\\\\v';\n              break;\n\n            case 38:\n              0 === n + b + m && (r = I = 1, y = '\\f' + y);\n              break;\n\n            case 108:\n              if (0 === n + b + m + E && 0 < u) switch (l - u) {\n                case 2:\n                  112 === x && 58 === e.charCodeAt(l - 3) && (E = x);\n\n                case 8:\n                  111 === K && (E = K);\n              }\n              break;\n\n            case 58:\n              0 === n + b + m && (u = l);\n              break;\n\n            case 44:\n              0 === b + v + n + m && (r = 1, y += '\\r');\n              break;\n\n            case 34:\n            case 39:\n              0 === b && (n = n === g ? 0 : 0 === n ? g : n);\n              break;\n\n            case 91:\n              0 === n + b + v && m++;\n              break;\n\n            case 93:\n              0 === n + b + v && m--;\n              break;\n\n            case 41:\n              0 === n + b + m && v--;\n              break;\n\n            case 40:\n              if (0 === n + b + m) {\n                if (0 === q) switch (2 * x + 3 * K) {\n                  case 533:\n                    break;\n\n                  default:\n                    q = 1;\n                }\n                v++;\n              }\n\n              break;\n\n            case 64:\n              0 === b + v + n + m + u + k && (k = 1);\n              break;\n\n            case 42:\n            case 47:\n              if (!(0 < n + m + v)) switch (b) {\n                case 0:\n                  switch (2 * g + 3 * e.charCodeAt(l + 1)) {\n                    case 235:\n                      b = 47;\n                      break;\n\n                    case 220:\n                      t = l, b = 42;\n                  }\n\n                  break;\n\n                case 42:\n                  47 === g && 42 === x && t + 2 !== l && (33 === e.charCodeAt(t + 2) && (p += e.substring(t, l + 1)), y = '', b = 0);\n              }\n          }\n\n          0 === b && (f += y);\n      }\n\n      K = x;\n      x = g;\n      l++;\n    }\n\n    t = p.length;\n\n    if (0 < t) {\n      r = c;\n      if (0 < A && (C = H(2, p, r, d, D, z, t, h, a, h), void 0 !== C && 0 === (p = C).length)) return G + p + F;\n      p = r.join(',') + '{' + p + '}';\n\n      if (0 !== w * E) {\n        2 !== w || L(p, 2) || (E = 0);\n\n        switch (E) {\n          case 111:\n            p = p.replace(ha, ':-moz-$1') + p;\n            break;\n\n          case 112:\n            p = p.replace(Q, '::-webkit-input-$1') + p.replace(Q, '::-moz-$1') + p.replace(Q, ':-ms-input-$1') + p;\n        }\n\n        E = 0;\n      }\n    }\n\n    return G + p + F;\n  }\n\n  function X(d, c, e) {\n    var h = c.trim().split(ia);\n    c = h;\n    var a = h.length,\n        m = d.length;\n\n    switch (m) {\n      case 0:\n      case 1:\n        var b = 0;\n\n        for (d = 0 === m ? '' : d[0] + ' '; b < a; ++b) {\n          c[b] = Z(d, c[b], e).trim();\n        }\n\n        break;\n\n      default:\n        var v = b = 0;\n\n        for (c = []; b < a; ++b) {\n          for (var n = 0; n < m; ++n) {\n            c[v++] = Z(d[n] + ' ', h[b], e).trim();\n          }\n        }\n\n    }\n\n    return c;\n  }\n\n  function Z(d, c, e) {\n    var h = c.charCodeAt(0);\n    33 > h && (h = (c = c.trim()).charCodeAt(0));\n\n    switch (h) {\n      case 38:\n        return c.replace(F, '$1' + d.trim());\n\n      case 58:\n        return d.trim() + c.replace(F, '$1' + d.trim());\n\n      default:\n        if (0 < 1 * e && 0 < c.indexOf('\\f')) return c.replace(F, (58 === d.charCodeAt(0) ? '' : '$1') + d.trim());\n    }\n\n    return d + c;\n  }\n\n  function P(d, c, e, h) {\n    var a = d + ';',\n        m = 2 * c + 3 * e + 4 * h;\n\n    if (944 === m) {\n      d = a.indexOf(':', 9) + 1;\n      var b = a.substring(d, a.length - 1).trim();\n      b = a.substring(0, d).trim() + b + ';';\n      return 1 === w || 2 === w && L(b, 1) ? '-webkit-' + b + b : b;\n    }\n\n    if (0 === w || 2 === w && !L(a, 1)) return a;\n\n    switch (m) {\n      case 1015:\n        return 97 === a.charCodeAt(10) ? '-webkit-' + a + a : a;\n\n      case 951:\n        return 116 === a.charCodeAt(3) ? '-webkit-' + a + a : a;\n\n      case 963:\n        return 110 === a.charCodeAt(5) ? '-webkit-' + a + a : a;\n\n      case 1009:\n        if (100 !== a.charCodeAt(4)) break;\n\n      case 969:\n      case 942:\n        return '-webkit-' + a + a;\n\n      case 978:\n        return '-webkit-' + a + '-moz-' + a + a;\n\n      case 1019:\n      case 983:\n        return '-webkit-' + a + '-moz-' + a + '-ms-' + a + a;\n\n      case 883:\n        if (45 === a.charCodeAt(8)) return '-webkit-' + a + a;\n        if (0 < a.indexOf('image-set(', 11)) return a.replace(ja, '$1-webkit-$2') + a;\n        break;\n\n      case 932:\n        if (45 === a.charCodeAt(4)) switch (a.charCodeAt(5)) {\n          case 103:\n            return '-webkit-box-' + a.replace('-grow', '') + '-webkit-' + a + '-ms-' + a.replace('grow', 'positive') + a;\n\n          case 115:\n            return '-webkit-' + a + '-ms-' + a.replace('shrink', 'negative') + a;\n\n          case 98:\n            return '-webkit-' + a + '-ms-' + a.replace('basis', 'preferred-size') + a;\n        }\n        return '-webkit-' + a + '-ms-' + a + a;\n\n      case 964:\n        return '-webkit-' + a + '-ms-flex-' + a + a;\n\n      case 1023:\n        if (99 !== a.charCodeAt(8)) break;\n        b = a.substring(a.indexOf(':', 15)).replace('flex-', '').replace('space-between', 'justify');\n        return '-webkit-box-pack' + b + '-webkit-' + a + '-ms-flex-pack' + b + a;\n\n      case 1005:\n        return ka.test(a) ? a.replace(aa, ':-webkit-') + a.replace(aa, ':-moz-') + a : a;\n\n      case 1e3:\n        b = a.substring(13).trim();\n        c = b.indexOf('-') + 1;\n\n        switch (b.charCodeAt(0) + b.charCodeAt(c)) {\n          case 226:\n            b = a.replace(G, 'tb');\n            break;\n\n          case 232:\n            b = a.replace(G, 'tb-rl');\n            break;\n\n          case 220:\n            b = a.replace(G, 'lr');\n            break;\n\n          default:\n            return a;\n        }\n\n        return '-webkit-' + a + '-ms-' + b + a;\n\n      case 1017:\n        if (-1 === a.indexOf('sticky', 9)) break;\n\n      case 975:\n        c = (a = d).length - 10;\n        b = (33 === a.charCodeAt(c) ? a.substring(0, c) : a).substring(d.indexOf(':', 7) + 1).trim();\n\n        switch (m = b.charCodeAt(0) + (b.charCodeAt(7) | 0)) {\n          case 203:\n            if (111 > b.charCodeAt(8)) break;\n\n          case 115:\n            a = a.replace(b, '-webkit-' + b) + ';' + a;\n            break;\n\n          case 207:\n          case 102:\n            a = a.replace(b, '-webkit-' + (102 < m ? 'inline-' : '') + 'box') + ';' + a.replace(b, '-webkit-' + b) + ';' + a.replace(b, '-ms-' + b + 'box') + ';' + a;\n        }\n\n        return a + ';';\n\n      case 938:\n        if (45 === a.charCodeAt(5)) switch (a.charCodeAt(6)) {\n          case 105:\n            return b = a.replace('-items', ''), '-webkit-' + a + '-webkit-box-' + b + '-ms-flex-' + b + a;\n\n          case 115:\n            return '-webkit-' + a + '-ms-flex-item-' + a.replace(ba, '') + a;\n\n          default:\n            return '-webkit-' + a + '-ms-flex-line-pack' + a.replace('align-content', '').replace(ba, '') + a;\n        }\n        break;\n\n      case 973:\n      case 989:\n        if (45 !== a.charCodeAt(3) || 122 === a.charCodeAt(4)) break;\n\n      case 931:\n      case 953:\n        if (!0 === la.test(d)) return 115 === (b = d.substring(d.indexOf(':') + 1)).charCodeAt(0) ? P(d.replace('stretch', 'fill-available'), c, e, h).replace(':fill-available', ':stretch') : a.replace(b, '-webkit-' + b) + a.replace(b, '-moz-' + b.replace('fill-', '')) + a;\n        break;\n\n      case 962:\n        if (a = '-webkit-' + a + (102 === a.charCodeAt(5) ? '-ms-' + a : '') + a, 211 === e + h && 105 === a.charCodeAt(13) && 0 < a.indexOf('transform', 10)) return a.substring(0, a.indexOf(';', 27) + 1).replace(ma, '$1-webkit-$2') + a;\n    }\n\n    return a;\n  }\n\n  function L(d, c) {\n    var e = d.indexOf(1 === c ? ':' : '{'),\n        h = d.substring(0, 3 !== c ? e : 10);\n    e = d.substring(e + 1, d.length - 1);\n    return R(2 !== c ? h : h.replace(na, '$1'), e, c);\n  }\n\n  function ea(d, c) {\n    var e = P(c, c.charCodeAt(0), c.charCodeAt(1), c.charCodeAt(2));\n    return e !== c + ';' ? e.replace(oa, ' or ($1)').substring(4) : '(' + c + ')';\n  }\n\n  function H(d, c, e, h, a, m, b, v, n, q) {\n    for (var g = 0, x = c, w; g < A; ++g) {\n      switch (w = S[g].call(B, d, x, e, h, a, m, b, v, n, q)) {\n        case void 0:\n        case !1:\n        case !0:\n        case null:\n          break;\n\n        default:\n          x = w;\n      }\n    }\n\n    if (x !== c) return x;\n  }\n\n  function T(d) {\n    switch (d) {\n      case void 0:\n      case null:\n        A = S.length = 0;\n        break;\n\n      default:\n        if ('function' === typeof d) S[A++] = d;else if ('object' === typeof d) for (var c = 0, e = d.length; c < e; ++c) {\n          T(d[c]);\n        } else Y = !!d | 0;\n    }\n\n    return T;\n  }\n\n  function U(d) {\n    d = d.prefix;\n    void 0 !== d && (R = null, d ? 'function' !== typeof d ? w = 1 : (w = 2, R = d) : w = 0);\n    return U;\n  }\n\n  function B(d, c) {\n    var e = d;\n    33 > e.charCodeAt(0) && (e = e.trim());\n    V = e;\n    e = [V];\n\n    if (0 < A) {\n      var h = H(-1, c, e, e, D, z, 0, 0, 0, 0);\n      void 0 !== h && 'string' === typeof h && (c = h);\n    }\n\n    var a = M(O, e, c, 0, 0);\n    0 < A && (h = H(-2, a, e, e, D, z, a.length, 0, 0, 0), void 0 !== h && (a = h));\n    V = '';\n    E = 0;\n    z = D = 1;\n    return a;\n  }\n\n  var ca = /^\\0+/g,\n      N = /[\\0\\r\\f]/g,\n      aa = /: */g,\n      ka = /zoo|gra/,\n      ma = /([,: ])(transform)/g,\n      ia = /,\\r+?/g,\n      F = /([\\t\\r\\n ])*\\f?&/g,\n      fa = /@(k\\w+)\\s*(\\S*)\\s*/,\n      Q = /::(place)/g,\n      ha = /:(read-only)/g,\n      G = /[svh]\\w+-[tblr]{2}/,\n      da = /\\(\\s*(.*)\\s*\\)/g,\n      oa = /([\\s\\S]*?);/g,\n      ba = /-self|flex-/g,\n      na = /[^]*?(:[rp][el]a[\\w-]+)[^]*/,\n      la = /stretch|:\\s*\\w+\\-(?:conte|avail)/,\n      ja = /([^-])(image-set\\()/,\n      z = 1,\n      D = 1,\n      E = 0,\n      w = 1,\n      O = [],\n      S = [],\n      A = 0,\n      R = null,\n      Y = 0,\n      V = '';\n  B.use = T;\n  B.set = U;\n  void 0 !== W && U(W);\n  return B;\n}\n\nexport default stylis_min;\n","var unitlessKeys = {\n  animationIterationCount: 1,\n  borderImageOutset: 1,\n  borderImageSlice: 1,\n  borderImageWidth: 1,\n  boxFlex: 1,\n  boxFlexGroup: 1,\n  boxOrdinalGroup: 1,\n  columnCount: 1,\n  columns: 1,\n  flex: 1,\n  flexGrow: 1,\n  flexPositive: 1,\n  flexShrink: 1,\n  flexNegative: 1,\n  flexOrder: 1,\n  gridRow: 1,\n  gridRowEnd: 1,\n  gridRowSpan: 1,\n  gridRowStart: 1,\n  gridColumn: 1,\n  gridColumnEnd: 1,\n  gridColumnSpan: 1,\n  gridColumnStart: 1,\n  msGridRow: 1,\n  msGridRowSpan: 1,\n  msGridColumn: 1,\n  msGridColumnSpan: 1,\n  fontWeight: 1,\n  lineHeight: 1,\n  opacity: 1,\n  order: 1,\n  orphans: 1,\n  tabSize: 1,\n  widows: 1,\n  zIndex: 1,\n  zoom: 1,\n  WebkitLineClamp: 1,\n  // SVG-related properties\n  fillOpacity: 1,\n  floodOpacity: 1,\n  stopOpacity: 1,\n  strokeDasharray: 1,\n  strokeDashoffset: 1,\n  strokeMiterlimit: 1,\n  strokeOpacity: 1,\n  strokeWidth: 1\n};\n\nexport default unitlessKeys;\n","'use strict';\n\nfunction _interopDefault (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }\n\nvar React = require('react');\nvar React__default = _interopDefault(React);\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nvar canUseDOM = !!(typeof window !== 'undefined' && window.document && window.document.createElement);\nfunction withSideEffect(reducePropsToState, handleStateChangeOnClient, mapStateOnServer) {\n  if (typeof reducePropsToState !== 'function') {\n    throw new Error('Expected reducePropsToState to be a function.');\n  }\n\n  if (typeof handleStateChangeOnClient !== 'function') {\n    throw new Error('Expected handleStateChangeOnClient to be a function.');\n  }\n\n  if (typeof mapStateOnServer !== 'undefined' && typeof mapStateOnServer !== 'function') {\n    throw new Error('Expected mapStateOnServer to either be undefined or a function.');\n  }\n\n  function getDisplayName(WrappedComponent) {\n    return WrappedComponent.displayName || WrappedComponent.name || 'Component';\n  }\n\n  return function wrap(WrappedComponent) {\n    if (typeof WrappedComponent !== 'function') {\n      throw new Error('Expected WrappedComponent to be a React component.');\n    }\n\n    var mountedInstances = [];\n    var state;\n\n    function emitChange() {\n      state = reducePropsToState(mountedInstances.map(function (instance) {\n        return instance.props;\n      }));\n\n      if (SideEffect.canUseDOM) {\n        handleStateChangeOnClient(state);\n      } else if (mapStateOnServer) {\n        state = mapStateOnServer(state);\n      }\n    }\n\n    var SideEffect = /*#__PURE__*/function (_PureComponent) {\n      _inheritsLoose(SideEffect, _PureComponent);\n\n      function SideEffect() {\n        return _PureComponent.apply(this, arguments) || this;\n      }\n\n      // Try to use displayName of wrapped component\n      // Expose canUseDOM so tests can monkeypatch it\n      SideEffect.peek = function peek() {\n        return state;\n      };\n\n      SideEffect.rewind = function rewind() {\n        if (SideEffect.canUseDOM) {\n          throw new Error('You may only call rewind() on the server. Call peek() to read the current state.');\n        }\n\n        var recordedState = state;\n        state = undefined;\n        mountedInstances = [];\n        return recordedState;\n      };\n\n      var _proto = SideEffect.prototype;\n\n      _proto.UNSAFE_componentWillMount = function UNSAFE_componentWillMount() {\n        mountedInstances.push(this);\n        emitChange();\n      };\n\n      _proto.componentDidUpdate = function componentDidUpdate() {\n        emitChange();\n      };\n\n      _proto.componentWillUnmount = function componentWillUnmount() {\n        var index = mountedInstances.indexOf(this);\n        mountedInstances.splice(index, 1);\n        emitChange();\n      };\n\n      _proto.render = function render() {\n        return /*#__PURE__*/React__default.createElement(WrappedComponent, this.props);\n      };\n\n      return SideEffect;\n    }(React.PureComponent);\n\n    _defineProperty(SideEffect, \"displayName\", \"SideEffect(\" + getDisplayName(WrappedComponent) + \")\");\n\n    _defineProperty(SideEffect, \"canUseDOM\", canUseDOM);\n\n    return SideEffect;\n  };\n}\n\nmodule.exports = withSideEffect;\n","/* global Map:readonly, Set:readonly, ArrayBuffer:readonly */\n\nvar hasElementType = typeof Element !== 'undefined';\nvar hasMap = typeof Map === 'function';\nvar hasSet = typeof Set === 'function';\nvar hasArrayBuffer = typeof ArrayBuffer === 'function' && !!ArrayBuffer.isView;\n\n// Note: We **don't** need `envHasBigInt64Array` in fde es6/index.js\n\nfunction equal(a, b) {\n  // START: fast-deep-equal es6/index.js 3.1.1\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n\n    var length, i, keys;\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n    // START: Modifications:\n    // 1. Extra `has<Type> &&` helpers in initial condition allow es6 code\n    //    to co-exist with es5.\n    // 2. Replace `for of` with es5 compliant iteration using `for`.\n    //    Basically, take:\n    //\n    //    ```js\n    //    for (i of a.entries())\n    //      if (!b.has(i[0])) return false;\n    //    ```\n    //\n    //    ... and convert to:\n    //\n    //    ```js\n    //    it = a.entries();\n    //    while (!(i = it.next()).done)\n    //      if (!b.has(i.value[0])) return false;\n    //    ```\n    //\n    //    **Note**: `i` access switches to `i.value`.\n    var it;\n    if (hasMap && (a instanceof Map) && (b instanceof Map)) {\n      if (a.size !== b.size) return false;\n      it = a.entries();\n      while (!(i = it.next()).done)\n        if (!b.has(i.value[0])) return false;\n      it = a.entries();\n      while (!(i = it.next()).done)\n        if (!equal(i.value[1], b.get(i.value[0]))) return false;\n      return true;\n    }\n\n    if (hasSet && (a instanceof Set) && (b instanceof Set)) {\n      if (a.size !== b.size) return false;\n      it = a.entries();\n      while (!(i = it.next()).done)\n        if (!b.has(i.value[0])) return false;\n      return true;\n    }\n    // END: Modifications\n\n    if (hasArrayBuffer && ArrayBuffer.isView(a) && ArrayBuffer.isView(b)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (a[i] !== b[i]) return false;\n      return true;\n    }\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;)\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n    // END: fast-deep-equal\n\n    // START: react-fast-compare\n    // custom handling for DOM elements\n    if (hasElementType && a instanceof Element) return false;\n\n    // custom handling for React/Preact\n    for (i = length; i-- !== 0;) {\n      if ((keys[i] === '_owner' || keys[i] === '__v' || keys[i] === '__o') && a.$$typeof) {\n        // React-specific: avoid traversing React elements' _owner\n        // Preact-specific: avoid traversing Preact elements' __v and __o\n        //    __v = $_original / $_vnode\n        //    __o = $_owner\n        // These properties contain circular references and are not needed when\n        // comparing the actual elements (and not their owners)\n        // .$$typeof and ._store on just reasonable markers of elements\n\n        continue;\n      }\n\n      // all other properties should be traversed as usual\n      if (!equal(a[keys[i]], b[keys[i]])) return false;\n    }\n    // END: react-fast-compare\n\n    // START: fast-deep-equal\n    return true;\n  }\n\n  return a !== a && b !== b;\n}\n// end fast-deep-equal\n\nmodule.exports = function isEqual(a, b) {\n  try {\n    return equal(a, b);\n  } catch (error) {\n    if (((error.message || '').match(/stack|recursion/i))) {\n      // warn on circular references, don't crash\n      // browsers give this different errors name and messages:\n      // chrome/safari: \"RangeError\", \"Maximum call stack size exceeded\"\n      // firefox: \"InternalError\", too much recursion\"\n      // edge: \"Error\", \"Out of stack space\"\n      console.warn('react-fast-compare cannot handle circular refs');\n      return false;\n    }\n    // some other error. we should definitely know about these\n    throw error;\n  }\n};\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { forwardRef } from 'react';\nimport PropTypes from 'prop-types';\nvar X = forwardRef(function (_ref, ref) {\n  var _ref$color = _ref.color,\n      color = _ref$color === void 0 ? 'currentColor' : _ref$color,\n      _ref$size = _ref.size,\n      size = _ref$size === void 0 ? 24 : _ref$size,\n      rest = _objectWithoutProperties(_ref, [\"color\", \"size\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    ref: ref,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: size,\n    height: size,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: color,\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, rest), /*#__PURE__*/React.createElement(\"line\", {\n    x1: \"18\",\n    y1: \"6\",\n    x2: \"6\",\n    y2: \"18\"\n  }), /*#__PURE__*/React.createElement(\"line\", {\n    x1: \"6\",\n    y1: \"6\",\n    x2: \"18\",\n    y2: \"18\"\n  }));\n});\nX.propTypes = {\n  color: PropTypes.string,\n  size: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n};\nX.displayName = 'X';\nexport default X;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { forwardRef } from 'react';\nimport PropTypes from 'prop-types';\nvar Menu = forwardRef(function (_ref, ref) {\n  var _ref$color = _ref.color,\n      color = _ref$color === void 0 ? 'currentColor' : _ref$color,\n      _ref$size = _ref.size,\n      size = _ref$size === void 0 ? 24 : _ref$size,\n      rest = _objectWithoutProperties(_ref, [\"color\", \"size\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    ref: ref,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: size,\n    height: size,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: color,\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, rest), /*#__PURE__*/React.createElement(\"line\", {\n    x1: \"3\",\n    y1: \"12\",\n    x2: \"21\",\n    y2: \"12\"\n  }), /*#__PURE__*/React.createElement(\"line\", {\n    x1: \"3\",\n    y1: \"6\",\n    x2: \"21\",\n    y2: \"6\"\n  }), /*#__PURE__*/React.createElement(\"line\", {\n    x1: \"3\",\n    y1: \"18\",\n    x2: \"21\",\n    y2: \"18\"\n  }));\n});\nMenu.propTypes = {\n  color: PropTypes.string,\n  size: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n};\nMenu.displayName = 'Menu';\nexport default Menu;","import { __assign } from 'tslib';\nimport * as React from 'react';\nimport { useContext } from 'react';\nimport { featureDefinitions } from './definitions.js';\nimport { invariant } from 'hey-listen';\nimport { LazyContext } from '../../context/LazyContext.js';\n\nvar featureNames = Object.keys(featureDefinitions);\nvar numFeatures = featureNames.length;\n/**\n * Load features via renderless components based on the provided MotionProps.\n */\nfunction useFeatures(props, visualElement, preloadedFeatures) {\n    var features = [];\n    var lazyContext = useContext(LazyContext);\n    if (!visualElement)\n        return null;\n    /**\n     * If we're in development mode, check to make sure we're not rendering a motion component\n     * as a child of LazyMotion, as this will break the file-size benefits of using it.\n     */\n    if (process.env.NODE_ENV !== \"production\" &&\n        preloadedFeatures &&\n        lazyContext.strict) {\n        invariant(false, \"You have rendered a `motion` component within a `LazyMotion` component. This will break tree shaking. Import and render a `m` component instead.\");\n    }\n    for (var i = 0; i < numFeatures; i++) {\n        var name_1 = featureNames[i];\n        var _a = featureDefinitions[name_1], isEnabled = _a.isEnabled, Component = _a.Component;\n        /**\n         * It might be possible in the future to use this moment to\n         * dynamically request functionality. In initial tests this\n         * was producing a lot of duplication amongst bundles.\n         */\n        if (isEnabled(props) && Component) {\n            features.push(React.createElement(Component, __assign({ key: name_1 }, props, { visualElement: visualElement })));\n        }\n    }\n    return features;\n}\n\nexport { useFeatures };\n","import { useContext, createContext } from 'react';\n\nvar MotionContext = createContext({});\nfunction useVisualElementContext() {\n    return useContext(MotionContext).visualElement;\n}\n\nexport { MotionContext, useVisualElementContext };\n","import { createContext } from 'react';\n\n/**\n * @internal\n */\nvar LayoutGroupContext = createContext(null);\n\nexport { LayoutGroupContext };\n","import { __assign } from 'tslib';\nimport { useContext, useRef, useEffect } from 'react';\nimport { PresenceContext } from '../../context/PresenceContext.js';\nimport { isPresent } from '../../components/AnimatePresence/use-presence.js';\nimport { LayoutGroupContext } from '../../context/LayoutGroupContext.js';\nimport { useVisualElementContext } from '../../context/MotionContext/index.js';\nimport { useIsomorphicLayoutEffect } from '../../utils/use-isomorphic-effect.js';\nimport { MotionConfigContext } from '../../context/MotionConfigContext.js';\nimport { LazyContext } from '../../context/LazyContext.js';\n\nfunction useLayoutId(_a) {\n    var layoutId = _a.layoutId;\n    var layoutGroupId = useContext(LayoutGroupContext);\n    return layoutGroupId && layoutId !== undefined\n        ? layoutGroupId + \"-\" + layoutId\n        : layoutId;\n}\nfunction useVisualElement(Component, visualState, props, createVisualElement) {\n    var config = useContext(MotionConfigContext);\n    var lazyContext = useContext(LazyContext);\n    var parent = useVisualElementContext();\n    var presenceContext = useContext(PresenceContext);\n    var layoutId = useLayoutId(props);\n    var visualElementRef = useRef(undefined);\n    /**\n     * If we haven't preloaded a renderer, check to see if we have one lazy-loaded\n     */\n    if (!createVisualElement)\n        createVisualElement = lazyContext.renderer;\n    if (!visualElementRef.current && createVisualElement) {\n        visualElementRef.current = createVisualElement(Component, {\n            visualState: visualState,\n            parent: parent,\n            props: __assign(__assign({}, props), { layoutId: layoutId }),\n            presenceId: presenceContext === null || presenceContext === void 0 ? void 0 : presenceContext.id,\n            blockInitialAnimation: (presenceContext === null || presenceContext === void 0 ? void 0 : presenceContext.initial) === false,\n        });\n    }\n    var visualElement = visualElementRef.current;\n    useIsomorphicLayoutEffect(function () {\n        if (!visualElement)\n            return;\n        visualElement.setProps(__assign(__assign(__assign({}, config), props), { layoutId: layoutId }));\n        visualElement.isPresent = isPresent(presenceContext);\n        visualElement.isPresenceRoot =\n            !parent || parent.presenceId !== (presenceContext === null || presenceContext === void 0 ? void 0 : presenceContext.id);\n        /**\n         * Fire a render to ensure the latest state is reflected on-screen.\n         */\n        visualElement.syncRender();\n    });\n    useEffect(function () {\n        var _a;\n        if (!visualElement)\n            return;\n        /**\n         * In a future refactor we can replace the features-as-components and\n         * have this loop through them all firing \"effect\" listeners\n         */\n        (_a = visualElement.animationState) === null || _a === void 0 ? void 0 : _a.animateChanges();\n    });\n    useIsomorphicLayoutEffect(function () { return function () { return visualElement === null || visualElement === void 0 ? void 0 : visualElement.notifyUnmount(); }; }, []);\n    return visualElement;\n}\n\nexport { useVisualElement };\n","function isRefObject(ref) {\n    return (typeof ref === \"object\" &&\n        Object.prototype.hasOwnProperty.call(ref, \"current\"));\n}\n\nexport { isRefObject };\n","import { useMemo, useContext } from 'react';\nimport { MotionContext } from './index.js';\nimport { getCurrentTreeVariants } from './utils.js';\n\nfunction useCreateMotionContext(props, isStatic) {\n    var _a = getCurrentTreeVariants(props, useContext(MotionContext)), initial = _a.initial, animate = _a.animate;\n    return useMemo(function () { return ({ initial: initial, animate: animate }); }, \n    /**\n     * Only break memoisation in static mode\n     */\n    isStatic\n        ? [\n            variantLabelsAsDependency(initial),\n            variantLabelsAsDependency(animate),\n        ]\n        : []);\n}\nfunction variantLabelsAsDependency(prop) {\n    return Array.isArray(prop) ? prop.join(\" \") : prop;\n}\n\nexport { useCreateMotionContext };\n","import { checkIfControllingVariants, isVariantLabel } from '../../render/utils/variants.js';\n\nfunction getCurrentTreeVariants(props, context) {\n    if (checkIfControllingVariants(props)) {\n        var initial = props.initial, animate = props.animate;\n        return {\n            initial: initial === false || isVariantLabel(initial)\n                ? initial\n                : undefined,\n            animate: isVariantLabel(animate) ? animate : undefined,\n        };\n    }\n    return props.inherit !== false ? context : {};\n}\n\nexport { getCurrentTreeVariants };\n","import * as React from 'react';\nimport { forwardRef, useContext } from 'react';\nimport { useFeatures } from './features/use-features.js';\nimport { MotionConfigContext } from '../context/MotionConfigContext.js';\nimport { MotionContext } from '../context/MotionContext/index.js';\nimport { useVisualElement } from './utils/use-visual-element.js';\nimport { useMotionRef } from './utils/use-motion-ref.js';\nimport { useCreateMotionContext } from '../context/MotionContext/create.js';\nimport { loadFeatures } from './features/definitions.js';\nimport { isBrowser } from '../utils/is-browser.js';\n\n/**\n * Create a `motion` component.\n *\n * This function accepts a Component argument, which can be either a string (ie \"div\"\n * for `motion.div`), or an actual React component.\n *\n * Alongside this is a config option which provides a way of rendering the provided\n * component \"offline\", or outside the React render cycle.\n *\n * @internal\n */\nfunction createMotionComponent(_a) {\n    var preloadedFeatures = _a.preloadedFeatures, createVisualElement = _a.createVisualElement, useRender = _a.useRender, useVisualState = _a.useVisualState, Component = _a.Component;\n    preloadedFeatures && loadFeatures(preloadedFeatures);\n    function MotionComponent(props, externalRef) {\n        /**\n         * If we're rendering in a static environment, we only visually update the component\n         * as a result of a React-rerender rather than interactions or animations. This\n         * means we don't need to load additional memory structures like VisualElement,\n         * or any gesture/animation features.\n         */\n        var isStatic = useContext(MotionConfigContext).isStatic;\n        var features = null;\n        /**\n         * Create the tree context. This is memoized and will only trigger renders\n         * when the current tree variant changes in static mode.\n         */\n        var context = useCreateMotionContext(props, isStatic);\n        /**\n         *\n         */\n        var visualState = useVisualState(props, isStatic);\n        if (!isStatic && isBrowser) {\n            /**\n             * Create a VisualElement for this component. A VisualElement provides a common\n             * interface to renderer-specific APIs (ie DOM/Three.js etc) as well as\n             * providing a way of rendering to these APIs outside of the React render loop\n             * for more performant animations and interactions\n             */\n            context.visualElement = useVisualElement(Component, visualState, props, createVisualElement);\n            /**\n             * Load Motion gesture and animation features. These are rendered as renderless\n             * components so each feature can optionally make use of React lifecycle methods.\n             *\n             * TODO: The intention is to move these away from a React-centric to a\n             * VisualElement-centric lifecycle scheme.\n             */\n            features = useFeatures(props, context.visualElement, preloadedFeatures);\n        }\n        /**\n         * The mount order and hierarchy is specific to ensure our element ref\n         * is hydrated by the time features fire their effects.\n         */\n        return (React.createElement(React.Fragment, null,\n            React.createElement(MotionContext.Provider, { value: context }, useRender(Component, props, useMotionRef(visualState, context.visualElement, externalRef), visualState, isStatic)),\n            features));\n    }\n    return forwardRef(MotionComponent);\n}\n\nexport { createMotionComponent };\n","import { useCallback } from 'react';\nimport { isRefObject } from '../../utils/is-ref-object.js';\n\n/**\n * Creates a ref function that, when called, hydrates the provided\n * external ref and VisualElement.\n */\nfunction useMotionRef(visualState, visualElement, externalRef) {\n    return useCallback(function (instance) {\n        var _a;\n        instance && ((_a = visualState.mount) === null || _a === void 0 ? void 0 : _a.call(visualState, instance));\n        if (visualElement) {\n            instance\n                ? visualElement.mount(instance)\n                : visualElement.unmount();\n        }\n        if (externalRef) {\n            if (typeof externalRef === \"function\") {\n                externalRef(instance);\n            }\n            else if (isRefObject(externalRef)) {\n                externalRef.current = instance;\n            }\n        }\n    }, [visualElement, externalRef]);\n}\n\nexport { useMotionRef };\n","import { createMotionComponent } from '../../motion/index.js';\n\n/**\n * Convert any React component into a `motion` component. The provided component\n * **must** use `React.forwardRef` to the underlying DOM component you want to animate.\n *\n * ```jsx\n * const Component = React.forwardRef((props, ref) => {\n *   return <div ref={ref} />\n * })\n *\n * const MotionComponent = motion(Component)\n * ```\n *\n * @public\n */\nfunction createMotionProxy(createConfig) {\n    function custom(Component, customMotionComponentConfig) {\n        if (customMotionComponentConfig === void 0) { customMotionComponentConfig = {}; }\n        return createMotionComponent(createConfig(Component, customMotionComponentConfig));\n    }\n    /**\n     * A cache of generated `motion` components, e.g `motion.div`, `motion.input` etc.\n     * Rather than generating them anew every render.\n     */\n    var componentCache = new Map();\n    return new Proxy(custom, {\n        /**\n         * Called when `motion` is referenced with a prop: `motion.div`, `motion.input` etc.\n         * The prop name is passed through as `key` and we can use that to generate a `motion`\n         * DOM component with that name.\n         */\n        get: function (_target, key) {\n            /**\n             * If this element doesn't exist in the component cache, create it and cache.\n             */\n            if (!componentCache.has(key)) {\n                componentCache.set(key, custom(key));\n            }\n            return componentCache.get(key);\n        },\n    });\n}\n\nexport { createMotionProxy };\n","var createHtmlRenderState = function () { return ({\n    style: {},\n    transform: {},\n    transformKeys: [],\n    transformOrigin: {},\n    vars: {},\n}); };\n\nexport { createHtmlRenderState };\n","import { __assign } from 'tslib';\nimport { useMemo } from 'react';\nimport { isForcedMotionValue } from '../../motion/utils/is-forced-motion-value.js';\nimport { isMotionValue } from '../../value/utils/is-motion-value.js';\nimport { buildHTMLStyles } from './utils/build-styles.js';\nimport { createHtmlRenderState } from './utils/create-render-state.js';\n\nfunction copyRawValuesOnly(target, source, props) {\n    for (var key in source) {\n        if (!isMotionValue(source[key]) && !isForcedMotionValue(key, props)) {\n            target[key] = source[key];\n        }\n    }\n}\nfunction useInitialMotionValues(_a, visualState, isStatic) {\n    var transformTemplate = _a.transformTemplate;\n    return useMemo(function () {\n        var state = createHtmlRenderState();\n        buildHTMLStyles(state, visualState, undefined, undefined, { enableHardwareAcceleration: !isStatic }, transformTemplate);\n        var vars = state.vars, style = state.style;\n        return __assign(__assign({}, vars), style);\n    }, [visualState]);\n}\nfunction useStyle(props, visualState, isStatic) {\n    var styleProp = props.style || {};\n    var style = {};\n    /**\n     * Copy non-Motion Values straight into style\n     */\n    copyRawValuesOnly(style, styleProp, props);\n    Object.assign(style, useInitialMotionValues(props, visualState, isStatic));\n    if (props.transformValues) {\n        style = props.transformValues(style);\n    }\n    return style;\n}\nfunction useHTMLProps(props, visualState, isStatic) {\n    // The `any` isn't ideal but it is the type of createElement props argument\n    var htmlProps = {};\n    var style = useStyle(props, visualState, isStatic);\n    if (Boolean(props.drag)) {\n        // Disable the ghost element when a user drags\n        htmlProps.draggable = false;\n        // Disable text selection\n        style.userSelect = style.WebkitUserSelect = style.WebkitTouchCallout =\n            \"none\";\n        // Disable scrolling on the draggable direction\n        style.touchAction =\n            props.drag === true\n                ? \"none\"\n                : \"pan-\" + (props.drag === \"x\" ? \"y\" : \"x\");\n    }\n    htmlProps.style = style;\n    return htmlProps;\n}\n\nexport { copyRawValuesOnly, useHTMLProps, useStyle };\n","/**\n * A list of all valid MotionProps.\n *\n * @internalremarks\n * This doesn't throw if a `MotionProp` name is missing - it should.\n */\nvar validMotionProps = new Set([\n    \"initial\",\n    \"animate\",\n    \"exit\",\n    \"style\",\n    \"variants\",\n    \"transition\",\n    \"transformTemplate\",\n    \"transformValues\",\n    \"custom\",\n    \"inherit\",\n    \"layout\",\n    \"layoutId\",\n    \"_layoutResetTransform\",\n    \"onLayoutAnimationComplete\",\n    \"onViewportBoxUpdate\",\n    \"onLayoutMeasure\",\n    \"onBeforeLayoutMeasure\",\n    \"onAnimationStart\",\n    \"onAnimationComplete\",\n    \"onUpdate\",\n    \"onDragStart\",\n    \"onDrag\",\n    \"onDragEnd\",\n    \"onMeasureDragConstraints\",\n    \"onDirectionLock\",\n    \"onDragTransitionEnd\",\n    \"drag\",\n    \"dragControls\",\n    \"dragListener\",\n    \"dragConstraints\",\n    \"dragDirectionLock\",\n    \"_dragX\",\n    \"_dragY\",\n    \"dragElastic\",\n    \"dragMomentum\",\n    \"dragPropagation\",\n    \"dragTransition\",\n    \"whileDrag\",\n    \"onPan\",\n    \"onPanStart\",\n    \"onPanEnd\",\n    \"onPanSessionStart\",\n    \"onTap\",\n    \"onTapStart\",\n    \"onTapCancel\",\n    \"onHoverStart\",\n    \"onHoverEnd\",\n    \"whileFocus\",\n    \"whileTap\",\n    \"whileHover\",\n]);\n/**\n * Check whether a prop name is a valid `MotionProp` key.\n *\n * @param key - Name of the property to check\n * @returns `true` is key is a valid `MotionProp`.\n *\n * @public\n */\nfunction isValidMotionProp(key) {\n    return validMotionProps.has(key);\n}\n\nexport { isValidMotionProp };\n","import { isValidMotionProp } from '../../../motion/utils/valid-prop.js';\n\nvar shouldForward = function (key) { return !isValidMotionProp(key); };\n/**\n * Emotion and Styled Components both allow users to pass through arbitrary props to their components\n * to dynamically generate CSS. They both use the `@emotion/is-prop-valid` package to determine which\n * of these should be passed to the underlying DOM node.\n *\n * However, when styling a Motion component `styled(motion.div)`, both packages pass through *all* props\n * as it's seen as an arbitrary component rather than a DOM node. Motion only allows arbitrary props\n * passed through the `custom` prop so it doesn't *need* the payload or computational overhead of\n * `@emotion/is-prop-valid`, however to fix this problem we need to use it.\n *\n * By making it an optionalDependency we can offer this functionality only in the situations where it's\n * actually required.\n */\ntry {\n    var emotionIsPropValid_1 = require(\"@emotion/is-prop-valid\").default;\n    shouldForward = function (key) {\n        // Handle events explicitly as Emotion validates them all as true\n        if (key.startsWith(\"on\")) {\n            return !isValidMotionProp(key);\n        }\n        else {\n            return emotionIsPropValid_1(key);\n        }\n    };\n}\ncatch (_a) {\n    // We don't need to actually do anything here - the fallback is the existing `isPropValid`.\n}\nfunction filterProps(props, isDom, forwardMotionProps) {\n    var filteredProps = {};\n    for (var key in props) {\n        if (shouldForward(key) ||\n            (forwardMotionProps === true && isValidMotionProp(key)) ||\n            (!isDom && !isValidMotionProp(key))) {\n            filteredProps[key] = props[key];\n        }\n    }\n    return filteredProps;\n}\n\nexport { filterProps };\n","import { __assign } from 'tslib';\nimport { createHtmlRenderState } from '../../html/utils/create-render-state.js';\n\nvar createSvgRenderState = function () { return (__assign(__assign({}, createHtmlRenderState()), { attrs: {} })); };\n\nexport { createSvgRenderState };\n","import { __assign } from 'tslib';\nimport { useMemo } from 'react';\nimport { copyRawValuesOnly } from '../html/use-props.js';\nimport { buildSVGAttrs } from './utils/build-attrs.js';\nimport { createSvgRenderState } from './utils/create-render-state.js';\n\nfunction useSVGProps(props, visualState) {\n    var visualProps = useMemo(function () {\n        var state = createSvgRenderState();\n        buildSVGAttrs(state, visualState, undefined, undefined, { enableHardwareAcceleration: false }, props.transformTemplate);\n        return __assign(__assign({}, state.attrs), { style: __assign({}, state.style) });\n    }, [visualState]);\n    if (props.style) {\n        var rawStyles = {};\n        copyRawValuesOnly(rawStyles, props.style, props);\n        visualProps.style = __assign(__assign({}, rawStyles), visualProps.style);\n    }\n    return visualProps;\n}\n\nexport { useSVGProps };\n","import { __assign } from 'tslib';\nimport { createElement } from 'react';\nimport { useHTMLProps } from '../html/use-props.js';\nimport { filterProps } from './utils/filter-props.js';\nimport { isSVGComponent } from './utils/is-svg-component.js';\nimport { useSVGProps } from '../svg/use-props.js';\n\nfunction createUseRender(forwardMotionProps) {\n    if (forwardMotionProps === void 0) { forwardMotionProps = false; }\n    var useRender = function (Component, props, ref, _a, isStatic) {\n        var latestValues = _a.latestValues;\n        var useVisualProps = isSVGComponent(Component)\n            ? useSVGProps\n            : useHTMLProps;\n        var visualProps = useVisualProps(props, latestValues, isStatic);\n        var filteredProps = filterProps(props, typeof Component === \"string\", forwardMotionProps);\n        var elementProps = __assign(__assign(__assign({}, filteredProps), visualProps), { ref: ref });\n        return createElement(Component, elementProps);\n    };\n    return useRender;\n}\n\nexport { createUseRender };\n","import { isCustomValue } from '../../utils/resolve-value.js';\nimport { isMotionValue } from './is-motion-value.js';\n\n/**\n * If the provided value is a MotionValue, this returns the actual value, otherwise just the value itself\n *\n * TODO: Remove and move to library\n *\n * @internal\n */\nfunction resolveMotionValue(value) {\n    var unwrappedValue = isMotionValue(value) ? value.get() : value;\n    return isCustomValue(unwrappedValue)\n        ? unwrappedValue.toValue()\n        : unwrappedValue;\n}\n\nexport { resolveMotionValue };\n","import { __rest } from 'tslib';\nimport { useContext } from 'react';\nimport { isAnimationControls } from '../../animation/utils/is-animation-controls.js';\nimport { PresenceContext } from '../../context/PresenceContext.js';\nimport { checkIfControllingVariants, checkIfVariantNode, resolveVariantFromProps } from '../../render/utils/variants.js';\nimport { useConstant } from '../../utils/use-constant.js';\nimport { resolveMotionValue } from '../../value/utils/resolve-motion-value.js';\nimport { MotionContext } from '../../context/MotionContext/index.js';\n\nfunction makeState(_a, props, context, presenceContext) {\n    var scrapeMotionValuesFromProps = _a.scrapeMotionValuesFromProps, createRenderState = _a.createRenderState, onMount = _a.onMount;\n    var state = {\n        latestValues: makeLatestValues(props, context, presenceContext, scrapeMotionValuesFromProps),\n        renderState: createRenderState(),\n    };\n    if (onMount) {\n        state.mount = function (instance) { return onMount(props, instance, state); };\n    }\n    return state;\n}\nvar makeUseVisualState = function (config) { return function (props, isStatic) {\n    var context = useContext(MotionContext);\n    var presenceContext = useContext(PresenceContext);\n    return isStatic\n        ? makeState(config, props, context, presenceContext)\n        : useConstant(function () { return makeState(config, props, context, presenceContext); });\n}; };\nfunction makeLatestValues(props, context, presenceContext, scrapeMotionValues) {\n    var values = {};\n    var blockInitialAnimation = (presenceContext === null || presenceContext === void 0 ? void 0 : presenceContext.initial) === false;\n    var motionValues = scrapeMotionValues(props);\n    for (var key in motionValues) {\n        values[key] = resolveMotionValue(motionValues[key]);\n    }\n    var initial = props.initial, animate = props.animate;\n    var isControllingVariants = checkIfControllingVariants(props);\n    var isVariantNode = checkIfVariantNode(props);\n    if (context &&\n        isVariantNode &&\n        !isControllingVariants &&\n        props.inherit !== false) {\n        initial !== null && initial !== void 0 ? initial : (initial = context.initial);\n        animate !== null && animate !== void 0 ? animate : (animate = context.animate);\n    }\n    var variantToSet = blockInitialAnimation || initial === false ? animate : initial;\n    if (variantToSet &&\n        typeof variantToSet !== \"boolean\" &&\n        !isAnimationControls(variantToSet)) {\n        var list = Array.isArray(variantToSet) ? variantToSet : [variantToSet];\n        list.forEach(function (definition) {\n            var resolved = resolveVariantFromProps(props, definition);\n            if (!resolved)\n                return;\n            var transitionEnd = resolved.transitionEnd; resolved.transition; var target = __rest(resolved, [\"transitionEnd\", \"transition\"]);\n            for (var key in target)\n                values[key] = target[key];\n            for (var key in transitionEnd)\n                values[key] = transitionEnd[key];\n        });\n    }\n    return values;\n}\n\nexport { makeUseVisualState };\n","import { renderSVG } from './utils/render.js';\nimport { scrapeMotionValuesFromProps } from './utils/scrape-motion-values.js';\nimport { makeUseVisualState } from '../../motion/utils/use-visual-state.js';\nimport { createSvgRenderState } from './utils/create-render-state.js';\nimport { buildSVGAttrs } from './utils/build-attrs.js';\n\nvar svgMotionConfig = {\n    useVisualState: makeUseVisualState({\n        scrapeMotionValuesFromProps: scrapeMotionValuesFromProps,\n        createRenderState: createSvgRenderState,\n        onMount: function (props, instance, _a) {\n            var renderState = _a.renderState, latestValues = _a.latestValues;\n            try {\n                renderState.dimensions =\n                    typeof instance.getBBox ===\n                        \"function\"\n                        ? instance.getBBox()\n                        : instance.getBoundingClientRect();\n            }\n            catch (e) {\n                // Most likely trying to measure an unrendered element under Firefox\n                renderState.dimensions = {\n                    x: 0,\n                    y: 0,\n                    width: 0,\n                    height: 0,\n                };\n            }\n            if (isPath(instance)) {\n                renderState.totalPathLength = instance.getTotalLength();\n            }\n            buildSVGAttrs(renderState, latestValues, undefined, undefined, { enableHardwareAcceleration: false }, props.transformTemplate);\n            // TODO: Replace with direct assignment\n            renderSVG(instance, renderState);\n        },\n    }),\n};\nfunction isPath(element) {\n    return element.tagName === \"path\";\n}\n\nexport { svgMotionConfig };\n","import { makeUseVisualState } from '../../motion/utils/use-visual-state.js';\nimport { scrapeMotionValuesFromProps } from './utils/scrape-motion-values.js';\nimport { createHtmlRenderState } from './utils/create-render-state.js';\n\nvar htmlMotionConfig = {\n    useVisualState: makeUseVisualState({\n        scrapeMotionValuesFromProps: scrapeMotionValuesFromProps,\n        createRenderState: createHtmlRenderState,\n    }),\n};\n\nexport { htmlMotionConfig };\n","import { __assign } from 'tslib';\nimport { isSVGComponent } from './is-svg-component.js';\nimport { createUseRender } from '../use-render.js';\nimport { svgMotionConfig } from '../../svg/config-motion.js';\nimport { htmlMotionConfig } from '../../html/config-motion.js';\n\nfunction createDomMotionConfig(Component, _a, preloadedFeatures, createVisualElement) {\n    var _b = _a.forwardMotionProps, forwardMotionProps = _b === void 0 ? false : _b;\n    var baseConfig = isSVGComponent(Component)\n        ? svgMotionConfig\n        : htmlMotionConfig;\n    return __assign(__assign({}, baseConfig), { preloadedFeatures: preloadedFeatures, useRender: createUseRender(forwardMotionProps), createVisualElement: createVisualElement,\n        Component: Component });\n}\n\nexport { createDomMotionConfig };\n","import { __assign } from 'tslib';\nimport { isMouseEvent, isTouchEvent } from './utils/event-type.js';\nimport { extractEventInfo } from '../events/event-info.js';\nimport sync, { getFrameData, cancelSync } from 'framesync';\nimport { secondsToMilliseconds } from '../utils/time-conversion.js';\nimport { addPointerEvent } from '../events/use-pointer-event.js';\nimport { distance, pipe } from 'popmotion';\n\n/**\n * @internal\n */\nvar PanSession = /** @class */ (function () {\n    function PanSession(event, handlers, _a) {\n        var _this = this;\n        var _b = _a === void 0 ? {} : _a, transformPagePoint = _b.transformPagePoint;\n        /**\n         * @internal\n         */\n        this.startEvent = null;\n        /**\n         * @internal\n         */\n        this.lastMoveEvent = null;\n        /**\n         * @internal\n         */\n        this.lastMoveEventInfo = null;\n        /**\n         * @internal\n         */\n        this.handlers = {};\n        this.updatePoint = function () {\n            if (!(_this.lastMoveEvent && _this.lastMoveEventInfo))\n                return;\n            var info = getPanInfo(_this.lastMoveEventInfo, _this.history);\n            var isPanStarted = _this.startEvent !== null;\n            // Only start panning if the offset is larger than 3 pixels. If we make it\n            // any larger than this we'll want to reset the pointer history\n            // on the first update to avoid visual snapping to the cursoe.\n            var isDistancePastThreshold = distance(info.offset, { x: 0, y: 0 }) >= 3;\n            if (!isPanStarted && !isDistancePastThreshold)\n                return;\n            var point = info.point;\n            var timestamp = getFrameData().timestamp;\n            _this.history.push(__assign(__assign({}, point), { timestamp: timestamp }));\n            var _a = _this.handlers, onStart = _a.onStart, onMove = _a.onMove;\n            if (!isPanStarted) {\n                onStart && onStart(_this.lastMoveEvent, info);\n                _this.startEvent = _this.lastMoveEvent;\n            }\n            onMove && onMove(_this.lastMoveEvent, info);\n        };\n        this.handlePointerMove = function (event, info) {\n            _this.lastMoveEvent = event;\n            _this.lastMoveEventInfo = transformPoint(info, _this.transformPagePoint);\n            // Because Safari doesn't trigger mouseup events when it's above a `<select>`\n            if (isMouseEvent(event) && event.buttons === 0) {\n                _this.handlePointerUp(event, info);\n                return;\n            }\n            // Throttle mouse move event to once per frame\n            sync.update(_this.updatePoint, true);\n        };\n        this.handlePointerUp = function (event, info) {\n            _this.end();\n            var onEnd = _this.handlers.onEnd;\n            if (!onEnd || !_this.startEvent)\n                return;\n            var panInfo = getPanInfo(transformPoint(info, _this.transformPagePoint), _this.history);\n            onEnd && onEnd(event, panInfo);\n        };\n        // If we have more than one touch, don't start detecting this gesture\n        if (isTouchEvent(event) && event.touches.length > 1)\n            return;\n        this.handlers = handlers;\n        this.transformPagePoint = transformPagePoint;\n        var info = extractEventInfo(event);\n        var initialInfo = transformPoint(info, this.transformPagePoint);\n        var point = initialInfo.point;\n        var timestamp = getFrameData().timestamp;\n        this.history = [__assign(__assign({}, point), { timestamp: timestamp })];\n        var onSessionStart = handlers.onSessionStart;\n        onSessionStart &&\n            onSessionStart(event, getPanInfo(initialInfo, this.history));\n        this.removeListeners = pipe(addPointerEvent(window, \"pointermove\", this.handlePointerMove), addPointerEvent(window, \"pointerup\", this.handlePointerUp), addPointerEvent(window, \"pointercancel\", this.handlePointerUp));\n    }\n    PanSession.prototype.updateHandlers = function (handlers) {\n        this.handlers = handlers;\n    };\n    PanSession.prototype.end = function () {\n        this.removeListeners && this.removeListeners();\n        cancelSync.update(this.updatePoint);\n    };\n    return PanSession;\n}());\nfunction transformPoint(info, transformPagePoint) {\n    return transformPagePoint ? { point: transformPagePoint(info.point) } : info;\n}\nfunction subtractPoint(a, b) {\n    return { x: a.x - b.x, y: a.y - b.y };\n}\nfunction getPanInfo(_a, history) {\n    var point = _a.point;\n    return {\n        point: point,\n        delta: subtractPoint(point, lastDevicePoint(history)),\n        offset: subtractPoint(point, startDevicePoint(history)),\n        velocity: getVelocity(history, 0.1),\n    };\n}\nfunction startDevicePoint(history) {\n    return history[0];\n}\nfunction lastDevicePoint(history) {\n    return history[history.length - 1];\n}\nfunction getVelocity(history, timeDelta) {\n    if (history.length < 2) {\n        return { x: 0, y: 0 };\n    }\n    var i = history.length - 1;\n    var timestampedPoint = null;\n    var lastPoint = lastDevicePoint(history);\n    while (i >= 0) {\n        timestampedPoint = history[i];\n        if (lastPoint.timestamp - timestampedPoint.timestamp >\n            secondsToMilliseconds(timeDelta)) {\n            break;\n        }\n        i--;\n    }\n    if (!timestampedPoint) {\n        return { x: 0, y: 0 };\n    }\n    var time = (lastPoint.timestamp - timestampedPoint.timestamp) / 1000;\n    if (time === 0) {\n        return { x: 0, y: 0 };\n    }\n    var currentVelocity = {\n        x: (lastPoint.x - timestampedPoint.x) / time,\n        y: (lastPoint.y - timestampedPoint.y) / time,\n    };\n    if (currentVelocity.x === Infinity) {\n        currentVelocity.x = 0;\n    }\n    if (currentVelocity.y === Infinity) {\n        currentVelocity.y = 0;\n    }\n    return currentVelocity;\n}\n\nexport { PanSession };\n","import { __read } from 'tslib';\nimport { mix } from 'popmotion';\n\n/**\n * Apply constraints to a point. These constraints are both physical along an\n * axis, and an elastic factor that determines how much to constrain the point\n * by if it does lie outside the defined parameters.\n */\nfunction applyConstraints(point, _a, elastic) {\n    var min = _a.min, max = _a.max;\n    if (min !== undefined && point < min) {\n        // If we have a min point defined, and this is outside of that, constrain\n        point = elastic ? mix(min, point, elastic.min) : Math.max(point, min);\n    }\n    else if (max !== undefined && point > max) {\n        // If we have a max point defined, and this is outside of that, constrain\n        point = elastic ? mix(max, point, elastic.max) : Math.min(point, max);\n    }\n    return point;\n}\n/**\n * Calculates a min projection point based on a pointer, pointer progress\n * within the drag target, and constraints.\n *\n * For instance if an element was 100px width, we were dragging from 0.25\n * along this axis, the pointer is at 200px, and there were no constraints,\n * we would calculate a min projection point of 175px.\n */\nfunction calcConstrainedMinPoint(point, length, progress, constraints, elastic) {\n    // Calculate a min point for this axis and apply it to the current pointer\n    var min = point - length * progress;\n    return constraints ? applyConstraints(min, constraints, elastic) : min;\n}\n/**\n * Calculate constraints in terms of the viewport when defined relatively to the\n * measured axis. This is measured from the nearest edge, so a max constraint of 200\n * on an axis with a max value of 300 would return a constraint of 500 - axis length\n */\nfunction calcRelativeAxisConstraints(axis, min, max) {\n    return {\n        min: min !== undefined ? axis.min + min : undefined,\n        max: max !== undefined\n            ? axis.max + max - (axis.max - axis.min)\n            : undefined,\n    };\n}\n/**\n * Calculate constraints in terms of the viewport when\n * defined relatively to the measured bounding box.\n */\nfunction calcRelativeConstraints(layoutBox, _a) {\n    var top = _a.top, left = _a.left, bottom = _a.bottom, right = _a.right;\n    return {\n        x: calcRelativeAxisConstraints(layoutBox.x, left, right),\n        y: calcRelativeAxisConstraints(layoutBox.y, top, bottom),\n    };\n}\n/**\n * Calculate viewport constraints when defined as another viewport-relative axis\n */\nfunction calcViewportAxisConstraints(layoutAxis, constraintsAxis) {\n    var _a;\n    var min = constraintsAxis.min - layoutAxis.min;\n    var max = constraintsAxis.max - layoutAxis.max;\n    // If the constraints axis is actually smaller than the layout axis then we can\n    // flip the constraints\n    if (constraintsAxis.max - constraintsAxis.min <\n        layoutAxis.max - layoutAxis.min) {\n        _a = __read([max, min], 2), min = _a[0], max = _a[1];\n    }\n    return {\n        min: layoutAxis.min + min,\n        max: layoutAxis.min + max,\n    };\n}\n/**\n * Calculate viewport constraints when defined as another viewport-relative box\n */\nfunction calcViewportConstraints(layoutBox, constraintsBox) {\n    return {\n        x: calcViewportAxisConstraints(layoutBox.x, constraintsBox.x),\n        y: calcViewportAxisConstraints(layoutBox.y, constraintsBox.y),\n    };\n}\n/**\n * Calculate the an axis position based on two axes and a progress value.\n */\nfunction calcPositionFromProgress(axis, constraints, progress) {\n    var axisLength = axis.max - axis.min;\n    var min = mix(constraints.min, constraints.max - axisLength, progress);\n    return { min: min, max: min + axisLength };\n}\n/**\n * Rebase the calculated viewport constraints relative to the layout.min point.\n */\nfunction rebaseAxisConstraints(layout, constraints) {\n    var relativeConstraints = {};\n    if (constraints.min !== undefined) {\n        relativeConstraints.min = constraints.min - layout.min;\n    }\n    if (constraints.max !== undefined) {\n        relativeConstraints.max = constraints.max - layout.min;\n    }\n    return relativeConstraints;\n}\nvar defaultElastic = 0.35;\n/**\n * Accepts a dragElastic prop and returns resolved elastic values for each axis.\n */\nfunction resolveDragElastic(dragElastic) {\n    if (dragElastic === false) {\n        dragElastic = 0;\n    }\n    else if (dragElastic === true) {\n        dragElastic = defaultElastic;\n    }\n    return {\n        x: resolveAxisElastic(dragElastic, \"left\", \"right\"),\n        y: resolveAxisElastic(dragElastic, \"top\", \"bottom\"),\n    };\n}\nfunction resolveAxisElastic(dragElastic, minLabel, maxLabel) {\n    return {\n        min: resolvePointElastic(dragElastic, minLabel),\n        max: resolvePointElastic(dragElastic, maxLabel),\n    };\n}\nfunction resolvePointElastic(dragElastic, label) {\n    var _a;\n    return typeof dragElastic === \"number\"\n        ? dragElastic\n        : (_a = dragElastic[label]) !== null && _a !== void 0 ? _a : 0;\n}\n\nexport { applyConstraints, calcConstrainedMinPoint, calcPositionFromProgress, calcRelativeAxisConstraints, calcRelativeConstraints, calcViewportAxisConstraints, calcViewportConstraints, defaultElastic, rebaseAxisConstraints, resolveAxisElastic, resolveDragElastic, resolvePointElastic };\n","import sync from 'framesync';\nimport { copyAxisBox } from '../../../utils/geometry/index.js';\nimport { compareByDepth } from '../../utils/compare-by-depth.js';\n\nfunction isProjecting(visualElement) {\n    var isEnabled = visualElement.projection.isEnabled;\n    return isEnabled || visualElement.shouldResetTransform();\n}\nfunction collectProjectingAncestors(visualElement, ancestors) {\n    if (ancestors === void 0) { ancestors = []; }\n    var parent = visualElement.parent;\n    if (parent)\n        collectProjectingAncestors(parent, ancestors);\n    if (isProjecting(visualElement))\n        ancestors.push(visualElement);\n    return ancestors;\n}\nfunction collectProjectingChildren(visualElement) {\n    var children = [];\n    var addChild = function (child) {\n        if (isProjecting(child))\n            children.push(child);\n        child.children.forEach(addChild);\n    };\n    visualElement.children.forEach(addChild);\n    return children.sort(compareByDepth);\n}\n/**\n * Update the layoutState by measuring the DOM layout. This\n * should be called after resetting any layout-affecting transforms.\n */\nfunction updateLayoutMeasurement(visualElement) {\n    if (visualElement.shouldResetTransform())\n        return;\n    var layoutState = visualElement.getLayoutState();\n    visualElement.notifyBeforeLayoutMeasure(layoutState.layout);\n    layoutState.isHydrated = true;\n    layoutState.layout = visualElement.measureViewportBox();\n    layoutState.layoutCorrected = copyAxisBox(layoutState.layout);\n    visualElement.notifyLayoutMeasure(layoutState.layout, visualElement.prevViewportBox || layoutState.layout);\n    sync.update(function () { return visualElement.rebaseProjectionTarget(); });\n}\n/**\n * Record the viewport box as it was before an expected mutation/re-render\n */\nfunction snapshotViewportBox(visualElement) {\n    if (visualElement.shouldResetTransform())\n        return;\n    visualElement.prevViewportBox = visualElement.measureViewportBox(false);\n    /**\n     * Update targetBox to match the prevViewportBox. This is just to ensure\n     * that targetBox is affected by scroll in the same way as the measured box\n     */\n    visualElement.rebaseProjectionTarget(false, visualElement.prevViewportBox);\n}\n\nexport { collectProjectingAncestors, collectProjectingChildren, snapshotViewportBox, updateLayoutMeasurement };\n","import { __rest, __assign, __spreadArray, __read } from 'tslib';\nimport { invariant } from 'hey-listen';\nimport { PanSession } from '../PanSession.js';\nimport { getGlobalLock } from './utils/lock.js';\nimport { isRefObject } from '../../utils/is-ref-object.js';\nimport { addPointerEvent } from '../../events/use-pointer-event.js';\nimport { addDomEvent } from '../../events/use-dom-event.js';\nimport { getViewportPointFromEvent } from '../../events/event-info.js';\nimport { axisBox, convertAxisBoxToBoundingBox, convertBoundingBoxToAxisBox } from '../../utils/geometry/index.js';\nimport { eachAxis } from '../../utils/each-axis.js';\nimport { calcRelativeConstraints, resolveDragElastic, rebaseAxisConstraints, calcViewportConstraints, applyConstraints, calcConstrainedMinPoint, calcPositionFromProgress, defaultElastic } from './utils/constraints.js';\nimport { getBoundingBox } from '../../render/dom/projection/measure.js';\nimport { calcOrigin } from '../../utils/geometry/delta-calc.js';\nimport { startAnimation } from '../../animation/utils/transitions.js';\nimport { AnimationType } from '../../render/utils/types.js';\nimport { collectProjectingAncestors, updateLayoutMeasurement, collectProjectingChildren } from '../../render/dom/projection/utils.js';\nimport { progress } from 'popmotion';\nimport { convertToRelativeProjection } from '../../render/dom/projection/convert-to-relative.js';\nimport { calcRelativeOffset } from '../../motion/features/layout/utils.js';\nimport { flushLayout, batchLayout } from '../../render/dom/utils/batch-layout.js';\nimport { flushSync } from 'framesync';\n\nvar elementDragControls = new WeakMap();\n/**\n *\n */\nvar lastPointerEvent;\nvar VisualElementDragControls = /** @class */ (function () {\n    function VisualElementDragControls(_a) {\n        var visualElement = _a.visualElement;\n        /**\n         * Track whether we're currently dragging.\n         *\n         * @internal\n         */\n        this.isDragging = false;\n        /**\n         * The current direction of drag, or `null` if both.\n         *\n         * @internal\n         */\n        this.currentDirection = null;\n        /**\n         * The permitted boundaries of travel, in pixels.\n         *\n         * @internal\n         */\n        this.constraints = false;\n        /**\n         * The per-axis resolved elastic values.\n         *\n         * @internal\n         */\n        this.elastic = axisBox();\n        /**\n         * A reference to the host component's latest props.\n         *\n         * @internal\n         */\n        this.props = {};\n        /**\n         * @internal\n         */\n        this.hasMutatedConstraints = false;\n        /**\n         * Track the initial position of the cursor relative to the dragging element\n         * when dragging starts as a value of 0-1 on each axis. We then use this to calculate\n         * an ideal bounding box for the VisualElement renderer to project into every frame.\n         *\n         * @internal\n         */\n        this.cursorProgress = {\n            x: 0.5,\n            y: 0.5,\n        };\n        // When updating _dragX, or _dragY instead of the VisualElement,\n        // persist their values between drag gestures.\n        this.originPoint = {};\n        // This is a reference to the global drag gesture lock, ensuring only one component\n        // can \"capture\" the drag of one or both axes.\n        // TODO: Look into moving this into pansession?\n        this.openGlobalLock = null;\n        /**\n         * @internal\n         */\n        this.panSession = null;\n        this.visualElement = visualElement;\n        this.visualElement.enableLayoutProjection();\n        elementDragControls.set(visualElement, this);\n    }\n    /**\n     * Instantiate a PanSession for the drag gesture\n     *\n     * @public\n     */\n    VisualElementDragControls.prototype.start = function (originEvent, _a) {\n        var _this = this;\n        var _b = _a === void 0 ? {} : _a, _c = _b.snapToCursor, snapToCursor = _c === void 0 ? false : _c, cursorProgress = _b.cursorProgress;\n        var onSessionStart = function (event) {\n            var _a;\n            // Stop any animations on both axis values immediately. This allows the user to throw and catch\n            // the component.\n            _this.stopMotion();\n            /**\n             * Save the initial point. We'll use this to calculate the pointer's position rather\n             * than the one we receive when the gesture actually starts. By then, the pointer will\n             * have already moved, and the perception will be of the pointer \"slipping\" across the element\n             */\n            var initialPoint = getViewportPointFromEvent(event).point;\n            (_a = _this.cancelLayout) === null || _a === void 0 ? void 0 : _a.call(_this);\n            _this.cancelLayout = batchLayout(function (read, write) {\n                var ancestors = collectProjectingAncestors(_this.visualElement);\n                var children = collectProjectingChildren(_this.visualElement);\n                var tree = __spreadArray(__spreadArray([], __read(ancestors)), __read(children));\n                var hasManuallySetCursorOrigin = false;\n                /**\n                 * Apply a simple lock to the projection target. This ensures no animations\n                 * can run on the projection box while this lock is active.\n                 */\n                _this.isLayoutDrag() && _this.visualElement.lockProjectionTarget();\n                write(function () {\n                    tree.forEach(function (element) { return element.resetTransform(); });\n                });\n                read(function () {\n                    updateLayoutMeasurement(_this.visualElement);\n                    children.forEach(updateLayoutMeasurement);\n                });\n                write(function () {\n                    tree.forEach(function (element) { return element.restoreTransform(); });\n                    if (snapToCursor) {\n                        hasManuallySetCursorOrigin = _this.snapToCursor(initialPoint);\n                    }\n                });\n                read(function () {\n                    var isRelativeDrag = Boolean(_this.getAxisMotionValue(\"x\") && !_this.isExternalDrag());\n                    if (!isRelativeDrag) {\n                        _this.visualElement.rebaseProjectionTarget(true, _this.visualElement.measureViewportBox(false));\n                    }\n                    _this.visualElement.scheduleUpdateLayoutProjection();\n                    /**\n                     * When dragging starts, we want to find where the cursor is relative to the bounding box\n                     * of the element. Every frame, we calculate a new bounding box using this relative position\n                     * and let the visualElement renderer figure out how to reproject the element into this bounding\n                     * box.\n                     *\n                     * By doing it this way, rather than applying an x/y transform directly to the element,\n                     * we can ensure the component always visually sticks to the cursor as we'd expect, even\n                     * if the DOM element itself changes layout as a result of React updates the user might\n                     * make based on the drag position.\n                     */\n                    var projection = _this.visualElement.projection;\n                    eachAxis(function (axis) {\n                        if (!hasManuallySetCursorOrigin) {\n                            var _a = projection.target[axis], min = _a.min, max = _a.max;\n                            _this.cursorProgress[axis] = cursorProgress\n                                ? cursorProgress[axis]\n                                : progress(min, max, initialPoint[axis]);\n                        }\n                        /**\n                         * If we have external drag MotionValues, record their origin point. On pointermove\n                         * we'll apply the pan gesture offset directly to this value.\n                         */\n                        var axisValue = _this.getAxisMotionValue(axis);\n                        if (axisValue) {\n                            _this.originPoint[axis] = axisValue.get();\n                        }\n                    });\n                });\n                write(function () {\n                    flushSync.update();\n                    flushSync.preRender();\n                    flushSync.render();\n                    flushSync.postRender();\n                });\n                read(function () { return _this.resolveDragConstraints(); });\n            });\n        };\n        var onStart = function (event, info) {\n            var _a, _b, _c;\n            // Attempt to grab the global drag gesture lock - maybe make this part of PanSession\n            var _d = _this.props, drag = _d.drag, dragPropagation = _d.dragPropagation;\n            if (drag && !dragPropagation) {\n                if (_this.openGlobalLock)\n                    _this.openGlobalLock();\n                _this.openGlobalLock = getGlobalLock(drag);\n                // If we don 't have the lock, don't start dragging\n                if (!_this.openGlobalLock)\n                    return;\n            }\n            flushLayout();\n            // Set current drag status\n            _this.isDragging = true;\n            _this.currentDirection = null;\n            // Fire onDragStart event\n            (_b = (_a = _this.props).onDragStart) === null || _b === void 0 ? void 0 : _b.call(_a, event, info);\n            (_c = _this.visualElement.animationState) === null || _c === void 0 ? void 0 : _c.setActive(AnimationType.Drag, true);\n        };\n        var onMove = function (event, info) {\n            var _a, _b, _c, _d;\n            var _e = _this.props, dragPropagation = _e.dragPropagation, dragDirectionLock = _e.dragDirectionLock;\n            // If we didn't successfully receive the gesture lock, early return.\n            if (!dragPropagation && !_this.openGlobalLock)\n                return;\n            var offset = info.offset;\n            // Attempt to detect drag direction if directionLock is true\n            if (dragDirectionLock && _this.currentDirection === null) {\n                _this.currentDirection = getCurrentDirection(offset);\n                // If we've successfully set a direction, notify listener\n                if (_this.currentDirection !== null) {\n                    (_b = (_a = _this.props).onDirectionLock) === null || _b === void 0 ? void 0 : _b.call(_a, _this.currentDirection);\n                }\n                return;\n            }\n            // Update each point with the latest position\n            _this.updateAxis(\"x\", info.point, offset);\n            _this.updateAxis(\"y\", info.point, offset);\n            // Fire onDrag event\n            (_d = (_c = _this.props).onDrag) === null || _d === void 0 ? void 0 : _d.call(_c, event, info);\n            // Update the last pointer event\n            lastPointerEvent = event;\n        };\n        var onEnd = function (event, info) { return _this.stop(event, info); };\n        var transformPagePoint = this.props.transformPagePoint;\n        this.panSession = new PanSession(originEvent, {\n            onSessionStart: onSessionStart,\n            onStart: onStart,\n            onMove: onMove,\n            onEnd: onEnd,\n        }, { transformPagePoint: transformPagePoint });\n    };\n    VisualElementDragControls.prototype.resolveDragConstraints = function () {\n        var _this = this;\n        var _a = this.props, dragConstraints = _a.dragConstraints, dragElastic = _a.dragElastic;\n        var layout = this.visualElement.getLayoutState().layoutCorrected;\n        if (dragConstraints) {\n            this.constraints = isRefObject(dragConstraints)\n                ? this.resolveRefConstraints(layout, dragConstraints)\n                : calcRelativeConstraints(layout, dragConstraints);\n        }\n        else {\n            this.constraints = false;\n        }\n        this.elastic = resolveDragElastic(dragElastic);\n        /**\n         * If we're outputting to external MotionValues, we want to rebase the measured constraints\n         * from viewport-relative to component-relative.\n         */\n        if (this.constraints && !this.hasMutatedConstraints) {\n            eachAxis(function (axis) {\n                if (_this.getAxisMotionValue(axis)) {\n                    _this.constraints[axis] = rebaseAxisConstraints(layout[axis], _this.constraints[axis]);\n                }\n            });\n        }\n    };\n    VisualElementDragControls.prototype.resolveRefConstraints = function (layoutBox, constraints) {\n        var _a = this.props, onMeasureDragConstraints = _a.onMeasureDragConstraints, transformPagePoint = _a.transformPagePoint;\n        var constraintsElement = constraints.current;\n        invariant(constraintsElement !== null, \"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.\");\n        this.constraintsBox = getBoundingBox(constraintsElement, transformPagePoint);\n        var measuredConstraints = calcViewportConstraints(layoutBox, this.constraintsBox);\n        /**\n         * If there's an onMeasureDragConstraints listener we call it and\n         * if different constraints are returned, set constraints to that\n         */\n        if (onMeasureDragConstraints) {\n            var userConstraints = onMeasureDragConstraints(convertAxisBoxToBoundingBox(measuredConstraints));\n            this.hasMutatedConstraints = !!userConstraints;\n            if (userConstraints) {\n                measuredConstraints = convertBoundingBoxToAxisBox(userConstraints);\n            }\n        }\n        return measuredConstraints;\n    };\n    VisualElementDragControls.prototype.cancelDrag = function () {\n        var _a, _b;\n        (_a = this.cancelLayout) === null || _a === void 0 ? void 0 : _a.call(this);\n        this.isDragging = false;\n        this.panSession && this.panSession.end();\n        this.panSession = null;\n        if (!this.props.dragPropagation && this.openGlobalLock) {\n            this.openGlobalLock();\n            this.openGlobalLock = null;\n        }\n        (_b = this.visualElement.animationState) === null || _b === void 0 ? void 0 : _b.setActive(AnimationType.Drag, false);\n    };\n    VisualElementDragControls.prototype.stop = function (event, info) {\n        var _a, _b, _c;\n        this.visualElement.unlockProjectionTarget();\n        (_a = this.panSession) === null || _a === void 0 ? void 0 : _a.end();\n        this.panSession = null;\n        var isDragging = this.isDragging;\n        this.cancelDrag();\n        if (!isDragging)\n            return;\n        var velocity = info.velocity;\n        this.animateDragEnd(velocity);\n        (_c = (_b = this.props).onDragEnd) === null || _c === void 0 ? void 0 : _c.call(_b, event, info);\n    };\n    VisualElementDragControls.prototype.snapToCursor = function (point) {\n        var _this = this;\n        return eachAxis(function (axis) {\n            var drag = _this.props.drag;\n            // If we're not dragging this axis, do an early return.\n            if (!shouldDrag(axis, drag, _this.currentDirection))\n                return;\n            var axisValue = _this.getAxisMotionValue(axis);\n            if (axisValue) {\n                var box = _this.visualElement.getLayoutState().layout;\n                var length_1 = box[axis].max - box[axis].min;\n                var center = box[axis].min + length_1 / 2;\n                var offset = point[axis] - center;\n                _this.originPoint[axis] = point[axis];\n                axisValue.set(offset);\n            }\n            else {\n                _this.cursorProgress[axis] = 0.5;\n                return true;\n            }\n        }).includes(true);\n    };\n    /**\n     * Update the specified axis with the latest pointer information.\n     */\n    VisualElementDragControls.prototype.updateAxis = function (axis, point, offset) {\n        var drag = this.props.drag;\n        // If we're not dragging this axis, do an early return.\n        if (!shouldDrag(axis, drag, this.currentDirection))\n            return;\n        return this.getAxisMotionValue(axis)\n            ? this.updateAxisMotionValue(axis, offset)\n            : this.updateVisualElementAxis(axis, point);\n    };\n    VisualElementDragControls.prototype.updateAxisMotionValue = function (axis, offset) {\n        var axisValue = this.getAxisMotionValue(axis);\n        if (!offset || !axisValue)\n            return;\n        var nextValue = this.originPoint[axis] + offset[axis];\n        var update = this.constraints\n            ? applyConstraints(nextValue, this.constraints[axis], this.elastic[axis])\n            : nextValue;\n        axisValue.set(update);\n    };\n    VisualElementDragControls.prototype.updateVisualElementAxis = function (axis, point) {\n        var _a;\n        // Get the actual layout bounding box of the element\n        var axisLayout = this.visualElement.getLayoutState().layout[axis];\n        // Calculate its current length. In the future we might want to lerp this to animate\n        // between lengths if the layout changes as we change the DOM\n        var axisLength = axisLayout.max - axisLayout.min;\n        // Get the initial progress that the pointer sat on this axis on gesture start.\n        var axisProgress = this.cursorProgress[axis];\n        // Calculate a new min point based on the latest pointer position, constraints and elastic\n        var min = calcConstrainedMinPoint(point[axis], axisLength, axisProgress, (_a = this.constraints) === null || _a === void 0 ? void 0 : _a[axis], this.elastic[axis]);\n        // Update the axis viewport target with this new min and the length\n        this.visualElement.setProjectionTargetAxis(axis, min, min + axisLength);\n    };\n    VisualElementDragControls.prototype.setProps = function (_a) {\n        var _b = _a.drag, drag = _b === void 0 ? false : _b, _c = _a.dragDirectionLock, dragDirectionLock = _c === void 0 ? false : _c, _d = _a.dragPropagation, dragPropagation = _d === void 0 ? false : _d, _e = _a.dragConstraints, dragConstraints = _e === void 0 ? false : _e, _f = _a.dragElastic, dragElastic = _f === void 0 ? defaultElastic : _f, _g = _a.dragMomentum, dragMomentum = _g === void 0 ? true : _g, remainingProps = __rest(_a, [\"drag\", \"dragDirectionLock\", \"dragPropagation\", \"dragConstraints\", \"dragElastic\", \"dragMomentum\"]);\n        this.props = __assign({ drag: drag,\n            dragDirectionLock: dragDirectionLock,\n            dragPropagation: dragPropagation,\n            dragConstraints: dragConstraints,\n            dragElastic: dragElastic,\n            dragMomentum: dragMomentum }, remainingProps);\n    };\n    /**\n     * Drag works differently depending on which props are provided.\n     *\n     * - If _dragX and _dragY are provided, we output the gesture delta directly to those motion values.\n     * - If the component will perform layout animations, we output the gesture to the component's\n     *      visual bounding box\n     * - Otherwise, we apply the delta to the x/y motion values.\n     */\n    VisualElementDragControls.prototype.getAxisMotionValue = function (axis) {\n        var _a = this.props, layout = _a.layout, layoutId = _a.layoutId;\n        var dragKey = \"_drag\" + axis.toUpperCase();\n        if (this.props[dragKey]) {\n            return this.props[dragKey];\n        }\n        else if (!layout && layoutId === undefined) {\n            return this.visualElement.getValue(axis, 0);\n        }\n    };\n    VisualElementDragControls.prototype.isLayoutDrag = function () {\n        return !this.getAxisMotionValue(\"x\");\n    };\n    VisualElementDragControls.prototype.isExternalDrag = function () {\n        var _a = this.props, _dragX = _a._dragX, _dragY = _a._dragY;\n        return _dragX || _dragY;\n    };\n    VisualElementDragControls.prototype.animateDragEnd = function (velocity) {\n        var _this = this;\n        var _a = this.props, drag = _a.drag, dragMomentum = _a.dragMomentum, dragElastic = _a.dragElastic, dragTransition = _a.dragTransition;\n        /**\n         * Everything beyond the drag gesture should be performed with\n         * relative projection so children stay in sync with their parent element.\n         */\n        var isRelative = convertToRelativeProjection(this.visualElement, this.isLayoutDrag() && !this.isExternalDrag());\n        /**\n         * If we had previously resolved constraints relative to the viewport,\n         * we need to also convert those to a relative coordinate space for the animation\n         */\n        var constraints = this.constraints || {};\n        if (isRelative &&\n            Object.keys(constraints).length &&\n            this.isLayoutDrag()) {\n            var projectionParent = this.visualElement.getProjectionParent();\n            if (projectionParent) {\n                var relativeConstraints_1 = calcRelativeOffset(projectionParent.projection.targetFinal, constraints);\n                eachAxis(function (axis) {\n                    var _a = relativeConstraints_1[axis], min = _a.min, max = _a.max;\n                    constraints[axis] = {\n                        min: isNaN(min) ? undefined : min,\n                        max: isNaN(max) ? undefined : max,\n                    };\n                });\n            }\n        }\n        var momentumAnimations = eachAxis(function (axis) {\n            var _a;\n            if (!shouldDrag(axis, drag, _this.currentDirection)) {\n                return;\n            }\n            var transition = (_a = constraints === null || constraints === void 0 ? void 0 : constraints[axis]) !== null && _a !== void 0 ? _a : {};\n            /**\n             * Overdamp the boundary spring if `dragElastic` is disabled. There's still a frame\n             * of spring animations so we should look into adding a disable spring option to `inertia`.\n             * We could do something here where we affect the `bounceStiffness` and `bounceDamping`\n             * using the value of `dragElastic`.\n             */\n            var bounceStiffness = dragElastic ? 200 : 1000000;\n            var bounceDamping = dragElastic ? 40 : 10000000;\n            var inertia = __assign(__assign({ type: \"inertia\", velocity: dragMomentum ? velocity[axis] : 0, bounceStiffness: bounceStiffness,\n                bounceDamping: bounceDamping, timeConstant: 750, restDelta: 1, restSpeed: 10 }, dragTransition), transition);\n            // If we're not animating on an externally-provided `MotionValue` we can use the\n            // component's animation controls which will handle interactions with whileHover (etc),\n            // otherwise we just have to animate the `MotionValue` itself.\n            return _this.getAxisMotionValue(axis)\n                ? _this.startAxisValueAnimation(axis, inertia)\n                : _this.visualElement.startLayoutAnimation(axis, inertia, isRelative);\n        });\n        // Run all animations and then resolve the new drag constraints.\n        return Promise.all(momentumAnimations).then(function () {\n            var _a, _b;\n            (_b = (_a = _this.props).onDragTransitionEnd) === null || _b === void 0 ? void 0 : _b.call(_a);\n        });\n    };\n    VisualElementDragControls.prototype.stopMotion = function () {\n        var _this = this;\n        eachAxis(function (axis) {\n            var axisValue = _this.getAxisMotionValue(axis);\n            axisValue\n                ? axisValue.stop()\n                : _this.visualElement.stopLayoutAnimation();\n        });\n    };\n    VisualElementDragControls.prototype.startAxisValueAnimation = function (axis, transition) {\n        var axisValue = this.getAxisMotionValue(axis);\n        if (!axisValue)\n            return;\n        var currentValue = axisValue.get();\n        axisValue.set(currentValue);\n        axisValue.set(currentValue); // Set twice to hard-reset velocity\n        return startAnimation(axis, axisValue, 0, transition);\n    };\n    VisualElementDragControls.prototype.scalePoint = function () {\n        var _this = this;\n        var _a = this.props, drag = _a.drag, dragConstraints = _a.dragConstraints;\n        if (!isRefObject(dragConstraints) || !this.constraintsBox)\n            return;\n        // Stop any current animations as there can be some visual glitching if we resize mid animation\n        this.stopMotion();\n        // Record the relative progress of the targetBox relative to the constraintsBox\n        var boxProgress = { x: 0, y: 0 };\n        eachAxis(function (axis) {\n            boxProgress[axis] = calcOrigin(_this.visualElement.projection.target[axis], _this.constraintsBox[axis]);\n        });\n        /**\n         * For each axis, calculate the current progress of the layout axis within the constraints.\n         * Then, using the latest layout and constraints measurements, reposition the new layout axis\n         * proportionally within the constraints.\n         */\n        this.updateConstraints(function () {\n            eachAxis(function (axis) {\n                if (!shouldDrag(axis, drag, null))\n                    return;\n                // Calculate the position of the targetBox relative to the constraintsBox using the\n                // previously calculated progress\n                var _a = calcPositionFromProgress(_this.visualElement.projection.target[axis], _this.constraintsBox[axis], boxProgress[axis]), min = _a.min, max = _a.max;\n                _this.visualElement.setProjectionTargetAxis(axis, min, max);\n            });\n        });\n        /**\n         * If any other draggable components are queuing the same tasks synchronously\n         * this will wait until they've all been scheduled before flushing.\n         */\n        setTimeout(flushLayout, 1);\n    };\n    VisualElementDragControls.prototype.updateConstraints = function (onReady) {\n        var _this = this;\n        this.cancelLayout = batchLayout(function (read, write) {\n            var ancestors = collectProjectingAncestors(_this.visualElement);\n            write(function () {\n                return ancestors.forEach(function (element) { return element.resetTransform(); });\n            });\n            read(function () { return updateLayoutMeasurement(_this.visualElement); });\n            write(function () {\n                return ancestors.forEach(function (element) { return element.restoreTransform(); });\n            });\n            read(function () {\n                _this.resolveDragConstraints();\n            });\n            if (onReady)\n                write(onReady);\n        });\n    };\n    VisualElementDragControls.prototype.mount = function (visualElement) {\n        var _this = this;\n        var element = visualElement.getInstance();\n        /**\n         * Attach a pointerdown event listener on this DOM element to initiate drag tracking.\n         */\n        var stopPointerListener = addPointerEvent(element, \"pointerdown\", function (event) {\n            var _a = _this.props, drag = _a.drag, _b = _a.dragListener, dragListener = _b === void 0 ? true : _b;\n            drag && dragListener && _this.start(event);\n        });\n        /**\n         * Attach a window resize listener to scale the draggable target within its defined\n         * constraints as the window resizes.\n         */\n        var stopResizeListener = addDomEvent(window, \"resize\", function () {\n            _this.scalePoint();\n        });\n        /**\n         * Ensure drag constraints are resolved correctly relative to the dragging element\n         * whenever its layout changes.\n         */\n        var stopLayoutUpdateListener = visualElement.onLayoutUpdate(function () {\n            if (_this.isDragging) {\n                _this.resolveDragConstraints();\n            }\n        });\n        /**\n         * If the previous component with this same layoutId was dragging at the time\n         * it was unmounted, we want to continue the same gesture on this component.\n         */\n        var prevDragCursor = visualElement.prevDragCursor;\n        if (prevDragCursor) {\n            this.start(lastPointerEvent, { cursorProgress: prevDragCursor });\n        }\n        /**\n         * Return a function that will teardown the drag gesture\n         */\n        return function () {\n            stopPointerListener === null || stopPointerListener === void 0 ? void 0 : stopPointerListener();\n            stopResizeListener === null || stopResizeListener === void 0 ? void 0 : stopResizeListener();\n            stopLayoutUpdateListener === null || stopLayoutUpdateListener === void 0 ? void 0 : stopLayoutUpdateListener();\n            _this.cancelDrag();\n        };\n    };\n    return VisualElementDragControls;\n}());\nfunction shouldDrag(direction, drag, currentDirection) {\n    return ((drag === true || drag === direction) &&\n        (currentDirection === null || currentDirection === direction));\n}\n/**\n * Based on an x/y offset determine the current drag direction. If both axis' offsets are lower\n * than the provided threshold, return `null`.\n *\n * @param offset - The x/y offset from origin.\n * @param lockThreshold - (Optional) - the minimum absolute offset before we can determine a drag direction.\n */\nfunction getCurrentDirection(offset, lockThreshold) {\n    if (lockThreshold === void 0) { lockThreshold = 10; }\n    var direction = null;\n    if (Math.abs(offset.y) > lockThreshold) {\n        direction = \"y\";\n    }\n    else if (Math.abs(offset.x) > lockThreshold) {\n        direction = \"x\";\n    }\n    return direction;\n}\n\nexport { VisualElementDragControls, elementDragControls };\n","import { calcRelativeOffset } from '../../../motion/features/layout/utils.js';\nimport { eachAxis } from '../../../utils/each-axis.js';\nimport { removeBoxTransforms } from '../../../utils/geometry/delta-apply.js';\n\n/**\n * Returns a boolean stating whether or not we converted the projection\n * to relative projection.\n */\nfunction convertToRelativeProjection(visualElement, isLayoutDrag) {\n    if (isLayoutDrag === void 0) { isLayoutDrag = true; }\n    var projectionParent = visualElement.getProjectionParent();\n    if (!projectionParent)\n        return false;\n    var offset;\n    if (isLayoutDrag) {\n        offset = calcRelativeOffset(projectionParent.projection.target, visualElement.projection.target);\n        removeBoxTransforms(offset, projectionParent.getLatestValues());\n    }\n    else {\n        offset = calcRelativeOffset(projectionParent.getLayoutState().layout, visualElement.getLayoutState().layout);\n    }\n    eachAxis(function (axis) {\n        return visualElement.setProjectionTargetAxis(axis, offset[axis].min, offset[axis].max, true);\n    });\n    return true;\n}\n\nexport { convertToRelativeProjection };\n","import { useDrag } from '../../gestures/drag/use-drag.js';\nimport { usePanGesture } from '../../gestures/use-pan-gesture.js';\nimport { makeRenderlessComponent } from '../utils/make-renderless-component.js';\n\nvar drag = {\n    pan: makeRenderlessComponent(usePanGesture),\n    drag: makeRenderlessComponent(useDrag),\n};\n\nexport { drag };\n","import { useRef, useContext, useEffect } from 'react';\nimport { MotionConfigContext } from '../context/MotionConfigContext.js';\nimport { useUnmountEffect } from '../utils/use-unmount-effect.js';\nimport { usePointerEvent } from '../events/use-pointer-event.js';\nimport { PanSession } from './PanSession.js';\n\n/**\n *\n * @param handlers -\n * @param ref -\n *\n * @internalremarks\n * Currently this sets new pan gesture functions every render. The memo route has been explored\n * in the past but ultimately we're still creating new functions every render. An optimisation\n * to explore is creating the pan gestures and loading them into a `ref`.\n *\n * @internal\n */\nfunction usePanGesture(_a) {\n    var onPan = _a.onPan, onPanStart = _a.onPanStart, onPanEnd = _a.onPanEnd, onPanSessionStart = _a.onPanSessionStart, visualElement = _a.visualElement;\n    var hasPanEvents = onPan || onPanStart || onPanEnd || onPanSessionStart;\n    var panSession = useRef(null);\n    var transformPagePoint = useContext(MotionConfigContext).transformPagePoint;\n    var handlers = {\n        onSessionStart: onPanSessionStart,\n        onStart: onPanStart,\n        onMove: onPan,\n        onEnd: function (event, info) {\n            panSession.current = null;\n            onPanEnd && onPanEnd(event, info);\n        },\n    };\n    useEffect(function () {\n        if (panSession.current !== null) {\n            panSession.current.updateHandlers(handlers);\n        }\n    });\n    function onPointerDown(event) {\n        panSession.current = new PanSession(event, handlers, {\n            transformPagePoint: transformPagePoint,\n        });\n    }\n    usePointerEvent(visualElement, \"pointerdown\", hasPanEvents && onPointerDown);\n    useUnmountEffect(function () { return panSession.current && panSession.current.end(); });\n}\n\nexport { usePanGesture };\n","import { __assign } from 'tslib';\nimport { useContext, useEffect } from 'react';\nimport { MotionConfigContext } from '../../context/MotionConfigContext.js';\nimport { VisualElementDragControls } from './VisualElementDragControls.js';\nimport { useConstant } from '../../utils/use-constant.js';\n\n/**\n * A hook that allows an element to be dragged.\n *\n * @internal\n */\nfunction useDrag(props) {\n    var groupDragControls = props.dragControls, visualElement = props.visualElement;\n    var transformPagePoint = useContext(MotionConfigContext).transformPagePoint;\n    var dragControls = useConstant(function () {\n        return new VisualElementDragControls({\n            visualElement: visualElement,\n        });\n    });\n    dragControls.setProps(__assign(__assign({}, props), { transformPagePoint: transformPagePoint }));\n    // If we've been provided a DragControls for manual control over the drag gesture,\n    // subscribe this component to it on mount.\n    useEffect(function () { return groupDragControls && groupDragControls.subscribe(dragControls); }, [dragControls]);\n    // Mount the drag controls with the visualElement\n    useEffect(function () { return dragControls.mount(visualElement); }, []);\n}\n\nexport { useDrag };\n","import { __assign } from 'tslib';\nimport { complex, px } from 'style-value-types';\nimport { mix } from 'popmotion';\nimport { cssVariableRegex } from '../utils/css-variables-conversion.js';\n\nfunction pixelsToPercent(pixels, axis) {\n    return (pixels / (axis.max - axis.min)) * 100;\n}\n/**\n * We always correct borderRadius as a percentage rather than pixels to reduce paints.\n * For example, if you are projecting a box that is 100px wide with a 10px borderRadius\n * into a box that is 200px wide with a 20px borderRadius, that is actually a 10%\n * borderRadius in both states. If we animate between the two in pixels that will trigger\n * a paint each time. If we animate between the two in percentage we'll avoid a paint.\n */\nfunction correctBorderRadius(latest, _layoutState, _a) {\n    var target = _a.target;\n    /**\n     * If latest is a string, if it's a percentage we can return immediately as it's\n     * going to be stretched appropriately. Otherwise, if it's a pixel, convert it to a number.\n     */\n    if (typeof latest === \"string\") {\n        if (px.test(latest)) {\n            latest = parseFloat(latest);\n        }\n        else {\n            return latest;\n        }\n    }\n    /**\n     * If latest is a number, it's a pixel value. We use the current viewportBox to calculate that\n     * pixel value as a percentage of each axis\n     */\n    var x = pixelsToPercent(latest, target.x);\n    var y = pixelsToPercent(latest, target.y);\n    return x + \"% \" + y + \"%\";\n}\nvar varToken = \"_$css\";\nfunction correctBoxShadow(latest, _a) {\n    var delta = _a.delta, treeScale = _a.treeScale;\n    var original = latest;\n    /**\n     * We need to first strip and store CSS variables from the string.\n     */\n    var containsCSSVariables = latest.includes(\"var(\");\n    var cssVariables = [];\n    if (containsCSSVariables) {\n        latest = latest.replace(cssVariableRegex, function (match) {\n            cssVariables.push(match);\n            return varToken;\n        });\n    }\n    var shadow = complex.parse(latest);\n    // TODO: Doesn't support multiple shadows\n    if (shadow.length > 5)\n        return original;\n    var template = complex.createTransformer(latest);\n    var offset = typeof shadow[0] !== \"number\" ? 1 : 0;\n    // Calculate the overall context scale\n    var xScale = delta.x.scale * treeScale.x;\n    var yScale = delta.y.scale * treeScale.y;\n    shadow[0 + offset] /= xScale;\n    shadow[1 + offset] /= yScale;\n    /**\n     * Ideally we'd correct x and y scales individually, but because blur and\n     * spread apply to both we have to take a scale average and apply that instead.\n     * We could potentially improve the outcome of this by incorporating the ratio between\n     * the two scales.\n     */\n    var averageScale = mix(xScale, yScale, 0.5);\n    // Blur\n    if (typeof shadow[2 + offset] === \"number\")\n        shadow[2 + offset] /= averageScale;\n    // Spread\n    if (typeof shadow[3 + offset] === \"number\")\n        shadow[3 + offset] /= averageScale;\n    var output = template(shadow);\n    if (containsCSSVariables) {\n        var i_1 = 0;\n        output = output.replace(varToken, function () {\n            var cssVariable = cssVariables[i_1];\n            i_1++;\n            return cssVariable;\n        });\n    }\n    return output;\n}\nvar borderCorrectionDefinition = {\n    process: correctBorderRadius,\n};\nvar defaultScaleCorrectors = {\n    borderRadius: __assign(__assign({}, borderCorrectionDefinition), { applyTo: [\n            \"borderTopLeftRadius\",\n            \"borderTopRightRadius\",\n            \"borderBottomLeftRadius\",\n            \"borderBottomRightRadius\",\n        ] }),\n    borderTopLeftRadius: borderCorrectionDefinition,\n    borderTopRightRadius: borderCorrectionDefinition,\n    borderBottomLeftRadius: borderCorrectionDefinition,\n    borderBottomRightRadius: borderCorrectionDefinition,\n    boxShadow: {\n        process: correctBoxShadow,\n    },\n};\n\nexport { correctBorderRadius, correctBoxShadow, defaultScaleCorrectors, pixelsToPercent };\n","import { __extends, __rest, __assign, __read } from 'tslib';\nimport * as React from 'react';\nimport { eachAxis } from '../../../utils/each-axis.js';\nimport { startAnimation, getValueTransition } from '../../../animation/utils/transitions.js';\nimport { checkIfParentHasChanged, calcRelativeOffset, tweenAxis } from './utils.js';\nimport { VisibilityAction } from '../../../components/AnimateSharedLayout/types.js';\nimport { usePresence } from '../../../components/AnimatePresence/use-presence.js';\nimport { axisBox } from '../../../utils/geometry/index.js';\nimport { addScaleCorrection } from '../../../render/dom/projection/scale-correction.js';\nimport { defaultScaleCorrectors } from '../../../render/dom/projection/default-scale-correctors.js';\n\nvar progressTarget = 1000;\nvar Animate = /** @class */ (function (_super) {\n    __extends(Animate, _super);\n    function Animate() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /**\n         * A mutable object that tracks the target viewport box\n         * for the current animation frame.\n         */\n        _this.frameTarget = axisBox();\n        /**\n         * The current animation target, we use this to check whether to start\n         * a new animation or continue the existing one.\n         */\n        _this.currentAnimationTarget = axisBox();\n        /**\n         * Track whether we're animating this axis.\n         */\n        _this.isAnimating = {\n            x: false,\n            y: false,\n        };\n        _this.stopAxisAnimation = {\n            x: undefined,\n            y: undefined,\n        };\n        _this.isAnimatingTree = false;\n        _this.animate = function (target, origin, _a) {\n            if (_a === void 0) { _a = {}; }\n            var originBox = _a.originBox, targetBox = _a.targetBox, visibilityAction = _a.visibilityAction, shouldStackAnimate = _a.shouldStackAnimate, onComplete = _a.onComplete, prevParent = _a.prevParent, config = __rest(_a, [\"originBox\", \"targetBox\", \"visibilityAction\", \"shouldStackAnimate\", \"onComplete\", \"prevParent\"]);\n            var _b = _this.props, visualElement = _b.visualElement, layout = _b.layout;\n            /**\n             * Early return if we've been instructed not to animate this render.\n             */\n            if (shouldStackAnimate === false) {\n                _this.isAnimatingTree = false;\n                return _this.safeToRemove();\n            }\n            /**\n             * Prioritise tree animations\n             */\n            if (_this.isAnimatingTree && shouldStackAnimate !== true) {\n                return;\n            }\n            else if (shouldStackAnimate) {\n                _this.isAnimatingTree = true;\n            }\n            /**\n             * Allow the measured origin (prev bounding box) and target (actual layout) to be\n             * overridden by the provided config.\n             */\n            origin = originBox || origin;\n            target = targetBox || target;\n            /**\n             * If this element has a projecting parent, there's an opportunity to animate\n             * it relatively to that parent rather than relatively to the viewport. This\n             * allows us to add orchestrated animations.\n             */\n            var isRelative = false;\n            var projectionParent = visualElement.getProjectionParent();\n            if (projectionParent) {\n                var prevParentViewportBox = projectionParent.prevViewportBox;\n                var parentLayout = projectionParent.getLayoutState().layout;\n                /**\n                 * If we're being provided a previous parent VisualElement by AnimateSharedLayout\n                 */\n                if (prevParent) {\n                    /**\n                     * If we've been provided an explicit target box it means we're animating back\n                     * to this previous parent. So we can make a relative box by comparing to the previous\n                     * parent's layout\n                     */\n                    if (targetBox) {\n                        parentLayout = prevParent.getLayoutState().layout;\n                    }\n                    /**\n                     * Likewise if we've been provided an explicit origin box it means we're\n                     * animating out from a different element. So we should figure out where that was\n                     * on screen relative to the new parent element.\n                     */\n                    if (originBox &&\n                        !checkIfParentHasChanged(prevParent, projectionParent) &&\n                        prevParent.prevViewportBox) {\n                        prevParentViewportBox = prevParent.prevViewportBox;\n                    }\n                }\n                if (prevParentViewportBox &&\n                    isProvidedCorrectDataForRelativeSharedLayout(prevParent, originBox, targetBox)) {\n                    isRelative = true;\n                    origin = calcRelativeOffset(prevParentViewportBox, origin);\n                    target = calcRelativeOffset(parentLayout, target);\n                }\n            }\n            var boxHasMoved = hasMoved(origin, target);\n            var animations = eachAxis(function (axis) {\n                var _a, _b;\n                /**\n                 * If layout is set to \"position\", we can resize the origin box based on the target\n                 * box and only animate its position.\n                 */\n                if (layout === \"position\") {\n                    var targetLength = target[axis].max - target[axis].min;\n                    origin[axis].max = origin[axis].min + targetLength;\n                }\n                if (visualElement.projection.isTargetLocked) {\n                    return;\n                }\n                else if (visibilityAction !== undefined) {\n                    visualElement.setVisibility(visibilityAction === VisibilityAction.Show);\n                }\n                else if (boxHasMoved) {\n                    // If the box has moved, animate between it's current visual state and its\n                    // final state\n                    return _this.animateAxis(axis, target[axis], origin[axis], __assign(__assign({}, config), { isRelative: isRelative }));\n                }\n                else {\n                    (_b = (_a = _this.stopAxisAnimation)[axis]) === null || _b === void 0 ? void 0 : _b.call(_a);\n                    // If the box has remained in the same place, immediately set the axis target\n                    // to the final desired state\n                    return visualElement.setProjectionTargetAxis(axis, target[axis].min, target[axis].max, isRelative);\n                }\n            });\n            // Force a render to ensure there's no flash of uncorrected bounding box.\n            visualElement.syncRender();\n            /**\n             * If this visualElement isn't present (ie it's been removed from the tree by the user but\n             * kept in by the tree by AnimatePresence) then call safeToRemove when all axis animations\n             * have successfully finished.\n             */\n            return Promise.all(animations).then(function () {\n                _this.isAnimatingTree = false;\n                onComplete && onComplete();\n                visualElement.notifyLayoutAnimationComplete();\n            });\n        };\n        return _this;\n    }\n    Animate.prototype.componentDidMount = function () {\n        var _this = this;\n        var visualElement = this.props.visualElement;\n        visualElement.animateMotionValue = startAnimation;\n        visualElement.enableLayoutProjection();\n        this.unsubLayoutReady = visualElement.onLayoutUpdate(this.animate);\n        visualElement.layoutSafeToRemove = function () { return _this.safeToRemove(); };\n        addScaleCorrection(defaultScaleCorrectors);\n    };\n    Animate.prototype.componentWillUnmount = function () {\n        var _this = this;\n        this.unsubLayoutReady();\n        eachAxis(function (axis) { var _a, _b; return (_b = (_a = _this.stopAxisAnimation)[axis]) === null || _b === void 0 ? void 0 : _b.call(_a); });\n    };\n    /**\n     * TODO: This manually performs animations on the visualElement's layout progress\n     * values. It'd be preferable to amend the startLayoutAxisAnimation\n     * API to accept more custom animations like this.\n     */\n    Animate.prototype.animateAxis = function (axis, target, origin, _a) {\n        var _this = this;\n        var _b, _c;\n        var _d = _a === void 0 ? {} : _a, transition = _d.transition, isRelative = _d.isRelative;\n        /**\n         * If we're not animating to a new target, don't run this animation\n         */\n        if (this.isAnimating[axis] &&\n            axisIsEqual(target, this.currentAnimationTarget[axis])) {\n            return;\n        }\n        (_c = (_b = this.stopAxisAnimation)[axis]) === null || _c === void 0 ? void 0 : _c.call(_b);\n        this.isAnimating[axis] = true;\n        var visualElement = this.props.visualElement;\n        var frameTarget = this.frameTarget[axis];\n        var layoutProgress = visualElement.getProjectionAnimationProgress()[axis];\n        /**\n         * Set layout progress back to 0. We set it twice to hard-reset any velocity that might\n         * be re-incoporated into a subsequent spring animation.\n         */\n        layoutProgress.clearListeners();\n        layoutProgress.set(0);\n        layoutProgress.set(0);\n        /**\n         * Create an animation function to run once per frame. This will tween the visual bounding box from\n         * origin to target using the latest progress value.\n         */\n        var frame = function () {\n            // Convert the latest layoutProgress, which is a value from 0-1000, into a 0-1 progress\n            var p = layoutProgress.get() / progressTarget;\n            // Tween the axis and update the visualElement with the latest values\n            tweenAxis(frameTarget, origin, target, p);\n            visualElement.setProjectionTargetAxis(axis, frameTarget.min, frameTarget.max, isRelative);\n        };\n        // Synchronously run a frame to ensure there's no flash of the uncorrected bounding box.\n        frame();\n        // Create a function to stop animation on this specific axis\n        var unsubscribeProgress = layoutProgress.onChange(frame);\n        this.stopAxisAnimation[axis] = function () {\n            _this.isAnimating[axis] = false;\n            layoutProgress.stop();\n            unsubscribeProgress();\n        };\n        this.currentAnimationTarget[axis] = target;\n        var layoutTransition = transition ||\n            visualElement.getDefaultTransition() ||\n            defaultLayoutTransition;\n        // Start the animation on this axis\n        var animation = startAnimation(axis === \"x\" ? \"layoutX\" : \"layoutY\", layoutProgress, progressTarget, layoutTransition && getValueTransition(layoutTransition, \"layout\")).then(this.stopAxisAnimation[axis]);\n        return animation;\n    };\n    Animate.prototype.safeToRemove = function () {\n        var _a, _b;\n        (_b = (_a = this.props).safeToRemove) === null || _b === void 0 ? void 0 : _b.call(_a);\n    };\n    Animate.prototype.render = function () {\n        return null;\n    };\n    return Animate;\n}(React.Component));\nfunction AnimateLayoutContextProvider(props) {\n    var _a = __read(usePresence(), 2), safeToRemove = _a[1];\n    return React.createElement(Animate, __assign({}, props, { safeToRemove: safeToRemove }));\n}\nfunction hasMoved(a, b) {\n    return (!isZeroBox(a) &&\n        !isZeroBox(b) &&\n        (!axisIsEqual(a.x, b.x) || !axisIsEqual(a.y, b.y)));\n}\nvar zeroAxis = { min: 0, max: 0 };\nfunction isZeroBox(a) {\n    return axisIsEqual(a.x, zeroAxis) && axisIsEqual(a.y, zeroAxis);\n}\nfunction axisIsEqual(a, b) {\n    return a.min === b.min && a.max === b.max;\n}\nvar defaultLayoutTransition = {\n    duration: 0.45,\n    ease: [0.4, 0, 0.1, 1],\n};\nfunction isProvidedCorrectDataForRelativeSharedLayout(prevParent, originBox, targetBox) {\n    return prevParent || (!prevParent && !(originBox || targetBox));\n}\n\nexport { AnimateLayoutContextProvider };\n","import { __spreadArray, __read } from 'tslib';\nimport sync, { flushSync } from 'framesync';\nimport { collectProjectingAncestors, updateLayoutMeasurement } from '../../../render/dom/projection/utils.js';\nimport { batchLayout, flushLayout } from '../../../render/dom/utils/batch-layout.js';\nimport { compareByDepth } from '../../../render/utils/compare-by-depth.js';\nimport { Presence } from '../types.js';\n\n/**\n * Default handlers for batching VisualElements\n */\nvar defaultHandler = {\n    layoutReady: function (child) { return child.notifyLayoutReady(); },\n};\n/**\n * Create a batcher to process VisualElements\n */\nfunction createBatcher() {\n    var queue = new Set();\n    return {\n        add: function (child) { return queue.add(child); },\n        flush: function (_a) {\n            var _b = _a === void 0 ? defaultHandler : _a, layoutReady = _b.layoutReady, parent = _b.parent;\n            batchLayout(function (read, write) {\n                var order = Array.from(queue).sort(compareByDepth);\n                var ancestors = parent\n                    ? collectProjectingAncestors(parent)\n                    : [];\n                write(function () {\n                    var allElements = __spreadArray(__spreadArray([], __read(ancestors)), __read(order));\n                    allElements.forEach(function (element) { return element.resetTransform(); });\n                });\n                read(function () {\n                    order.forEach(updateLayoutMeasurement);\n                });\n                write(function () {\n                    ancestors.forEach(function (element) { return element.restoreTransform(); });\n                    order.forEach(layoutReady);\n                });\n                read(function () {\n                    /**\n                     * After all children have started animating, ensure any Entering components are set to Present.\n                     * If we add deferred animations (set up all animations and then start them in two loops) this\n                     * could be moved to the start loop. But it needs to happen after all the animations configs\n                     * are generated in AnimateSharedLayout as this relies on presence data\n                     */\n                    order.forEach(function (child) {\n                        if (child.isPresent)\n                            child.presence = Presence.Present;\n                    });\n                });\n                write(function () {\n                    /**\n                     * Starting these animations will have queued jobs on the frame loop. In some situations,\n                     * like when removing an element, these will be processed too late after the DOM is manipulated,\n                     * leaving a flash of incorrectly-projected content. By manually flushing these jobs\n                     * we ensure there's no flash.\n                     */\n                    flushSync.preRender();\n                    flushSync.render();\n                });\n                read(function () {\n                    /**\n                     * Schedule a callback at the end of the following frame to assign the latest projection\n                     * box to the prevViewportBox snapshot. Once global batching is in place this could be run\n                     * synchronously. But for now it ensures that if any nested `AnimateSharedLayout` top-level\n                     * child attempts to calculate its previous relative position against a prevViewportBox\n                     * it will be against its latest projection box instead, as the snapshot is useless beyond this\n                     * render.\n                     */\n                    sync.postRender(function () {\n                        return order.forEach(assignProjectionToSnapshot);\n                    });\n                    queue.clear();\n                });\n            });\n            // TODO: Need to find a layout-synchronous way of flushing this\n            flushLayout();\n        },\n    };\n}\nfunction assignProjectionToSnapshot(child) {\n    child.prevViewportBox = child.projection.target;\n}\n\nexport { createBatcher };\n","import { createContext } from 'react';\nimport { createBatcher } from '../components/AnimateSharedLayout/utils/batcher.js';\n\nvar SharedLayoutContext = createContext(createBatcher());\n/**\n * @internal\n */\nvar FramerTreeLayoutContext = createContext(createBatcher());\nfunction isSharedLayout(context) {\n    return !!context.forceUpdate;\n}\n\nexport { FramerTreeLayoutContext, SharedLayoutContext, isSharedLayout };\n","import { __extends, __assign } from 'tslib';\nimport React__default, { useContext } from 'react';\nimport { isSharedLayout, SharedLayoutContext, FramerTreeLayoutContext } from '../../../context/SharedLayoutContext.js';\nimport { snapshotViewportBox } from '../../../render/dom/projection/utils.js';\n\n/**\n * This component is responsible for scheduling the measuring of the motion component\n */\nvar Measure = /** @class */ (function (_super) {\n    __extends(Measure, _super);\n    function Measure() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * If this is a child of a SyncContext, register the VisualElement with it on mount.\n     */\n    Measure.prototype.componentDidMount = function () {\n        var _a = this.props, syncLayout = _a.syncLayout, framerSyncLayout = _a.framerSyncLayout, visualElement = _a.visualElement;\n        isSharedLayout(syncLayout) && syncLayout.register(visualElement);\n        isSharedLayout(framerSyncLayout) &&\n            framerSyncLayout.register(visualElement);\n        visualElement.onUnmount(function () {\n            if (isSharedLayout(syncLayout)) {\n                syncLayout.remove(visualElement);\n            }\n            if (isSharedLayout(framerSyncLayout)) {\n                framerSyncLayout.remove(visualElement);\n            }\n        });\n    };\n    /**\n     * If this is a child of a SyncContext, notify it that it needs to re-render. It will then\n     * handle the snapshotting.\n     *\n     * If it is stand-alone component, add it to the batcher.\n     */\n    Measure.prototype.getSnapshotBeforeUpdate = function () {\n        var _a = this.props, syncLayout = _a.syncLayout, visualElement = _a.visualElement;\n        if (isSharedLayout(syncLayout)) {\n            syncLayout.syncUpdate();\n        }\n        else {\n            snapshotViewportBox(visualElement);\n            syncLayout.add(visualElement);\n        }\n        return null;\n    };\n    Measure.prototype.componentDidUpdate = function () {\n        var syncLayout = this.props.syncLayout;\n        if (!isSharedLayout(syncLayout))\n            syncLayout.flush();\n    };\n    Measure.prototype.render = function () {\n        return null;\n    };\n    return Measure;\n}(React__default.Component));\nfunction MeasureContextProvider(props) {\n    var syncLayout = useContext(SharedLayoutContext);\n    var framerSyncLayout = useContext(FramerTreeLayoutContext);\n    return (React__default.createElement(Measure, __assign({}, props, { syncLayout: syncLayout, framerSyncLayout: framerSyncLayout })));\n}\n\nexport { MeasureContextProvider };\n","import { AnimateLayoutContextProvider } from './Animate.js';\nimport { MeasureContextProvider } from './Measure.js';\n\nvar layoutAnimations = {\n    measureLayout: MeasureContextProvider,\n    layoutAnimation: AnimateLayoutContextProvider,\n};\n\nexport { layoutAnimations };\n","import { __assign } from 'tslib';\nimport { createMotionComponent } from '../../motion/index.js';\nimport { createMotionProxy } from './motion-proxy.js';\nimport { createDomMotionConfig } from './utils/create-config.js';\nimport { gestureAnimations } from '../../motion/features/gestures.js';\nimport { animations } from '../../motion/features/animations.js';\nimport { drag } from '../../motion/features/drag.js';\nimport { layoutAnimations } from '../../motion/features/layout/index.js';\nimport { createDomVisualElement } from './create-visual-element.js';\n\nvar featureBundle = __assign(__assign(__assign(__assign({}, animations), gestureAnimations), drag), layoutAnimations);\n/**\n * HTML & SVG components, optimised for use with gestures and animation. These can be used as\n * drop-in replacements for any HTML & SVG component, all CSS & SVG properties are supported.\n *\n * @public\n */\nvar motion = /*@__PURE__*/ createMotionProxy(function (Component, config) {\n    return createDomMotionConfig(Component, config, featureBundle, createDomVisualElement);\n});\n/**\n * Create a DOM `motion` component with the provided string. This is primarily intended\n * as a full alternative to `motion` for consumers who have to support environments that don't\n * support `Proxy`.\n *\n * ```javascript\n * import { createDomMotionComponent } from \"framer-motion\"\n *\n * const motion = {\n *   div: createDomMotionComponent('div')\n * }\n * ```\n *\n * @public\n */\nfunction createDomMotionComponent(key) {\n    return createMotionComponent(createDomMotionConfig(key, { forwardMotionProps: false }, featureBundle, createDomVisualElement));\n}\n\nexport { createDomMotionComponent, motion };\n","var wrap = function (min, max, v) {\n    var rangeSize = max - min;\n    return ((((v - min) % rangeSize) + rangeSize) % rangeSize) + min;\n};\n\nexport { wrap };\n","import { __read } from 'tslib';\nimport { useRef, useState } from 'react';\nimport { wrap } from 'popmotion';\n\n/**\n * Cycles through a series of visual properties. Can be used to toggle between or cycle through animations. It works similar to `useState` in React. It is provided an initial array of possible states, and returns an array of two arguments.\n *\n * @library\n *\n * ```jsx\n * import * as React from \"react\"\n * import { Frame, useCycle } from \"framer\"\n *\n * export function MyComponent() {\n *   const [x, cycleX] = useCycle(0, 50, 100)\n *\n *   return (\n *     <Frame\n *       animate={{ x: x }}\n *       onTap={() => cycleX()}\n *      />\n *    )\n * }\n * ```\n *\n * @motion\n *\n * An index value can be passed to the returned `cycle` function to cycle to a specific index.\n *\n * ```jsx\n * import * as React from \"react\"\n * import { motion, useCycle } from \"framer-motion\"\n *\n * export const MyComponent = () => {\n *   const [x, cycleX] = useCycle(0, 50, 100)\n *\n *   return (\n *     <motion.div\n *       animate={{ x: x }}\n *       onTap={() => cycleX()}\n *      />\n *    )\n * }\n * ```\n *\n * @param items - items to cycle through\n * @returns [currentState, cycleState]\n *\n * @public\n */\nfunction useCycle() {\n    var items = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        items[_i] = arguments[_i];\n    }\n    var index = useRef(0);\n    var _a = __read(useState(items[index.current]), 2), item = _a[0], setItem = _a[1];\n    return [\n        item,\n        function (next) {\n            index.current =\n                typeof next !== \"number\"\n                    ? wrap(0, items.length, index.current + 1)\n                    : next;\n            setItem(items[index.current]);\n        },\n    ];\n}\n\nexport { useCycle };\n","import { __spreadArray, __read } from 'tslib';\nimport { invariant } from 'hey-listen';\nimport { stopAnimation, animateVisualElement } from '../render/utils/animation.js';\nimport { setValues } from '../render/utils/setters.js';\n\n/**\n * @public\n */\nfunction animationControls() {\n    /**\n     * Track whether the host component has mounted.\n     */\n    var hasMounted = false;\n    /**\n     * Pending animations that are started before a component is mounted.\n     * TODO: Remove this as animations should only run in effects\n     */\n    var pendingAnimations = [];\n    /**\n     * A collection of linked component animation controls.\n     */\n    var subscribers = new Set();\n    var controls = {\n        subscribe: function (visualElement) {\n            subscribers.add(visualElement);\n            return function () { return void subscribers.delete(visualElement); };\n        },\n        start: function (definition, transitionOverride) {\n            /**\n             * TODO: We only perform this hasMounted check because in Framer we used to\n             * encourage the ability to start an animation within the render phase. This\n             * isn't behaviour concurrent-safe so when we make Framer concurrent-safe\n             * we can ditch this.\n             */\n            if (hasMounted) {\n                var animations_1 = [];\n                subscribers.forEach(function (visualElement) {\n                    animations_1.push(animateVisualElement(visualElement, definition, {\n                        transitionOverride: transitionOverride,\n                    }));\n                });\n                return Promise.all(animations_1);\n            }\n            else {\n                return new Promise(function (resolve) {\n                    pendingAnimations.push({\n                        animation: [definition, transitionOverride],\n                        resolve: resolve,\n                    });\n                });\n            }\n        },\n        set: function (definition) {\n            invariant(hasMounted, \"controls.set() should only be called after a component has mounted. Consider calling within a useEffect hook.\");\n            return subscribers.forEach(function (visualElement) {\n                setValues(visualElement, definition);\n            });\n        },\n        stop: function () {\n            subscribers.forEach(function (visualElement) {\n                stopAnimation(visualElement);\n            });\n        },\n        mount: function () {\n            hasMounted = true;\n            pendingAnimations.forEach(function (_a) {\n                var animation = _a.animation, resolve = _a.resolve;\n                controls.start.apply(controls, __spreadArray([], __read(animation))).then(resolve);\n            });\n            return function () {\n                hasMounted = false;\n                controls.stop();\n            };\n        },\n    };\n    return controls;\n}\n\nexport { animationControls };\n","import { animationControls } from './animation-controls.js';\nimport { useEffect } from 'react';\nimport { useConstant } from '../utils/use-constant.js';\n\n/**\n * Creates `AnimationControls`, which can be used to manually start, stop\n * and sequence animations on one or more components.\n *\n * The returned `AnimationControls` should be passed to the `animate` property\n * of the components you want to animate.\n *\n * These components can then be animated with the `start` method.\n *\n * @library\n *\n * ```jsx\n * import * as React from 'react'\n * import { Frame, useAnimation } from 'framer'\n *\n * export function MyComponent(props) {\n *    const controls = useAnimation()\n *\n *    controls.start({\n *        x: 100,\n *        transition: { duration: 0.5 },\n *    })\n *\n *    return <Frame animate={controls} />\n * }\n * ```\n *\n * @motion\n *\n * ```jsx\n * import * as React from 'react'\n * import { motion, useAnimation } from 'framer-motion'\n *\n * export function MyComponent(props) {\n *    const controls = useAnimation()\n *\n *    controls.start({\n *        x: 100,\n *        transition: { duration: 0.5 },\n *    })\n *\n *    return <motion.div animate={controls} />\n * }\n * ```\n *\n * @returns Animation controller with `start` and `stop` methods\n *\n * @public\n */\nfunction useAnimation() {\n    var controls = useConstant(animationControls);\n    useEffect(controls.mount, []);\n    return controls;\n}\n\nexport { useAnimation };\n"],"sourceRoot":""}