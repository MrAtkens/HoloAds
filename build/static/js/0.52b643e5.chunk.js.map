{"version":3,"sources":["../../src/constants.js","../../src/sheet/Tag.js","../../src/sheet/Sheet.js","../../src/utils/isStaticRules.js","../../src/models/Keyframes.js","../../src/models/StyledComponent.js","../../src/models/GlobalStyle.js","../../src/models/ServerStyleSheet.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js","../node_modules/framer-motion/dist/es/context/MotionConfigContext.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","../node_modules/framer-motion/dist/es/utils/use-isomorphic-effect.js","../node_modules/framer-motion/dist/es/value/use-motion-value.js","../node_modules/framer-motion/dist/es/value/use-on-change.js","../node_modules/@emotion/memoize/dist/memoize.browser.esm.js","../node_modules/@emotion/is-prop-valid/dist/is-prop-valid.browser.esm.js","../node_modules/process/browser.js","../node_modules/shallowequal/index.js","../node_modules/@emotion/stylis/dist/stylis.browser.esm.js","../node_modules/@emotion/unitless/dist/unitless.browser.esm.js","../node_modules/react-feather/dist/icons/x.js","../node_modules/react-feather/dist/icons/menu.js","../node_modules/framer-motion/dist/es/motion/features/use-features.js","../node_modules/framer-motion/dist/es/context/MotionContext/index.js","../node_modules/framer-motion/dist/es/context/LayoutGroupContext.js","../node_modules/framer-motion/dist/es/motion/utils/use-visual-element.js","../node_modules/framer-motion/dist/es/utils/is-ref-object.js","../node_modules/framer-motion/dist/es/context/MotionContext/create.js","../node_modules/framer-motion/dist/es/context/MotionContext/utils.js","../node_modules/framer-motion/dist/es/motion/index.js","../node_modules/framer-motion/dist/es/motion/utils/use-motion-ref.js","../node_modules/framer-motion/dist/es/render/dom/motion-proxy.js","../node_modules/framer-motion/dist/es/render/html/utils/create-render-state.js","../node_modules/framer-motion/dist/es/render/html/use-props.js","../node_modules/framer-motion/dist/es/motion/utils/valid-prop.js","../node_modules/framer-motion/dist/es/render/dom/utils/filter-props.js","../node_modules/framer-motion/dist/es/render/svg/utils/create-render-state.js","../node_modules/framer-motion/dist/es/render/svg/use-props.js","../node_modules/framer-motion/dist/es/render/dom/use-render.js","../node_modules/framer-motion/dist/es/value/utils/resolve-motion-value.js","../node_modules/framer-motion/dist/es/motion/utils/use-visual-state.js","../node_modules/framer-motion/dist/es/render/svg/config-motion.js","../node_modules/framer-motion/dist/es/render/html/config-motion.js","../node_modules/framer-motion/dist/es/render/dom/utils/create-config.js","../node_modules/framer-motion/dist/es/gestures/PanSession.js","../node_modules/framer-motion/dist/es/gestures/drag/utils/constraints.js","../node_modules/framer-motion/dist/es/render/dom/projection/utils.js","../node_modules/framer-motion/dist/es/gestures/drag/VisualElementDragControls.js","../node_modules/framer-motion/dist/es/render/dom/projection/convert-to-relative.js","../node_modules/framer-motion/dist/es/motion/features/drag.js","../node_modules/framer-motion/dist/es/gestures/use-pan-gesture.js","../node_modules/framer-motion/dist/es/gestures/drag/use-drag.js","../node_modules/framer-motion/dist/es/render/dom/projection/default-scale-correctors.js","../node_modules/framer-motion/dist/es/motion/features/layout/Animate.js","../node_modules/framer-motion/dist/es/components/AnimateSharedLayout/utils/batcher.js","../node_modules/framer-motion/dist/es/context/SharedLayoutContext.js","../node_modules/framer-motion/dist/es/motion/features/layout/Measure.js","../node_modules/framer-motion/dist/es/motion/features/layout/index.js","../node_modules/framer-motion/dist/es/render/dom/motion.js","../node_modules/framer-motion/dist/es/utils/transform.js","../node_modules/framer-motion/dist/es/value/use-transform.js","../node_modules/framer-motion/dist/es/value/use-combine-values.js","../node_modules/framer-motion/dist/es/value/scroll/utils.js","../node_modules/framer-motion/dist/es/value/scroll/use-viewport-scroll.js","../node_modules/popmotion/dist/es/utils/wrap.js","../node_modules/framer-motion/dist/es/utils/use-cycle.js","../node_modules/framer-motion/dist/es/animation/animation-controls.js","../node_modules/framer-motion/dist/es/animation/use-animation.js"],"names":["nodes","insertRule","names","id","options","flatten","React","_slicedToArray","arr","i","arrayWithHoles","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","length","err","unsupportedIterableToArray","nonIterableRest","_taggedTemplateLiteral","strings","raw","slice","freeze","defineProperties","MotionConfigContext","createContext","transformPagePoint","p","isStatic","_unsupportedIterableToArray","o","minLen","n","prototype","toString","call","constructor","name","Array","from","test","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","apply","_objectSpread2","target","arguments","source","forEach","key","getOwnPropertyDescriptors","defineProperty","_defineProperty","obj","configurable","writable","_arrayWithHoles","isArray","_arrayLikeToArray","len","arr2","_nonIterableRest","TypeError","useIsomorphicLayoutEffect","isBrowser","useLayoutEffect","useEffect","useMotionValue","initial","useConstant","motionValue","useContext","setLatest_1","__read","useState","onChange","useOnChange","callback","isMotionValue","useMultiOnChange","values","handler","subscriptions","map","unsubscribe","memoize","reactPropsRegex","index","fn","cache","arg","prop","charCodeAt","cachedSetTimeout","cachedClearTimeout","process","module","exports","defaultSetTimout","Error","defaultClearTimeout","runTimeout","fun","setTimeout","e","this","clearTimeout","currentQueue","queue","draining","queueIndex","cleanUpNextTick","concat","drainQueue","timeout","run","marker","runClearTimeout","Item","array","noop","nextTick","args","title","browser","env","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","dir","umask","objA","objB","compare","compareContext","ret","keysA","keysB","bHasOwnProperty","hasOwnProperty","bind","idx","valueA","valueB","stylis_min","W","M","d","c","h","a","q","g","k","y","C","m","b","v","x","K","u","l","r","I","t","B","J","f","F","G","replace","N","trim","charAt","substring","ca","O","A","H","X","D","z","join","da","ea","fa","w","L","P","Y","E","ha","Q","split","ia","Z","indexOf","ja","ka","aa","ba","la","ma","R","na","oa","S","U","prefix","use","T","set","unitlessKeys","animationIterationCount","borderImageOutset","borderImageSlice","borderImageWidth","boxFlex","boxFlexGroup","boxOrdinalGroup","columnCount","columns","flex","flexGrow","flexPositive","flexShrink","flexNegative","flexOrder","gridRow","gridRowEnd","gridRowSpan","gridRowStart","gridColumn","gridColumnEnd","gridColumnSpan","gridColumnStart","msGridRow","msGridRowSpan","msGridColumn","msGridColumnSpan","fontWeight","lineHeight","opacity","order","orphans","tabSize","widows","zIndex","zoom","WebkitLineClamp","fillOpacity","floodOpacity","stopOpacity","strokeDasharray","strokeDashoffset","strokeMiterlimit","strokeOpacity","strokeWidth","_extends","assign","_objectWithoutProperties","excluded","sourceKeys","_objectWithoutPropertiesLoose","sourceSymbolKeys","propertyIsEnumerable","forwardRef","_ref","ref","_ref$color","color","_ref$size","size","rest","createElement","xmlns","width","height","viewBox","fill","stroke","strokeLinecap","strokeLinejoin","x1","y1","x2","y2","propTypes","PropTypes","string","oneOfType","number","displayName","Menu","featureNames","featureDefinitions","numFeatures","MotionContext","LayoutGroupContext","useVisualElement","Component","visualState","props","createVisualElement","config","lazyContext","LazyContext","parent","visualElement","presenceContext","PresenceContext","layoutId","_a","layoutGroupId","useLayoutId","visualElementRef","useRef","renderer","current","__assign","presenceId","blockInitialAnimation","setProps","isPresent","isPresenceRoot","syncRender","animationState","animateChanges","notifyUnmount","isRefObject","useCreateMotionContext","context","checkIfControllingVariants","animate","isVariantLabel","inherit","getCurrentTreeVariants","useMemo","variantLabelsAsDependency","createMotionComponent","preloadedFeatures","useRender","useVisualState","loadFeatures","externalRef","features","name_1","isEnabled","useFeatures","Provider","useCallback","instance","mount","unmount","useMotionRef","createMotionProxy","createConfig","custom","customMotionComponentConfig","componentCache","Map","Proxy","get","_target","has","createHtmlRenderState","style","transform","transformKeys","transformOrigin","vars","copyRawValuesOnly","isForcedMotionValue","useStyle","transformTemplate","state","buildHTMLStyles","enableHardwareAcceleration","useInitialMotionValues","transformValues","useHTMLProps","htmlProps","Boolean","drag","draggable","userSelect","WebkitUserSelect","WebkitTouchCallout","touchAction","validMotionProps","Set","isValidMotionProp","shouldForward","emotionIsPropValid_1","require","default","startsWith","createSvgRenderState","attrs","useSVGProps","visualProps","buildSVGAttrs","rawStyles","createUseRender","forwardMotionProps","latestValues","isSVGComponent","filteredProps","isDom","filterProps","elementProps","resolveMotionValue","unwrappedValue","isCustomValue","toValue","makeState","scrapeMotionValuesFromProps","createRenderState","onMount","makeLatestValues","renderState","makeUseVisualState","scrapeMotionValues","motionValues","isControllingVariants","isVariantNode","checkIfVariantNode","variantToSet","isAnimationControls","definition","resolved","resolveVariantFromProps","transitionEnd","transition","__rest","svgMotionConfig","dimensions","getBBox","getBoundingClientRect","tagName","totalPathLength","getTotalLength","renderSVG","htmlMotionConfig","createDomMotionConfig","_b","baseConfig","PanSession","event","handlers","_this","startEvent","lastMoveEvent","lastMoveEventInfo","updatePoint","info","getPanInfo","history","isPanStarted","isDistancePastThreshold","distance","offset","point","timestamp","getFrameData","onStart","onMove","handlePointerMove","transformPoint","isMouseEvent","buttons","handlePointerUp","sync","update","end","onEnd","panInfo","isTouchEvent","touches","initialInfo","extractEventInfo","onSessionStart","removeListeners","pipe","addPointerEvent","window","updateHandlers","cancelSync","subtractPoint","delta","lastDevicePoint","startDevicePoint","velocity","getVelocity","timeDelta","timestampedPoint","lastPoint","secondsToMilliseconds","time","currentVelocity","Infinity","applyConstraints","elastic","min","max","mix","Math","calcRelativeAxisConstraints","axis","calcViewportAxisConstraints","layoutAxis","constraintsAxis","resolveAxisElastic","dragElastic","minLabel","maxLabel","resolvePointElastic","label","isProjecting","projection","shouldResetTransform","collectProjectingAncestors","ancestors","updateLayoutMeasurement","layoutState","getLayoutState","notifyBeforeLayoutMeasure","layout","isHydrated","measureViewportBox","layoutCorrected","copyAxisBox","notifyLayoutMeasure","prevViewportBox","rebaseProjectionTarget","lastPointerEvent","elementDragControls","WeakMap","VisualElementDragControls","isDragging","currentDirection","constraints","axisBox","hasMutatedConstraints","cursorProgress","originPoint","openGlobalLock","panSession","enableLayoutProjection","start","originEvent","_c","snapToCursor","stopMotion","initialPoint","getViewportPointFromEvent","cancelLayout","batchLayout","read","write","children","addChild","child","sort","compareByDepth","collectProjectingChildren","tree","__spreadArray","hasManuallySetCursorOrigin","isLayoutDrag","lockProjectionTarget","element","resetTransform","restoreTransform","getAxisMotionValue","isExternalDrag","scheduleUpdateLayoutProjection","eachAxis","progress","axisValue","flushSync","preRender","render","postRender","resolveDragConstraints","dragPropagation","getGlobalLock","flushLayout","onDragStart","setActive","AnimationType","Drag","dragDirectionLock","lockThreshold","direction","abs","getCurrentDirection","onDirectionLock","updateAxis","onDrag","stop","dragConstraints","resolveRefConstraints","layoutBox","top","left","bottom","right","calcRelativeConstraints","resolveDragElastic","relativeConstraints","rebaseAxisConstraints","onMeasureDragConstraints","constraintsElement","invariant","constraintsBox","getBoundingBox","measuredConstraints","calcViewportConstraints","userConstraints","convertAxisBoxToBoundingBox","convertBoundingBoxToAxisBox","cancelDrag","unlockProjectionTarget","animateDragEnd","onDragEnd","shouldDrag","box","length_1","center","includes","updateAxisMotionValue","updateVisualElementAxis","nextValue","axisLayout","axisLength","axisProgress","calcConstrainedMinPoint","setProjectionTargetAxis","_f","_g","dragMomentum","remainingProps","dragKey","toUpperCase","getValue","_dragX","_dragY","dragTransition","isRelative","projectionParent","getProjectionParent","calcRelativeOffset","removeBoxTransforms","getLatestValues","convertToRelativeProjection","relativeConstraints_1","targetFinal","isNaN","momentumAnimations","bounceStiffness","bounceDamping","inertia","type","timeConstant","restDelta","restSpeed","startAxisValueAnimation","startLayoutAnimation","Promise","all","then","onDragTransitionEnd","stopLayoutAnimation","currentValue","startAnimation","scalePoint","boxProgress","calcOrigin","updateConstraints","calcPositionFromProgress","onReady","getInstance","stopPointerListener","dragListener","stopResizeListener","addDomEvent","stopLayoutUpdateListener","onLayoutUpdate","prevDragCursor","pan","makeRenderlessComponent","onPan","onPanStart","onPanEnd","onPanSessionStart","hasPanEvents","usePointerEvent","useUnmountEffect","groupDragControls","dragControls","subscribe","pixelsToPercent","pixels","varToken","borderCorrectionDefinition","latest","_layoutState","px","parseFloat","defaultScaleCorrectors","borderRadius","applyTo","borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius","boxShadow","treeScale","original","containsCSSVariables","cssVariables","cssVariableRegex","match","shadow","complex","parse","template","createTransformer","xScale","scale","yScale","averageScale","output","i_1","cssVariable","Animate","_super","frameTarget","currentAnimationTarget","isAnimating","stopAxisAnimation","isAnimatingTree","origin","originBox","targetBox","visibilityAction","shouldStackAnimate","onComplete","prevParent","safeToRemove","prevParentViewportBox","parentLayout","checkIfParentHasChanged","isProvidedCorrectDataForRelativeSharedLayout","boxHasMoved","hasMoved","animations","targetLength","isTargetLocked","animateAxis","setVisibility","VisibilityAction","Show","notifyLayoutAnimationComplete","__extends","componentDidMount","animateMotionValue","unsubLayoutReady","layoutSafeToRemove","addScaleCorrection","componentWillUnmount","axisIsEqual","layoutProgress","getProjectionAnimationProgress","clearListeners","frame","tweenAxis","unsubscribeProgress","layoutTransition","getDefaultTransition","defaultLayoutTransition","getValueTransition","isZeroBox","zeroAxis","duration","ease","defaultHandler","layoutReady","notifyLayoutReady","createBatcher","add","flush","presence","Presence","Present","assignProjectionToSnapshot","clear","SharedLayoutContext","FramerTreeLayoutContext","isSharedLayout","forceUpdate","Measure","syncLayout","framerSyncLayout","register","onUnmount","remove","getSnapshotBeforeUpdate","syncUpdate","snapshotViewportBox","componentDidUpdate","React__default","layoutAnimations","measureLayout","layoutAnimation","usePresence","featureBundle","gestureAnimations","motion","createDomVisualElement","getMixer","isCustomValueType","useTransform","input","inputRangeOrTransformer","outputRange","transformer","useImmediate","argOffset","inputValue","inputRange","interpolator","interpolate","mixer","useListTransform","combineValues","updateValue","useCombineMotionValues","numValues","setProgress","maxOffset","viewportScrollValues","getViewportScrollOffsets","xOffset","pageXOffset","yOffset","pageYOffset","xMaxOffset","document","body","clientWidth","innerWidth","yMaxOffset","clientHeight","innerHeight","hasListeners","addEventListeners","updateScrollValues","getOffsets","scrollX","scrollY","scrollXProgress","scrollYProgress","createScrollUpdater","passive","useViewportScroll","wrap","rangeSize","useCycle","items","item","setItem","animationControls","hasMounted","pendingAnimations","subscribers","controls","delete","transitionOverride","animations_1","animateVisualElement","resolve","animation","setValues","stopAnimation","useAnimation"],"mappings":"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","file":"static/js/0.52b643e5.chunk.js","sourcesContent":["// @flow\n\ndeclare var SC_DISABLE_SPEEDY: ?boolean;\ndeclare var __VERSION__: string;\n\nexport const SC_ATTR: string =\n  (typeof process !== 'undefined' && (process.env.REACT_APP_SC_ATTR || process.env.SC_ATTR)) ||\n  'data-styled';\n\nexport const SC_ATTR_ACTIVE = 'active';\nexport const SC_ATTR_VERSION = 'data-styled-version';\nexport const SC_VERSION = __VERSION__;\nexport const SPLITTER = '/*!sc*/\\n';\n\nexport const IS_BROWSER = typeof window !== 'undefined' && 'HTMLElement' in window;\n\nexport const DISABLE_SPEEDY =\n  Boolean(typeof SC_DISABLE_SPEEDY === 'boolean'\n    ? SC_DISABLE_SPEEDY\n    : (typeof process !== 'undefined' && typeof process.env.REACT_APP_SC_DISABLE_SPEEDY !== 'undefined' && process.env.REACT_APP_SC_DISABLE_SPEEDY !== ''\n      ? process.env.REACT_APP_SC_DISABLE_SPEEDY === 'false' ? false : process.env.REACT_APP_SC_DISABLE_SPEEDY\n      : (typeof process !== 'undefined' && typeof process.env.SC_DISABLE_SPEEDY !== 'undefined' && process.env.SC_DISABLE_SPEEDY !== ''\n        ? process.env.SC_DISABLE_SPEEDY === 'false' ? false : process.env.SC_DISABLE_SPEEDY\n        : process.env.NODE_ENV !== 'production'\n      )\n    ));\n\n// Shared empty execution context when generating static styles\nexport const STATIC_EXECUTION_CONTEXT = {};\n","// @flow\n/* eslint-disable no-use-before-define */\n\nimport { makeStyleTag, getSheet } from './dom';\nimport type { SheetOptions, Tag } from './types';\n\n/** Create a CSSStyleSheet-like tag depending on the environment */\nexport const makeTag = ({ isServer, useCSSOMInjection, target }: SheetOptions): Tag => {\n  if (isServer) {\n    return new VirtualTag(target);\n  } else if (useCSSOMInjection) {\n    return new CSSOMTag(target);\n  } else {\n    return new TextTag(target);\n  }\n};\n\nexport class CSSOMTag implements Tag {\n  element: HTMLStyleElement;\n\n  sheet: CSSStyleSheet;\n\n  length: number;\n\n  constructor(target?: HTMLElement) {\n    const element = (this.element = makeStyleTag(target));\n\n    // Avoid Edge bug where empty style elements don't create sheets\n    element.appendChild(document.createTextNode(''));\n\n    this.sheet = getSheet(element);\n    this.length = 0;\n  }\n\n  insertRule(index: number, rule: string): boolean {\n    try {\n      this.sheet.insertRule(rule, index);\n      this.length++;\n      return true;\n    } catch (_error) {\n      return false;\n    }\n  }\n\n  deleteRule(index: number): void {\n    this.sheet.deleteRule(index);\n    this.length--;\n  }\n\n  getRule(index: number): string {\n    const rule = this.sheet.cssRules[index];\n    // Avoid IE11 quirk where cssText is inaccessible on some invalid rules\n    if (rule !== undefined && typeof rule.cssText === 'string') {\n      return rule.cssText;\n    } else {\n      return '';\n    }\n  }\n}\n\n/** A Tag that emulates the CSSStyleSheet API but uses text nodes */\nexport class TextTag implements Tag {\n  element: HTMLStyleElement;\n\n  nodes: NodeList<Node>;\n\n  length: number;\n\n  constructor(target?: HTMLElement) {\n    const element = (this.element = makeStyleTag(target));\n    this.nodes = element.childNodes;\n    this.length = 0;\n  }\n\n  insertRule(index: number, rule: string): boolean {\n    if (index <= this.length && index >= 0) {\n      const node = document.createTextNode(rule);\n      const refNode = this.nodes[index];\n      this.element.insertBefore(node, refNode || null);\n      this.length++;\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  deleteRule(index: number): void {\n    this.element.removeChild(this.nodes[index]);\n    this.length--;\n  }\n\n  getRule(index: number): string {\n    if (index < this.length) {\n      return this.nodes[index].textContent;\n    } else {\n      return '';\n    }\n  }\n}\n\n/** A completely virtual (server-side) Tag that doesn't manipulate the DOM */\nexport class VirtualTag implements Tag {\n  rules: string[];\n\n  length: number;\n\n  constructor(_target?: HTMLElement) {\n    this.rules = [];\n    this.length = 0;\n  }\n\n  insertRule(index: number, rule: string): boolean {\n    if (index <= this.length) {\n      this.rules.splice(index, 0, rule);\n      this.length++;\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  deleteRule(index: number): void {\n    this.rules.splice(index, 1);\n    this.length--;\n  }\n\n  getRule(index: number): string {\n    if (index < this.length) {\n      return this.rules[index];\n    } else {\n      return '';\n    }\n  }\n}\n","// @flow\nimport { DISABLE_SPEEDY, IS_BROWSER } from '../constants';\nimport { EMPTY_OBJECT } from '../utils/empties';\nimport { makeGroupedTag } from './GroupedTag';\nimport { getGroupForId } from './GroupIDAllocator';\nimport { outputSheet, rehydrateSheet } from './Rehydration';\nimport { makeTag } from './Tag';\nimport type { GroupedTag, Sheet, SheetOptions } from './types';\n\nlet SHOULD_REHYDRATE = IS_BROWSER;\n\ntype SheetConstructorArgs = {\n  isServer?: boolean,\n  useCSSOMInjection?: boolean,\n  target?: HTMLElement,\n};\n\ntype GlobalStylesAllocationMap = { [key: string]: number };\ntype NamesAllocationMap = Map<string, Set<string>>;\n\nconst defaultOptions: SheetOptions = {\n  isServer: !IS_BROWSER,\n  useCSSOMInjection: !DISABLE_SPEEDY,\n};\n\n/** Contains the main stylesheet logic for stringification and caching */\nexport default class StyleSheet implements Sheet {\n  gs: GlobalStylesAllocationMap;\n\n  names: NamesAllocationMap;\n\n  options: SheetOptions;\n\n  tag: void | GroupedTag;\n\n  /** Register a group ID to give it an index */\n  static registerId(id: string): number {\n    return getGroupForId(id);\n  }\n\n  constructor(\n    options: SheetConstructorArgs = EMPTY_OBJECT,\n    globalStyles?: GlobalStylesAllocationMap = {},\n    names?: NamesAllocationMap\n  ) {\n    this.options = {\n      ...defaultOptions,\n      ...options,\n    };\n\n    this.gs = globalStyles;\n    this.names = new Map(names);\n\n    // We rehydrate only once and use the sheet that is created first\n    if (!this.options.isServer && IS_BROWSER && SHOULD_REHYDRATE) {\n      SHOULD_REHYDRATE = false;\n      rehydrateSheet(this);\n    }\n  }\n\n  reconstructWithOptions(options: SheetConstructorArgs, withNames?: boolean = true) {\n    return new StyleSheet(\n      { ...this.options, ...options },\n      this.gs,\n      (withNames && this.names) || undefined\n    );\n  }\n\n  allocateGSInstance(id: string) {\n    return (this.gs[id] = (this.gs[id] || 0) + 1);\n  }\n\n  /** Lazily initialises a GroupedTag for when it's actually needed */\n  getTag(): GroupedTag {\n    return this.tag || (this.tag = makeGroupedTag(makeTag(this.options)));\n  }\n\n  /** Check whether a name is known for caching */\n  hasNameForId(id: string, name: string): boolean {\n    return this.names.has(id) && (this.names.get(id): any).has(name);\n  }\n\n  /** Mark a group's name as known for caching */\n  registerName(id: string, name: string) {\n    getGroupForId(id);\n\n    if (!this.names.has(id)) {\n      const groupNames = new Set();\n      groupNames.add(name);\n      this.names.set(id, groupNames);\n    } else {\n      (this.names.get(id): any).add(name);\n    }\n  }\n\n  /** Insert new rules which also marks the name as known */\n  insertRules(id: string, name: string, rules: string[]) {\n    this.registerName(id, name);\n    this.getTag().insertRules(getGroupForId(id), rules);\n  }\n\n  /** Clears all cached names for a given group ID */\n  clearNames(id: string) {\n    if (this.names.has(id)) {\n      (this.names.get(id): any).clear();\n    }\n  }\n\n  /** Clears all rules for a given group ID */\n  clearRules(id: string) {\n    this.getTag().clearGroup(getGroupForId(id));\n    this.clearNames(id);\n  }\n\n  /** Clears the entire tag which deletes all rules but not its names */\n  clearTag() {\n    // NOTE: This does not clear the names, since it's only used during SSR\n    // so that we can continuously output only new rules\n    this.tag = undefined;\n  }\n\n  /** Outputs the current sheet as a CSS string with markers for SSR */\n  toString(): string {\n    return outputSheet(this);\n  }\n}\n","// @flow\nimport isFunction from './isFunction';\nimport isStyledComponent from './isStyledComponent';\nimport type { RuleSet } from '../types';\n\nexport default function isStaticRules(rules: RuleSet): boolean {\n  for (let i = 0; i < rules.length; i += 1) {\n    const rule = rules[i];\n\n    if (isFunction(rule) && !isStyledComponent(rule)) {\n      // functions are allowed to be static if they're just being\n      // used to get the classname of a nested styled component\n      return false;\n    }\n  }\n\n  return true;\n}\n","// @flow\nimport StyleSheet from '../sheet';\nimport { type Stringifier } from '../types';\nimport throwStyledError from '../utils/error';\nimport { masterStylis } from './StyleSheetManager';\n\nexport default class Keyframes {\n  id: string;\n\n  name: string;\n\n  rules: string;\n\n  constructor(name: string, rules: string) {\n    this.name = name;\n    this.id = `sc-keyframes-${name}`;\n    this.rules = rules;\n  }\n\n  inject = (styleSheet: StyleSheet, stylisInstance: Stringifier = masterStylis) => {\n    const resolvedName = this.name + stylisInstance.hash;\n\n    if (!styleSheet.hasNameForId(this.id, resolvedName)) {\n      styleSheet.insertRules(\n        this.id,\n        resolvedName,\n        stylisInstance(this.rules, resolvedName, '@keyframes')\n      );\n    }\n  };\n\n  toString = () => {\n    return throwStyledError(12, String(this.name));\n  };\n\n  getName(stylisInstance: Stringifier = masterStylis) {\n    return this.name + stylisInstance.hash;\n  }\n}\n","// @flow\nimport validAttr from '@emotion/is-prop-valid';\nimport hoist from 'hoist-non-react-statics';\nimport React, { createElement, type Ref, useContext, useDebugValue } from 'react';\nimport { SC_VERSION } from '../constants';\nimport type {\n  Attrs,\n  IStyledComponent,\n  IStyledStatics,\n  RuleSet,\n  ShouldForwardProp,\n  Target,\n} from '../types';\nimport { checkDynamicCreation } from '../utils/checkDynamicCreation';\nimport createWarnTooManyClasses from '../utils/createWarnTooManyClasses';\nimport determineTheme from '../utils/determineTheme';\nimport { EMPTY_ARRAY, EMPTY_OBJECT } from '../utils/empties';\nimport escape from '../utils/escape';\nimport generateComponentId from '../utils/generateComponentId';\nimport generateDisplayName from '../utils/generateDisplayName';\nimport getComponentName from '../utils/getComponentName';\nimport isFunction from '../utils/isFunction';\nimport isStyledComponent from '../utils/isStyledComponent';\nimport isTag from '../utils/isTag';\nimport joinStrings from '../utils/joinStrings';\nimport merge from '../utils/mixinDeep';\nimport ComponentStyle from './ComponentStyle';\nimport { useStyleSheet, useStylis } from './StyleSheetManager';\nimport { ThemeContext } from './ThemeProvider';\n\nconst identifiers = {};\n\n/* We depend on components having unique IDs */\nfunction generateId(displayName?: string, parentComponentId?: string) {\n  const name = typeof displayName !== 'string' ? 'sc' : escape(displayName);\n  // Ensure that no displayName can lead to duplicate componentIds\n  identifiers[name] = (identifiers[name] || 0) + 1;\n\n  const componentId = `${name}-${generateComponentId(\n    // SC_VERSION gives us isolation between multiple runtimes on the page at once\n    // this is improved further with use of the babel plugin \"namespace\" feature\n    SC_VERSION + name + identifiers[name]\n  )}`;\n\n  return parentComponentId ? `${parentComponentId}-${componentId}` : componentId;\n}\n\nfunction useResolvedAttrs<Config>(theme: any = EMPTY_OBJECT, props: Config, attrs: Attrs) {\n  // NOTE: can't memoize this\n  // returns [context, resolvedAttrs]\n  // where resolvedAttrs is only the things injected by the attrs themselves\n  const context = { ...props, theme };\n  const resolvedAttrs = {};\n\n  attrs.forEach(attrDef => {\n    let resolvedAttrDef = attrDef;\n    let key;\n\n    if (isFunction(resolvedAttrDef)) {\n      resolvedAttrDef = resolvedAttrDef(context);\n    }\n\n    /* eslint-disable guard-for-in */\n    for (key in resolvedAttrDef) {\n      context[key] = resolvedAttrs[key] =\n        key === 'className'\n          ? joinStrings(resolvedAttrs[key], resolvedAttrDef[key])\n          : resolvedAttrDef[key];\n    }\n    /* eslint-enable guard-for-in */\n  });\n\n  return [context, resolvedAttrs];\n}\n\nfunction useInjectedStyle<T>(\n  componentStyle: ComponentStyle,\n  isStatic: boolean,\n  resolvedAttrs: T,\n  warnTooManyClasses?: $Call<typeof createWarnTooManyClasses, string, string>\n) {\n  const styleSheet = useStyleSheet();\n  const stylis = useStylis();\n\n  const className = isStatic\n    ? componentStyle.generateAndInjectStyles(EMPTY_OBJECT, styleSheet, stylis)\n    : componentStyle.generateAndInjectStyles(resolvedAttrs, styleSheet, stylis);\n\n  // eslint-disable-next-line react-hooks/rules-of-hooks\n  if (process.env.NODE_ENV !== 'production') useDebugValue(className);\n\n  if (process.env.NODE_ENV !== 'production' && !isStatic && warnTooManyClasses) {\n    warnTooManyClasses(className);\n  }\n\n  return className;\n}\n\nfunction useStyledComponentImpl(\n  forwardedComponent: IStyledComponent,\n  props: Object,\n  forwardedRef: Ref<any>,\n  isStatic: boolean\n) {\n  const {\n    attrs: componentAttrs,\n    componentStyle,\n    defaultProps,\n    foldedComponentIds,\n    shouldForwardProp,\n    styledComponentId,\n    target,\n  } = forwardedComponent;\n\n  // eslint-disable-next-line react-hooks/rules-of-hooks\n  if (process.env.NODE_ENV !== 'production') useDebugValue(styledComponentId);\n\n  // NOTE: the non-hooks version only subscribes to this when !componentStyle.isStatic,\n  // but that'd be against the rules-of-hooks. We could be naughty and do it anyway as it\n  // should be an immutable value, but behave for now.\n  const theme = determineTheme(props, useContext(ThemeContext), defaultProps);\n\n  const [context, attrs] = useResolvedAttrs(theme || EMPTY_OBJECT, props, componentAttrs);\n\n  const generatedClassName = useInjectedStyle(\n    componentStyle,\n    isStatic,\n    context,\n    process.env.NODE_ENV !== 'production' ? forwardedComponent.warnTooManyClasses : undefined\n  );\n\n  const refToForward = forwardedRef;\n\n  const elementToBeCreated: Target = attrs.$as || props.$as || attrs.as || props.as || target;\n\n  const isTargetTag = isTag(elementToBeCreated);\n  const computedProps = attrs !== props ? { ...props, ...attrs } : props;\n  const propsForElement = {};\n\n  // eslint-disable-next-line guard-for-in\n  for (const key in computedProps) {\n    if (key[0] === '$' || key === 'as') continue;\n    else if (key === 'forwardedAs') {\n      propsForElement.as = computedProps[key];\n    } else if (\n      shouldForwardProp\n        ? shouldForwardProp(key, validAttr, elementToBeCreated)\n        : isTargetTag\n        ? validAttr(key)\n        : true\n    ) {\n      // Don't pass through non HTML tags through to HTML elements\n      propsForElement[key] = computedProps[key];\n    }\n  }\n\n  if (props.style && attrs.style !== props.style) {\n    propsForElement.style = { ...props.style, ...attrs.style };\n  }\n\n  propsForElement.className = Array.prototype\n    .concat(\n      foldedComponentIds,\n      styledComponentId,\n      generatedClassName !== styledComponentId ? generatedClassName : null,\n      props.className,\n      attrs.className\n    )\n    .filter(Boolean)\n    .join(' ');\n\n  propsForElement.ref = refToForward;\n\n  return createElement(elementToBeCreated, propsForElement);\n}\n\nexport default function createStyledComponent(\n  target: $PropertyType<IStyledComponent, 'target'>,\n  options: {\n    attrs?: Attrs,\n    componentId: string,\n    displayName?: string,\n    parentComponentId?: string,\n    shouldForwardProp?: ShouldForwardProp,\n  },\n  rules: RuleSet\n) {\n  const isTargetStyledComp = isStyledComponent(target);\n  const isCompositeComponent = !isTag(target);\n\n  const {\n    attrs = EMPTY_ARRAY,\n    componentId = generateId(options.displayName, options.parentComponentId),\n    displayName = generateDisplayName(target),\n  } = options;\n\n  const styledComponentId =\n    options.displayName && options.componentId\n      ? `${escape(options.displayName)}-${options.componentId}`\n      : options.componentId || componentId;\n\n  // fold the underlying StyledComponent attrs up (implicit extend)\n  const finalAttrs =\n    isTargetStyledComp && ((target: any): IStyledComponent).attrs\n      ? Array.prototype.concat(((target: any): IStyledComponent).attrs, attrs).filter(Boolean)\n      : attrs;\n\n  // eslint-disable-next-line prefer-destructuring\n  let shouldForwardProp = options.shouldForwardProp;\n\n  if (isTargetStyledComp && target.shouldForwardProp) {\n    if (options.shouldForwardProp) {\n      // compose nested shouldForwardProp calls\n      shouldForwardProp = (prop, filterFn, elementToBeCreated) =>\n        ((((target: any): IStyledComponent).shouldForwardProp: any): ShouldForwardProp)(\n          prop,\n          filterFn,\n          elementToBeCreated\n        ) &&\n        ((options.shouldForwardProp: any): ShouldForwardProp)(prop, filterFn, elementToBeCreated);\n    } else {\n      // eslint-disable-next-line prefer-destructuring\n      shouldForwardProp = ((target: any): IStyledComponent).shouldForwardProp;\n    }\n  }\n\n  const componentStyle = new ComponentStyle(\n    rules,\n    styledComponentId,\n    isTargetStyledComp ? ((target: Object).componentStyle: ComponentStyle) : undefined\n  );\n\n  // statically styled-components don't need to build an execution context object,\n  // and shouldn't be increasing the number of class names\n  const isStatic = componentStyle.isStatic && attrs.length === 0;\n\n  /**\n   * forwardRef creates a new interim component, which we'll take advantage of\n   * instead of extending ParentComponent to create _another_ interim class\n   */\n  let WrappedStyledComponent: IStyledComponent;\n\n  const forwardRef = (props, ref) =>\n    // eslint-disable-next-line\n    useStyledComponentImpl(WrappedStyledComponent, props, ref, isStatic);\n\n  forwardRef.displayName = displayName;\n\n  WrappedStyledComponent = ((React.forwardRef(forwardRef): any): IStyledComponent);\n  WrappedStyledComponent.attrs = finalAttrs;\n  WrappedStyledComponent.componentStyle = componentStyle;\n  WrappedStyledComponent.displayName = displayName;\n  WrappedStyledComponent.shouldForwardProp = shouldForwardProp;\n\n  // this static is used to preserve the cascade of static classes for component selector\n  // purposes; this is especially important with usage of the css prop\n  WrappedStyledComponent.foldedComponentIds = isTargetStyledComp\n    ? Array.prototype.concat(\n        ((target: any): IStyledComponent).foldedComponentIds,\n        ((target: any): IStyledComponent).styledComponentId\n      )\n    : EMPTY_ARRAY;\n\n  WrappedStyledComponent.styledComponentId = styledComponentId;\n\n  // fold the underlying StyledComponent target up since we folded the styles\n  WrappedStyledComponent.target = isTargetStyledComp\n    ? ((target: any): IStyledComponent).target\n    : target;\n\n  WrappedStyledComponent.withComponent = function withComponent(tag: Target) {\n    const { componentId: previousComponentId, ...optionsToCopy } = options;\n\n    const newComponentId =\n      previousComponentId &&\n      `${previousComponentId}-${isTag(tag) ? tag : escape(getComponentName(tag))}`;\n\n    const newOptions = {\n      ...optionsToCopy,\n      attrs: finalAttrs,\n      componentId: newComponentId,\n    };\n\n    return createStyledComponent(tag, newOptions, rules);\n  };\n\n  Object.defineProperty(WrappedStyledComponent, 'defaultProps', {\n    get() {\n      return this._foldedDefaultProps;\n    },\n\n    set(obj) {\n      this._foldedDefaultProps = isTargetStyledComp\n        ? merge({}, ((target: any): IStyledComponent).defaultProps, obj)\n        : obj;\n    },\n  });\n\n  if (process.env.NODE_ENV !== 'production') {\n    checkDynamicCreation(displayName, styledComponentId);\n\n    WrappedStyledComponent.warnTooManyClasses = createWarnTooManyClasses(\n      displayName,\n      styledComponentId\n    );\n  }\n\n  WrappedStyledComponent.toString = () => `.${WrappedStyledComponent.styledComponentId}`;\n\n  if (isCompositeComponent) {\n    hoist<\n      IStyledStatics,\n      $PropertyType<IStyledComponent, 'target'>,\n      { [key: $Keys<IStyledStatics>]: true }\n    >(WrappedStyledComponent, ((target: any): $PropertyType<IStyledComponent, 'target'>), {\n      // all SC-specific things should not be hoisted\n      attrs: true,\n      componentStyle: true,\n      displayName: true,\n      foldedComponentIds: true,\n      shouldForwardProp: true,\n      styledComponentId: true,\n      target: true,\n      withComponent: true,\n    });\n  }\n\n  return WrappedStyledComponent;\n}\n","// @flow\nimport StyleSheet from '../sheet';\nimport type { RuleSet, Stringifier } from '../types';\nimport flatten from '../utils/flatten';\nimport isStaticRules from '../utils/isStaticRules';\n\nexport default class GlobalStyle {\n  componentId: string;\n\n  isStatic: boolean;\n\n  rules: RuleSet;\n\n  constructor(rules: RuleSet, componentId: string) {\n    this.rules = rules;\n    this.componentId = componentId;\n    this.isStatic = isStaticRules(rules);\n\n    // pre-register the first instance to ensure global styles\n    // load before component ones\n    StyleSheet.registerId(this.componentId + 1);\n  }\n\n  createStyles(\n    instance: number,\n    executionContext: Object,\n    styleSheet: StyleSheet,\n    stylis: Stringifier\n  ) {\n    const flatCSS = flatten(this.rules, executionContext, styleSheet, stylis);\n    const css = stylis(flatCSS.join(''), '');\n    const id = this.componentId + instance;\n\n    // NOTE: We use the id as a name as well, since these rules never change\n    styleSheet.insertRules(id, id, css);\n  }\n\n  removeStyles(instance: number, styleSheet: StyleSheet) {\n    styleSheet.clearRules(this.componentId + instance);\n  }\n\n  renderStyles(\n    instance: number,\n    executionContext: Object,\n    styleSheet: StyleSheet,\n    stylis: Stringifier\n  ) {\n    if (instance > 2) StyleSheet.registerId(this.componentId + instance);\n\n    // NOTE: Remove old styles, then inject the new ones\n    this.removeStyles(instance, styleSheet);\n    this.createStyles(instance, executionContext, styleSheet, stylis);\n  }\n}\n","// @flow\n/* eslint-disable no-underscore-dangle */\nimport React from 'react';\nimport { IS_BROWSER, SC_ATTR, SC_ATTR_VERSION, SC_VERSION } from '../constants';\nimport throwStyledError from '../utils/error';\nimport getNonce from '../utils/nonce';\nimport StyleSheet from '../sheet';\nimport StyleSheetManager from './StyleSheetManager';\n\ndeclare var __SERVER__: boolean;\n\nconst CLOSING_TAG_R = /^\\s*<\\/[a-z]/i;\n\nexport default class ServerStyleSheet {\n  isStreaming: boolean;\n\n  instance: StyleSheet;\n\n  sealed: boolean;\n\n  constructor() {\n    this.instance = new StyleSheet({ isServer: true });\n    this.sealed = false;\n  }\n\n  _emitSheetCSS = (): string => {\n    const css = this.instance.toString();\n    const nonce = getNonce();\n    const attrs = [nonce && `nonce=\"${nonce}\"`, `${SC_ATTR}=\"true\"`, `${SC_ATTR_VERSION}=\"${SC_VERSION}\"`];\n    const htmlAttr = attrs.filter(Boolean).join(' ');\n\n    return `<style ${htmlAttr}>${css}</style>`;\n  };\n\n  collectStyles(children: any) {\n    if (this.sealed) {\n      return throwStyledError(2);\n    }\n\n    return <StyleSheetManager sheet={this.instance}>{children}</StyleSheetManager>;\n  }\n\n  getStyleTags = (): string => {\n    if (this.sealed) {\n      return throwStyledError(2);\n    }\n\n    return this._emitSheetCSS();\n  };\n\n  getStyleElement = () => {\n    if (this.sealed) {\n      return throwStyledError(2);\n    }\n\n    const props = {\n      [SC_ATTR]: '',\n      [SC_ATTR_VERSION]: SC_VERSION,\n      dangerouslySetInnerHTML: {\n        __html: this.instance.toString(),\n      },\n    };\n\n    const nonce = getNonce();\n    if (nonce) {\n      (props: any).nonce = nonce;\n    }\n\n    // v4 returned an array for this fn, so we'll do the same for v5 for backward compat\n    return [<style {...props} key=\"sc-0-0\" />];\n  };\n\n  // eslint-disable-next-line consistent-return\n  interleaveWithNodeStream(input: any) {\n    if (!__SERVER__ || IS_BROWSER) {\n      return throwStyledError(3);\n    } else if (this.sealed) {\n      return throwStyledError(2);\n    }\n\n    if (__SERVER__) {\n      this.seal();\n\n      // eslint-disable-next-line global-require\n      const { Readable, Transform } = require('stream');\n\n      const readableStream: Readable = input;\n      const { instance: sheet, _emitSheetCSS } = this;\n\n      const transformer = new Transform({\n        transform: function appendStyleChunks(chunk, /* encoding */ _, callback) {\n          // Get the chunk and retrieve the sheet's CSS as an HTML chunk,\n          // then reset its rules so we get only new ones for the next chunk\n          const renderedHtml = chunk.toString();\n          const html = _emitSheetCSS();\n\n          sheet.clearTag();\n\n          // prepend style html to chunk, unless the start of the chunk is a\n          // closing tag in which case append right after that\n          if (CLOSING_TAG_R.test(renderedHtml)) {\n            const endOfClosingTag = renderedHtml.indexOf('>') + 1;\n            const before = renderedHtml.slice(0, endOfClosingTag);\n            const after = renderedHtml.slice(endOfClosingTag);\n\n            this.push(before + html + after);\n          } else {\n            this.push(html + renderedHtml);\n          }\n\n          callback();\n        },\n      });\n\n      readableStream.on('error', err => {\n        // forward the error to the transform stream\n        transformer.emit('error', err);\n      });\n\n      return readableStream.pipe(transformer);\n    }\n  }\n\n  seal = () => {\n    this.sealed = true;\n  };\n}\n","import arrayWithHoles from \"@babel/runtime/helpers/esm/arrayWithHoles\";\nimport iterableToArrayLimit from \"@babel/runtime/helpers/esm/iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableRest from \"@babel/runtime/helpers/esm/nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _taggedTemplateLiteral(strings, raw) {\n  if (!raw) {\n    raw = strings.slice(0);\n  }\n\n  return Object.freeze(Object.defineProperties(strings, {\n    raw: {\n      value: Object.freeze(raw)\n    }\n  }));\n}","import { createContext } from 'react';\n\n/**\n * @public\n */\nvar MotionConfigContext = createContext({\n    transformPagePoint: function (p) { return p; },\n    isStatic: false,\n});\n\nexport { MotionConfigContext };\n","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","import defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import { useLayoutEffect, useEffect } from 'react';\nimport { isBrowser } from './is-browser.js';\n\nvar useIsomorphicLayoutEffect = isBrowser ? useLayoutEffect : useEffect;\n\nexport { useIsomorphicLayoutEffect };\n","import { __read } from 'tslib';\nimport { useContext, useState, useEffect } from 'react';\nimport { motionValue } from './index.js';\nimport { MotionConfigContext } from '../context/MotionConfigContext.js';\nimport { useConstant } from '../utils/use-constant.js';\n\n/**\n * Creates a `MotionValue` to track the state and velocity of a value.\n *\n * Usually, these are created automatically. For advanced use-cases, like use with `useTransform`, you can create `MotionValue`s externally and pass them into the animated component via the `style` prop.\n *\n * @library\n *\n * ```jsx\n * export function MyComponent() {\n *   const scale = useMotionValue(1)\n *\n *   return <Frame scale={scale} />\n * }\n * ```\n *\n * @motion\n *\n * ```jsx\n * export const MyComponent = () => {\n *   const scale = useMotionValue(1)\n *\n *   return <motion.div style={{ scale }} />\n * }\n * ```\n *\n * @param initial - The initial state.\n *\n * @public\n */\nfunction useMotionValue(initial) {\n    var value = useConstant(function () { return motionValue(initial); });\n    /**\n     * If this motion value is being used in static mode, like on\n     * the Framer canvas, force components to rerender when the motion\n     * value is updated.\n     */\n    var isStatic = useContext(MotionConfigContext).isStatic;\n    if (isStatic) {\n        var _a = __read(useState(initial), 2), setLatest_1 = _a[1];\n        useEffect(function () { return value.onChange(setLatest_1); }, []);\n    }\n    return value;\n}\n\nexport { useMotionValue };\n","import { useEffect } from 'react';\nimport { isMotionValue } from './utils/is-motion-value.js';\n\nfunction useOnChange(value, callback) {\n    useEffect(function () {\n        if (isMotionValue(value))\n            return value.onChange(callback);\n    }, [callback]);\n}\nfunction useMultiOnChange(values, handler) {\n    useEffect(function () {\n        var subscriptions = values.map(function (value) { return value.onChange(handler); });\n        return function () { return subscriptions.forEach(function (unsubscribe) { return unsubscribe(); }); };\n    });\n}\n\nexport { useMultiOnChange, useOnChange };\n","function memoize(fn) {\n  var cache = {};\n  return function (arg) {\n    if (cache[arg] === undefined) cache[arg] = fn(arg);\n    return cache[arg];\n  };\n}\n\nexport default memoize;\n","import memoize from '@emotion/memoize';\n\nvar reactPropsRegex = /^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|inert|itemProp|itemScope|itemType|itemID|itemRef|on|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/; // https://esbench.com/bench/5bfee68a4cd7e6009ef61d23\n\nvar index = memoize(function (prop) {\n  return reactPropsRegex.test(prop) || prop.charCodeAt(0) === 111\n  /* o */\n  && prop.charCodeAt(1) === 110\n  /* n */\n  && prop.charCodeAt(2) < 91;\n}\n/* Z+1 */\n);\n\nexport default index;\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","//\n\nmodule.exports = function shallowEqual(objA, objB, compare, compareContext) {\n  var ret = compare ? compare.call(compareContext, objA, objB) : void 0;\n\n  if (ret !== void 0) {\n    return !!ret;\n  }\n\n  if (objA === objB) {\n    return true;\n  }\n\n  if (typeof objA !== \"object\" || !objA || typeof objB !== \"object\" || !objB) {\n    return false;\n  }\n\n  var keysA = Object.keys(objA);\n  var keysB = Object.keys(objB);\n\n  if (keysA.length !== keysB.length) {\n    return false;\n  }\n\n  var bHasOwnProperty = Object.prototype.hasOwnProperty.bind(objB);\n\n  // Test for A's keys different from B.\n  for (var idx = 0; idx < keysA.length; idx++) {\n    var key = keysA[idx];\n\n    if (!bHasOwnProperty(key)) {\n      return false;\n    }\n\n    var valueA = objA[key];\n    var valueB = objB[key];\n\n    ret = compare ? compare.call(compareContext, valueA, valueB, key) : void 0;\n\n    if (ret === false || (ret === void 0 && valueA !== valueB)) {\n      return false;\n    }\n  }\n\n  return true;\n};\n","function stylis_min (W) {\n  function M(d, c, e, h, a) {\n    for (var m = 0, b = 0, v = 0, n = 0, q, g, x = 0, K = 0, k, u = k = q = 0, l = 0, r = 0, I = 0, t = 0, B = e.length, J = B - 1, y, f = '', p = '', F = '', G = '', C; l < B;) {\n      g = e.charCodeAt(l);\n      l === J && 0 !== b + n + v + m && (0 !== b && (g = 47 === b ? 10 : 47), n = v = m = 0, B++, J++);\n\n      if (0 === b + n + v + m) {\n        if (l === J && (0 < r && (f = f.replace(N, '')), 0 < f.trim().length)) {\n          switch (g) {\n            case 32:\n            case 9:\n            case 59:\n            case 13:\n            case 10:\n              break;\n\n            default:\n              f += e.charAt(l);\n          }\n\n          g = 59;\n        }\n\n        switch (g) {\n          case 123:\n            f = f.trim();\n            q = f.charCodeAt(0);\n            k = 1;\n\n            for (t = ++l; l < B;) {\n              switch (g = e.charCodeAt(l)) {\n                case 123:\n                  k++;\n                  break;\n\n                case 125:\n                  k--;\n                  break;\n\n                case 47:\n                  switch (g = e.charCodeAt(l + 1)) {\n                    case 42:\n                    case 47:\n                      a: {\n                        for (u = l + 1; u < J; ++u) {\n                          switch (e.charCodeAt(u)) {\n                            case 47:\n                              if (42 === g && 42 === e.charCodeAt(u - 1) && l + 2 !== u) {\n                                l = u + 1;\n                                break a;\n                              }\n\n                              break;\n\n                            case 10:\n                              if (47 === g) {\n                                l = u + 1;\n                                break a;\n                              }\n\n                          }\n                        }\n\n                        l = u;\n                      }\n\n                  }\n\n                  break;\n\n                case 91:\n                  g++;\n\n                case 40:\n                  g++;\n\n                case 34:\n                case 39:\n                  for (; l++ < J && e.charCodeAt(l) !== g;) {\n                  }\n\n              }\n\n              if (0 === k) break;\n              l++;\n            }\n\n            k = e.substring(t, l);\n            0 === q && (q = (f = f.replace(ca, '').trim()).charCodeAt(0));\n\n            switch (q) {\n              case 64:\n                0 < r && (f = f.replace(N, ''));\n                g = f.charCodeAt(1);\n\n                switch (g) {\n                  case 100:\n                  case 109:\n                  case 115:\n                  case 45:\n                    r = c;\n                    break;\n\n                  default:\n                    r = O;\n                }\n\n                k = M(c, r, k, g, a + 1);\n                t = k.length;\n                0 < A && (r = X(O, f, I), C = H(3, k, r, c, D, z, t, g, a, h), f = r.join(''), void 0 !== C && 0 === (t = (k = C.trim()).length) && (g = 0, k = ''));\n                if (0 < t) switch (g) {\n                  case 115:\n                    f = f.replace(da, ea);\n\n                  case 100:\n                  case 109:\n                  case 45:\n                    k = f + '{' + k + '}';\n                    break;\n\n                  case 107:\n                    f = f.replace(fa, '$1 $2');\n                    k = f + '{' + k + '}';\n                    k = 1 === w || 2 === w && L('@' + k, 3) ? '@-webkit-' + k + '@' + k : '@' + k;\n                    break;\n\n                  default:\n                    k = f + k, 112 === h && (k = (p += k, ''));\n                } else k = '';\n                break;\n\n              default:\n                k = M(c, X(c, f, I), k, h, a + 1);\n            }\n\n            F += k;\n            k = I = r = u = q = 0;\n            f = '';\n            g = e.charCodeAt(++l);\n            break;\n\n          case 125:\n          case 59:\n            f = (0 < r ? f.replace(N, '') : f).trim();\n            if (1 < (t = f.length)) switch (0 === u && (q = f.charCodeAt(0), 45 === q || 96 < q && 123 > q) && (t = (f = f.replace(' ', ':')).length), 0 < A && void 0 !== (C = H(1, f, c, d, D, z, p.length, h, a, h)) && 0 === (t = (f = C.trim()).length) && (f = '\\x00\\x00'), q = f.charCodeAt(0), g = f.charCodeAt(1), q) {\n              case 0:\n                break;\n\n              case 64:\n                if (105 === g || 99 === g) {\n                  G += f + e.charAt(l);\n                  break;\n                }\n\n              default:\n                58 !== f.charCodeAt(t - 1) && (p += P(f, q, g, f.charCodeAt(2)));\n            }\n            I = r = u = q = 0;\n            f = '';\n            g = e.charCodeAt(++l);\n        }\n      }\n\n      switch (g) {\n        case 13:\n        case 10:\n          47 === b ? b = 0 : 0 === 1 + q && 107 !== h && 0 < f.length && (r = 1, f += '\\x00');\n          0 < A * Y && H(0, f, c, d, D, z, p.length, h, a, h);\n          z = 1;\n          D++;\n          break;\n\n        case 59:\n        case 125:\n          if (0 === b + n + v + m) {\n            z++;\n            break;\n          }\n\n        default:\n          z++;\n          y = e.charAt(l);\n\n          switch (g) {\n            case 9:\n            case 32:\n              if (0 === n + m + b) switch (x) {\n                case 44:\n                case 58:\n                case 9:\n                case 32:\n                  y = '';\n                  break;\n\n                default:\n                  32 !== g && (y = ' ');\n              }\n              break;\n\n            case 0:\n              y = '\\\\0';\n              break;\n\n            case 12:\n              y = '\\\\f';\n              break;\n\n            case 11:\n              y = '\\\\v';\n              break;\n\n            case 38:\n              0 === n + b + m && (r = I = 1, y = '\\f' + y);\n              break;\n\n            case 108:\n              if (0 === n + b + m + E && 0 < u) switch (l - u) {\n                case 2:\n                  112 === x && 58 === e.charCodeAt(l - 3) && (E = x);\n\n                case 8:\n                  111 === K && (E = K);\n              }\n              break;\n\n            case 58:\n              0 === n + b + m && (u = l);\n              break;\n\n            case 44:\n              0 === b + v + n + m && (r = 1, y += '\\r');\n              break;\n\n            case 34:\n            case 39:\n              0 === b && (n = n === g ? 0 : 0 === n ? g : n);\n              break;\n\n            case 91:\n              0 === n + b + v && m++;\n              break;\n\n            case 93:\n              0 === n + b + v && m--;\n              break;\n\n            case 41:\n              0 === n + b + m && v--;\n              break;\n\n            case 40:\n              if (0 === n + b + m) {\n                if (0 === q) switch (2 * x + 3 * K) {\n                  case 533:\n                    break;\n\n                  default:\n                    q = 1;\n                }\n                v++;\n              }\n\n              break;\n\n            case 64:\n              0 === b + v + n + m + u + k && (k = 1);\n              break;\n\n            case 42:\n            case 47:\n              if (!(0 < n + m + v)) switch (b) {\n                case 0:\n                  switch (2 * g + 3 * e.charCodeAt(l + 1)) {\n                    case 235:\n                      b = 47;\n                      break;\n\n                    case 220:\n                      t = l, b = 42;\n                  }\n\n                  break;\n\n                case 42:\n                  47 === g && 42 === x && t + 2 !== l && (33 === e.charCodeAt(t + 2) && (p += e.substring(t, l + 1)), y = '', b = 0);\n              }\n          }\n\n          0 === b && (f += y);\n      }\n\n      K = x;\n      x = g;\n      l++;\n    }\n\n    t = p.length;\n\n    if (0 < t) {\n      r = c;\n      if (0 < A && (C = H(2, p, r, d, D, z, t, h, a, h), void 0 !== C && 0 === (p = C).length)) return G + p + F;\n      p = r.join(',') + '{' + p + '}';\n\n      if (0 !== w * E) {\n        2 !== w || L(p, 2) || (E = 0);\n\n        switch (E) {\n          case 111:\n            p = p.replace(ha, ':-moz-$1') + p;\n            break;\n\n          case 112:\n            p = p.replace(Q, '::-webkit-input-$1') + p.replace(Q, '::-moz-$1') + p.replace(Q, ':-ms-input-$1') + p;\n        }\n\n        E = 0;\n      }\n    }\n\n    return G + p + F;\n  }\n\n  function X(d, c, e) {\n    var h = c.trim().split(ia);\n    c = h;\n    var a = h.length,\n        m = d.length;\n\n    switch (m) {\n      case 0:\n      case 1:\n        var b = 0;\n\n        for (d = 0 === m ? '' : d[0] + ' '; b < a; ++b) {\n          c[b] = Z(d, c[b], e).trim();\n        }\n\n        break;\n\n      default:\n        var v = b = 0;\n\n        for (c = []; b < a; ++b) {\n          for (var n = 0; n < m; ++n) {\n            c[v++] = Z(d[n] + ' ', h[b], e).trim();\n          }\n        }\n\n    }\n\n    return c;\n  }\n\n  function Z(d, c, e) {\n    var h = c.charCodeAt(0);\n    33 > h && (h = (c = c.trim()).charCodeAt(0));\n\n    switch (h) {\n      case 38:\n        return c.replace(F, '$1' + d.trim());\n\n      case 58:\n        return d.trim() + c.replace(F, '$1' + d.trim());\n\n      default:\n        if (0 < 1 * e && 0 < c.indexOf('\\f')) return c.replace(F, (58 === d.charCodeAt(0) ? '' : '$1') + d.trim());\n    }\n\n    return d + c;\n  }\n\n  function P(d, c, e, h) {\n    var a = d + ';',\n        m = 2 * c + 3 * e + 4 * h;\n\n    if (944 === m) {\n      d = a.indexOf(':', 9) + 1;\n      var b = a.substring(d, a.length - 1).trim();\n      b = a.substring(0, d).trim() + b + ';';\n      return 1 === w || 2 === w && L(b, 1) ? '-webkit-' + b + b : b;\n    }\n\n    if (0 === w || 2 === w && !L(a, 1)) return a;\n\n    switch (m) {\n      case 1015:\n        return 97 === a.charCodeAt(10) ? '-webkit-' + a + a : a;\n\n      case 951:\n        return 116 === a.charCodeAt(3) ? '-webkit-' + a + a : a;\n\n      case 963:\n        return 110 === a.charCodeAt(5) ? '-webkit-' + a + a : a;\n\n      case 1009:\n        if (100 !== a.charCodeAt(4)) break;\n\n      case 969:\n      case 942:\n        return '-webkit-' + a + a;\n\n      case 978:\n        return '-webkit-' + a + '-moz-' + a + a;\n\n      case 1019:\n      case 983:\n        return '-webkit-' + a + '-moz-' + a + '-ms-' + a + a;\n\n      case 883:\n        if (45 === a.charCodeAt(8)) return '-webkit-' + a + a;\n        if (0 < a.indexOf('image-set(', 11)) return a.replace(ja, '$1-webkit-$2') + a;\n        break;\n\n      case 932:\n        if (45 === a.charCodeAt(4)) switch (a.charCodeAt(5)) {\n          case 103:\n            return '-webkit-box-' + a.replace('-grow', '') + '-webkit-' + a + '-ms-' + a.replace('grow', 'positive') + a;\n\n          case 115:\n            return '-webkit-' + a + '-ms-' + a.replace('shrink', 'negative') + a;\n\n          case 98:\n            return '-webkit-' + a + '-ms-' + a.replace('basis', 'preferred-size') + a;\n        }\n        return '-webkit-' + a + '-ms-' + a + a;\n\n      case 964:\n        return '-webkit-' + a + '-ms-flex-' + a + a;\n\n      case 1023:\n        if (99 !== a.charCodeAt(8)) break;\n        b = a.substring(a.indexOf(':', 15)).replace('flex-', '').replace('space-between', 'justify');\n        return '-webkit-box-pack' + b + '-webkit-' + a + '-ms-flex-pack' + b + a;\n\n      case 1005:\n        return ka.test(a) ? a.replace(aa, ':-webkit-') + a.replace(aa, ':-moz-') + a : a;\n\n      case 1e3:\n        b = a.substring(13).trim();\n        c = b.indexOf('-') + 1;\n\n        switch (b.charCodeAt(0) + b.charCodeAt(c)) {\n          case 226:\n            b = a.replace(G, 'tb');\n            break;\n\n          case 232:\n            b = a.replace(G, 'tb-rl');\n            break;\n\n          case 220:\n            b = a.replace(G, 'lr');\n            break;\n\n          default:\n            return a;\n        }\n\n        return '-webkit-' + a + '-ms-' + b + a;\n\n      case 1017:\n        if (-1 === a.indexOf('sticky', 9)) break;\n\n      case 975:\n        c = (a = d).length - 10;\n        b = (33 === a.charCodeAt(c) ? a.substring(0, c) : a).substring(d.indexOf(':', 7) + 1).trim();\n\n        switch (m = b.charCodeAt(0) + (b.charCodeAt(7) | 0)) {\n          case 203:\n            if (111 > b.charCodeAt(8)) break;\n\n          case 115:\n            a = a.replace(b, '-webkit-' + b) + ';' + a;\n            break;\n\n          case 207:\n          case 102:\n            a = a.replace(b, '-webkit-' + (102 < m ? 'inline-' : '') + 'box') + ';' + a.replace(b, '-webkit-' + b) + ';' + a.replace(b, '-ms-' + b + 'box') + ';' + a;\n        }\n\n        return a + ';';\n\n      case 938:\n        if (45 === a.charCodeAt(5)) switch (a.charCodeAt(6)) {\n          case 105:\n            return b = a.replace('-items', ''), '-webkit-' + a + '-webkit-box-' + b + '-ms-flex-' + b + a;\n\n          case 115:\n            return '-webkit-' + a + '-ms-flex-item-' + a.replace(ba, '') + a;\n\n          default:\n            return '-webkit-' + a + '-ms-flex-line-pack' + a.replace('align-content', '').replace(ba, '') + a;\n        }\n        break;\n\n      case 973:\n      case 989:\n        if (45 !== a.charCodeAt(3) || 122 === a.charCodeAt(4)) break;\n\n      case 931:\n      case 953:\n        if (!0 === la.test(d)) return 115 === (b = d.substring(d.indexOf(':') + 1)).charCodeAt(0) ? P(d.replace('stretch', 'fill-available'), c, e, h).replace(':fill-available', ':stretch') : a.replace(b, '-webkit-' + b) + a.replace(b, '-moz-' + b.replace('fill-', '')) + a;\n        break;\n\n      case 962:\n        if (a = '-webkit-' + a + (102 === a.charCodeAt(5) ? '-ms-' + a : '') + a, 211 === e + h && 105 === a.charCodeAt(13) && 0 < a.indexOf('transform', 10)) return a.substring(0, a.indexOf(';', 27) + 1).replace(ma, '$1-webkit-$2') + a;\n    }\n\n    return a;\n  }\n\n  function L(d, c) {\n    var e = d.indexOf(1 === c ? ':' : '{'),\n        h = d.substring(0, 3 !== c ? e : 10);\n    e = d.substring(e + 1, d.length - 1);\n    return R(2 !== c ? h : h.replace(na, '$1'), e, c);\n  }\n\n  function ea(d, c) {\n    var e = P(c, c.charCodeAt(0), c.charCodeAt(1), c.charCodeAt(2));\n    return e !== c + ';' ? e.replace(oa, ' or ($1)').substring(4) : '(' + c + ')';\n  }\n\n  function H(d, c, e, h, a, m, b, v, n, q) {\n    for (var g = 0, x = c, w; g < A; ++g) {\n      switch (w = S[g].call(B, d, x, e, h, a, m, b, v, n, q)) {\n        case void 0:\n        case !1:\n        case !0:\n        case null:\n          break;\n\n        default:\n          x = w;\n      }\n    }\n\n    if (x !== c) return x;\n  }\n\n  function T(d) {\n    switch (d) {\n      case void 0:\n      case null:\n        A = S.length = 0;\n        break;\n\n      default:\n        if ('function' === typeof d) S[A++] = d;else if ('object' === typeof d) for (var c = 0, e = d.length; c < e; ++c) {\n          T(d[c]);\n        } else Y = !!d | 0;\n    }\n\n    return T;\n  }\n\n  function U(d) {\n    d = d.prefix;\n    void 0 !== d && (R = null, d ? 'function' !== typeof d ? w = 1 : (w = 2, R = d) : w = 0);\n    return U;\n  }\n\n  function B(d, c) {\n    var e = d;\n    33 > e.charCodeAt(0) && (e = e.trim());\n    V = e;\n    e = [V];\n\n    if (0 < A) {\n      var h = H(-1, c, e, e, D, z, 0, 0, 0, 0);\n      void 0 !== h && 'string' === typeof h && (c = h);\n    }\n\n    var a = M(O, e, c, 0, 0);\n    0 < A && (h = H(-2, a, e, e, D, z, a.length, 0, 0, 0), void 0 !== h && (a = h));\n    V = '';\n    E = 0;\n    z = D = 1;\n    return a;\n  }\n\n  var ca = /^\\0+/g,\n      N = /[\\0\\r\\f]/g,\n      aa = /: */g,\n      ka = /zoo|gra/,\n      ma = /([,: ])(transform)/g,\n      ia = /,\\r+?/g,\n      F = /([\\t\\r\\n ])*\\f?&/g,\n      fa = /@(k\\w+)\\s*(\\S*)\\s*/,\n      Q = /::(place)/g,\n      ha = /:(read-only)/g,\n      G = /[svh]\\w+-[tblr]{2}/,\n      da = /\\(\\s*(.*)\\s*\\)/g,\n      oa = /([\\s\\S]*?);/g,\n      ba = /-self|flex-/g,\n      na = /[^]*?(:[rp][el]a[\\w-]+)[^]*/,\n      la = /stretch|:\\s*\\w+\\-(?:conte|avail)/,\n      ja = /([^-])(image-set\\()/,\n      z = 1,\n      D = 1,\n      E = 0,\n      w = 1,\n      O = [],\n      S = [],\n      A = 0,\n      R = null,\n      Y = 0,\n      V = '';\n  B.use = T;\n  B.set = U;\n  void 0 !== W && U(W);\n  return B;\n}\n\nexport default stylis_min;\n","var unitlessKeys = {\n  animationIterationCount: 1,\n  borderImageOutset: 1,\n  borderImageSlice: 1,\n  borderImageWidth: 1,\n  boxFlex: 1,\n  boxFlexGroup: 1,\n  boxOrdinalGroup: 1,\n  columnCount: 1,\n  columns: 1,\n  flex: 1,\n  flexGrow: 1,\n  flexPositive: 1,\n  flexShrink: 1,\n  flexNegative: 1,\n  flexOrder: 1,\n  gridRow: 1,\n  gridRowEnd: 1,\n  gridRowSpan: 1,\n  gridRowStart: 1,\n  gridColumn: 1,\n  gridColumnEnd: 1,\n  gridColumnSpan: 1,\n  gridColumnStart: 1,\n  msGridRow: 1,\n  msGridRowSpan: 1,\n  msGridColumn: 1,\n  msGridColumnSpan: 1,\n  fontWeight: 1,\n  lineHeight: 1,\n  opacity: 1,\n  order: 1,\n  orphans: 1,\n  tabSize: 1,\n  widows: 1,\n  zIndex: 1,\n  zoom: 1,\n  WebkitLineClamp: 1,\n  // SVG-related properties\n  fillOpacity: 1,\n  floodOpacity: 1,\n  stopOpacity: 1,\n  strokeDasharray: 1,\n  strokeDashoffset: 1,\n  strokeMiterlimit: 1,\n  strokeOpacity: 1,\n  strokeWidth: 1\n};\n\nexport default unitlessKeys;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { forwardRef } from 'react';\nimport PropTypes from 'prop-types';\nvar X = forwardRef(function (_ref, ref) {\n  var _ref$color = _ref.color,\n      color = _ref$color === void 0 ? 'currentColor' : _ref$color,\n      _ref$size = _ref.size,\n      size = _ref$size === void 0 ? 24 : _ref$size,\n      rest = _objectWithoutProperties(_ref, [\"color\", \"size\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    ref: ref,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: size,\n    height: size,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: color,\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, rest), /*#__PURE__*/React.createElement(\"line\", {\n    x1: \"18\",\n    y1: \"6\",\n    x2: \"6\",\n    y2: \"18\"\n  }), /*#__PURE__*/React.createElement(\"line\", {\n    x1: \"6\",\n    y1: \"6\",\n    x2: \"18\",\n    y2: \"18\"\n  }));\n});\nX.propTypes = {\n  color: PropTypes.string,\n  size: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n};\nX.displayName = 'X';\nexport default X;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { forwardRef } from 'react';\nimport PropTypes from 'prop-types';\nvar Menu = forwardRef(function (_ref, ref) {\n  var _ref$color = _ref.color,\n      color = _ref$color === void 0 ? 'currentColor' : _ref$color,\n      _ref$size = _ref.size,\n      size = _ref$size === void 0 ? 24 : _ref$size,\n      rest = _objectWithoutProperties(_ref, [\"color\", \"size\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    ref: ref,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: size,\n    height: size,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: color,\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, rest), /*#__PURE__*/React.createElement(\"line\", {\n    x1: \"3\",\n    y1: \"12\",\n    x2: \"21\",\n    y2: \"12\"\n  }), /*#__PURE__*/React.createElement(\"line\", {\n    x1: \"3\",\n    y1: \"6\",\n    x2: \"21\",\n    y2: \"6\"\n  }), /*#__PURE__*/React.createElement(\"line\", {\n    x1: \"3\",\n    y1: \"18\",\n    x2: \"21\",\n    y2: \"18\"\n  }));\n});\nMenu.propTypes = {\n  color: PropTypes.string,\n  size: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n};\nMenu.displayName = 'Menu';\nexport default Menu;","import { __assign } from 'tslib';\nimport * as React from 'react';\nimport { useContext } from 'react';\nimport { featureDefinitions } from './definitions.js';\nimport { invariant } from 'hey-listen';\nimport { LazyContext } from '../../context/LazyContext.js';\n\nvar featureNames = Object.keys(featureDefinitions);\nvar numFeatures = featureNames.length;\n/**\n * Load features via renderless components based on the provided MotionProps.\n */\nfunction useFeatures(props, visualElement, preloadedFeatures) {\n    var features = [];\n    var lazyContext = useContext(LazyContext);\n    if (!visualElement)\n        return null;\n    /**\n     * If we're in development mode, check to make sure we're not rendering a motion component\n     * as a child of LazyMotion, as this will break the file-size benefits of using it.\n     */\n    if (process.env.NODE_ENV !== \"production\" &&\n        preloadedFeatures &&\n        lazyContext.strict) {\n        invariant(false, \"You have rendered a `motion` component within a `LazyMotion` component. This will break tree shaking. Import and render a `m` component instead.\");\n    }\n    for (var i = 0; i < numFeatures; i++) {\n        var name_1 = featureNames[i];\n        var _a = featureDefinitions[name_1], isEnabled = _a.isEnabled, Component = _a.Component;\n        /**\n         * It might be possible in the future to use this moment to\n         * dynamically request functionality. In initial tests this\n         * was producing a lot of duplication amongst bundles.\n         */\n        if (isEnabled(props) && Component) {\n            features.push(React.createElement(Component, __assign({ key: name_1 }, props, { visualElement: visualElement })));\n        }\n    }\n    return features;\n}\n\nexport { useFeatures };\n","import { useContext, createContext } from 'react';\n\nvar MotionContext = createContext({});\nfunction useVisualElementContext() {\n    return useContext(MotionContext).visualElement;\n}\n\nexport { MotionContext, useVisualElementContext };\n","import { createContext } from 'react';\n\n/**\n * @internal\n */\nvar LayoutGroupContext = createContext(null);\n\nexport { LayoutGroupContext };\n","import { __assign } from 'tslib';\nimport { useContext, useRef, useEffect } from 'react';\nimport { PresenceContext } from '../../context/PresenceContext.js';\nimport { isPresent } from '../../components/AnimatePresence/use-presence.js';\nimport { LayoutGroupContext } from '../../context/LayoutGroupContext.js';\nimport { useVisualElementContext } from '../../context/MotionContext/index.js';\nimport { useIsomorphicLayoutEffect } from '../../utils/use-isomorphic-effect.js';\nimport { MotionConfigContext } from '../../context/MotionConfigContext.js';\nimport { LazyContext } from '../../context/LazyContext.js';\n\nfunction useLayoutId(_a) {\n    var layoutId = _a.layoutId;\n    var layoutGroupId = useContext(LayoutGroupContext);\n    return layoutGroupId && layoutId !== undefined\n        ? layoutGroupId + \"-\" + layoutId\n        : layoutId;\n}\nfunction useVisualElement(Component, visualState, props, createVisualElement) {\n    var config = useContext(MotionConfigContext);\n    var lazyContext = useContext(LazyContext);\n    var parent = useVisualElementContext();\n    var presenceContext = useContext(PresenceContext);\n    var layoutId = useLayoutId(props);\n    var visualElementRef = useRef(undefined);\n    /**\n     * If we haven't preloaded a renderer, check to see if we have one lazy-loaded\n     */\n    if (!createVisualElement)\n        createVisualElement = lazyContext.renderer;\n    if (!visualElementRef.current && createVisualElement) {\n        visualElementRef.current = createVisualElement(Component, {\n            visualState: visualState,\n            parent: parent,\n            props: __assign(__assign({}, props), { layoutId: layoutId }),\n            presenceId: presenceContext === null || presenceContext === void 0 ? void 0 : presenceContext.id,\n            blockInitialAnimation: (presenceContext === null || presenceContext === void 0 ? void 0 : presenceContext.initial) === false,\n        });\n    }\n    var visualElement = visualElementRef.current;\n    useIsomorphicLayoutEffect(function () {\n        if (!visualElement)\n            return;\n        visualElement.setProps(__assign(__assign(__assign({}, config), props), { layoutId: layoutId }));\n        visualElement.isPresent = isPresent(presenceContext);\n        visualElement.isPresenceRoot =\n            !parent || parent.presenceId !== (presenceContext === null || presenceContext === void 0 ? void 0 : presenceContext.id);\n        /**\n         * Fire a render to ensure the latest state is reflected on-screen.\n         */\n        visualElement.syncRender();\n    });\n    useEffect(function () {\n        var _a;\n        if (!visualElement)\n            return;\n        /**\n         * In a future refactor we can replace the features-as-components and\n         * have this loop through them all firing \"effect\" listeners\n         */\n        (_a = visualElement.animationState) === null || _a === void 0 ? void 0 : _a.animateChanges();\n    });\n    useIsomorphicLayoutEffect(function () { return function () { return visualElement === null || visualElement === void 0 ? void 0 : visualElement.notifyUnmount(); }; }, []);\n    return visualElement;\n}\n\nexport { useVisualElement };\n","function isRefObject(ref) {\n    return (typeof ref === \"object\" &&\n        Object.prototype.hasOwnProperty.call(ref, \"current\"));\n}\n\nexport { isRefObject };\n","import { useMemo, useContext } from 'react';\nimport { MotionContext } from './index.js';\nimport { getCurrentTreeVariants } from './utils.js';\n\nfunction useCreateMotionContext(props, isStatic) {\n    var _a = getCurrentTreeVariants(props, useContext(MotionContext)), initial = _a.initial, animate = _a.animate;\n    return useMemo(function () { return ({ initial: initial, animate: animate }); }, \n    /**\n     * Only break memoisation in static mode\n     */\n    isStatic\n        ? [\n            variantLabelsAsDependency(initial),\n            variantLabelsAsDependency(animate),\n        ]\n        : []);\n}\nfunction variantLabelsAsDependency(prop) {\n    return Array.isArray(prop) ? prop.join(\" \") : prop;\n}\n\nexport { useCreateMotionContext };\n","import { checkIfControllingVariants, isVariantLabel } from '../../render/utils/variants.js';\n\nfunction getCurrentTreeVariants(props, context) {\n    if (checkIfControllingVariants(props)) {\n        var initial = props.initial, animate = props.animate;\n        return {\n            initial: initial === false || isVariantLabel(initial)\n                ? initial\n                : undefined,\n            animate: isVariantLabel(animate) ? animate : undefined,\n        };\n    }\n    return props.inherit !== false ? context : {};\n}\n\nexport { getCurrentTreeVariants };\n","import * as React from 'react';\nimport { forwardRef, useContext } from 'react';\nimport { useFeatures } from './features/use-features.js';\nimport { MotionConfigContext } from '../context/MotionConfigContext.js';\nimport { MotionContext } from '../context/MotionContext/index.js';\nimport { useVisualElement } from './utils/use-visual-element.js';\nimport { useMotionRef } from './utils/use-motion-ref.js';\nimport { useCreateMotionContext } from '../context/MotionContext/create.js';\nimport { loadFeatures } from './features/definitions.js';\nimport { isBrowser } from '../utils/is-browser.js';\n\n/**\n * Create a `motion` component.\n *\n * This function accepts a Component argument, which can be either a string (ie \"div\"\n * for `motion.div`), or an actual React component.\n *\n * Alongside this is a config option which provides a way of rendering the provided\n * component \"offline\", or outside the React render cycle.\n *\n * @internal\n */\nfunction createMotionComponent(_a) {\n    var preloadedFeatures = _a.preloadedFeatures, createVisualElement = _a.createVisualElement, useRender = _a.useRender, useVisualState = _a.useVisualState, Component = _a.Component;\n    preloadedFeatures && loadFeatures(preloadedFeatures);\n    function MotionComponent(props, externalRef) {\n        /**\n         * If we're rendering in a static environment, we only visually update the component\n         * as a result of a React-rerender rather than interactions or animations. This\n         * means we don't need to load additional memory structures like VisualElement,\n         * or any gesture/animation features.\n         */\n        var isStatic = useContext(MotionConfigContext).isStatic;\n        var features = null;\n        /**\n         * Create the tree context. This is memoized and will only trigger renders\n         * when the current tree variant changes in static mode.\n         */\n        var context = useCreateMotionContext(props, isStatic);\n        /**\n         *\n         */\n        var visualState = useVisualState(props, isStatic);\n        if (!isStatic && isBrowser) {\n            /**\n             * Create a VisualElement for this component. A VisualElement provides a common\n             * interface to renderer-specific APIs (ie DOM/Three.js etc) as well as\n             * providing a way of rendering to these APIs outside of the React render loop\n             * for more performant animations and interactions\n             */\n            context.visualElement = useVisualElement(Component, visualState, props, createVisualElement);\n            /**\n             * Load Motion gesture and animation features. These are rendered as renderless\n             * components so each feature can optionally make use of React lifecycle methods.\n             *\n             * TODO: The intention is to move these away from a React-centric to a\n             * VisualElement-centric lifecycle scheme.\n             */\n            features = useFeatures(props, context.visualElement, preloadedFeatures);\n        }\n        /**\n         * The mount order and hierarchy is specific to ensure our element ref\n         * is hydrated by the time features fire their effects.\n         */\n        return (React.createElement(React.Fragment, null,\n            React.createElement(MotionContext.Provider, { value: context }, useRender(Component, props, useMotionRef(visualState, context.visualElement, externalRef), visualState, isStatic)),\n            features));\n    }\n    return forwardRef(MotionComponent);\n}\n\nexport { createMotionComponent };\n","import { useCallback } from 'react';\nimport { isRefObject } from '../../utils/is-ref-object.js';\n\n/**\n * Creates a ref function that, when called, hydrates the provided\n * external ref and VisualElement.\n */\nfunction useMotionRef(visualState, visualElement, externalRef) {\n    return useCallback(function (instance) {\n        var _a;\n        instance && ((_a = visualState.mount) === null || _a === void 0 ? void 0 : _a.call(visualState, instance));\n        if (visualElement) {\n            instance\n                ? visualElement.mount(instance)\n                : visualElement.unmount();\n        }\n        if (externalRef) {\n            if (typeof externalRef === \"function\") {\n                externalRef(instance);\n            }\n            else if (isRefObject(externalRef)) {\n                externalRef.current = instance;\n            }\n        }\n    }, [visualElement, externalRef]);\n}\n\nexport { useMotionRef };\n","import { createMotionComponent } from '../../motion/index.js';\n\n/**\n * Convert any React component into a `motion` component. The provided component\n * **must** use `React.forwardRef` to the underlying DOM component you want to animate.\n *\n * ```jsx\n * const Component = React.forwardRef((props, ref) => {\n *   return <div ref={ref} />\n * })\n *\n * const MotionComponent = motion(Component)\n * ```\n *\n * @public\n */\nfunction createMotionProxy(createConfig) {\n    function custom(Component, customMotionComponentConfig) {\n        if (customMotionComponentConfig === void 0) { customMotionComponentConfig = {}; }\n        return createMotionComponent(createConfig(Component, customMotionComponentConfig));\n    }\n    /**\n     * A cache of generated `motion` components, e.g `motion.div`, `motion.input` etc.\n     * Rather than generating them anew every render.\n     */\n    var componentCache = new Map();\n    return new Proxy(custom, {\n        /**\n         * Called when `motion` is referenced with a prop: `motion.div`, `motion.input` etc.\n         * The prop name is passed through as `key` and we can use that to generate a `motion`\n         * DOM component with that name.\n         */\n        get: function (_target, key) {\n            /**\n             * If this element doesn't exist in the component cache, create it and cache.\n             */\n            if (!componentCache.has(key)) {\n                componentCache.set(key, custom(key));\n            }\n            return componentCache.get(key);\n        },\n    });\n}\n\nexport { createMotionProxy };\n","var createHtmlRenderState = function () { return ({\n    style: {},\n    transform: {},\n    transformKeys: [],\n    transformOrigin: {},\n    vars: {},\n}); };\n\nexport { createHtmlRenderState };\n","import { __assign } from 'tslib';\nimport { useMemo } from 'react';\nimport { isForcedMotionValue } from '../../motion/utils/is-forced-motion-value.js';\nimport { isMotionValue } from '../../value/utils/is-motion-value.js';\nimport { buildHTMLStyles } from './utils/build-styles.js';\nimport { createHtmlRenderState } from './utils/create-render-state.js';\n\nfunction copyRawValuesOnly(target, source, props) {\n    for (var key in source) {\n        if (!isMotionValue(source[key]) && !isForcedMotionValue(key, props)) {\n            target[key] = source[key];\n        }\n    }\n}\nfunction useInitialMotionValues(_a, visualState, isStatic) {\n    var transformTemplate = _a.transformTemplate;\n    return useMemo(function () {\n        var state = createHtmlRenderState();\n        buildHTMLStyles(state, visualState, undefined, undefined, { enableHardwareAcceleration: !isStatic }, transformTemplate);\n        var vars = state.vars, style = state.style;\n        return __assign(__assign({}, vars), style);\n    }, [visualState]);\n}\nfunction useStyle(props, visualState, isStatic) {\n    var styleProp = props.style || {};\n    var style = {};\n    /**\n     * Copy non-Motion Values straight into style\n     */\n    copyRawValuesOnly(style, styleProp, props);\n    Object.assign(style, useInitialMotionValues(props, visualState, isStatic));\n    if (props.transformValues) {\n        style = props.transformValues(style);\n    }\n    return style;\n}\nfunction useHTMLProps(props, visualState, isStatic) {\n    // The `any` isn't ideal but it is the type of createElement props argument\n    var htmlProps = {};\n    var style = useStyle(props, visualState, isStatic);\n    if (Boolean(props.drag)) {\n        // Disable the ghost element when a user drags\n        htmlProps.draggable = false;\n        // Disable text selection\n        style.userSelect = style.WebkitUserSelect = style.WebkitTouchCallout =\n            \"none\";\n        // Disable scrolling on the draggable direction\n        style.touchAction =\n            props.drag === true\n                ? \"none\"\n                : \"pan-\" + (props.drag === \"x\" ? \"y\" : \"x\");\n    }\n    htmlProps.style = style;\n    return htmlProps;\n}\n\nexport { copyRawValuesOnly, useHTMLProps, useStyle };\n","/**\n * A list of all valid MotionProps.\n *\n * @internalremarks\n * This doesn't throw if a `MotionProp` name is missing - it should.\n */\nvar validMotionProps = new Set([\n    \"initial\",\n    \"animate\",\n    \"exit\",\n    \"style\",\n    \"variants\",\n    \"transition\",\n    \"transformTemplate\",\n    \"transformValues\",\n    \"custom\",\n    \"inherit\",\n    \"layout\",\n    \"layoutId\",\n    \"_layoutResetTransform\",\n    \"onLayoutAnimationComplete\",\n    \"onViewportBoxUpdate\",\n    \"onLayoutMeasure\",\n    \"onBeforeLayoutMeasure\",\n    \"onAnimationStart\",\n    \"onAnimationComplete\",\n    \"onUpdate\",\n    \"onDragStart\",\n    \"onDrag\",\n    \"onDragEnd\",\n    \"onMeasureDragConstraints\",\n    \"onDirectionLock\",\n    \"onDragTransitionEnd\",\n    \"drag\",\n    \"dragControls\",\n    \"dragListener\",\n    \"dragConstraints\",\n    \"dragDirectionLock\",\n    \"_dragX\",\n    \"_dragY\",\n    \"dragElastic\",\n    \"dragMomentum\",\n    \"dragPropagation\",\n    \"dragTransition\",\n    \"whileDrag\",\n    \"onPan\",\n    \"onPanStart\",\n    \"onPanEnd\",\n    \"onPanSessionStart\",\n    \"onTap\",\n    \"onTapStart\",\n    \"onTapCancel\",\n    \"onHoverStart\",\n    \"onHoverEnd\",\n    \"whileFocus\",\n    \"whileTap\",\n    \"whileHover\",\n]);\n/**\n * Check whether a prop name is a valid `MotionProp` key.\n *\n * @param key - Name of the property to check\n * @returns `true` is key is a valid `MotionProp`.\n *\n * @public\n */\nfunction isValidMotionProp(key) {\n    return validMotionProps.has(key);\n}\n\nexport { isValidMotionProp };\n","import { isValidMotionProp } from '../../../motion/utils/valid-prop.js';\n\nvar shouldForward = function (key) { return !isValidMotionProp(key); };\n/**\n * Emotion and Styled Components both allow users to pass through arbitrary props to their components\n * to dynamically generate CSS. They both use the `@emotion/is-prop-valid` package to determine which\n * of these should be passed to the underlying DOM node.\n *\n * However, when styling a Motion component `styled(motion.div)`, both packages pass through *all* props\n * as it's seen as an arbitrary component rather than a DOM node. Motion only allows arbitrary props\n * passed through the `custom` prop so it doesn't *need* the payload or computational overhead of\n * `@emotion/is-prop-valid`, however to fix this problem we need to use it.\n *\n * By making it an optionalDependency we can offer this functionality only in the situations where it's\n * actually required.\n */\ntry {\n    var emotionIsPropValid_1 = require(\"@emotion/is-prop-valid\").default;\n    shouldForward = function (key) {\n        // Handle events explicitly as Emotion validates them all as true\n        if (key.startsWith(\"on\")) {\n            return !isValidMotionProp(key);\n        }\n        else {\n            return emotionIsPropValid_1(key);\n        }\n    };\n}\ncatch (_a) {\n    // We don't need to actually do anything here - the fallback is the existing `isPropValid`.\n}\nfunction filterProps(props, isDom, forwardMotionProps) {\n    var filteredProps = {};\n    for (var key in props) {\n        if (shouldForward(key) ||\n            (forwardMotionProps === true && isValidMotionProp(key)) ||\n            (!isDom && !isValidMotionProp(key))) {\n            filteredProps[key] = props[key];\n        }\n    }\n    return filteredProps;\n}\n\nexport { filterProps };\n","import { __assign } from 'tslib';\nimport { createHtmlRenderState } from '../../html/utils/create-render-state.js';\n\nvar createSvgRenderState = function () { return (__assign(__assign({}, createHtmlRenderState()), { attrs: {} })); };\n\nexport { createSvgRenderState };\n","import { __assign } from 'tslib';\nimport { useMemo } from 'react';\nimport { copyRawValuesOnly } from '../html/use-props.js';\nimport { buildSVGAttrs } from './utils/build-attrs.js';\nimport { createSvgRenderState } from './utils/create-render-state.js';\n\nfunction useSVGProps(props, visualState) {\n    var visualProps = useMemo(function () {\n        var state = createSvgRenderState();\n        buildSVGAttrs(state, visualState, undefined, undefined, { enableHardwareAcceleration: false }, props.transformTemplate);\n        return __assign(__assign({}, state.attrs), { style: __assign({}, state.style) });\n    }, [visualState]);\n    if (props.style) {\n        var rawStyles = {};\n        copyRawValuesOnly(rawStyles, props.style, props);\n        visualProps.style = __assign(__assign({}, rawStyles), visualProps.style);\n    }\n    return visualProps;\n}\n\nexport { useSVGProps };\n","import { __assign } from 'tslib';\nimport { createElement } from 'react';\nimport { useHTMLProps } from '../html/use-props.js';\nimport { filterProps } from './utils/filter-props.js';\nimport { isSVGComponent } from './utils/is-svg-component.js';\nimport { useSVGProps } from '../svg/use-props.js';\n\nfunction createUseRender(forwardMotionProps) {\n    if (forwardMotionProps === void 0) { forwardMotionProps = false; }\n    var useRender = function (Component, props, ref, _a, isStatic) {\n        var latestValues = _a.latestValues;\n        var useVisualProps = isSVGComponent(Component)\n            ? useSVGProps\n            : useHTMLProps;\n        var visualProps = useVisualProps(props, latestValues, isStatic);\n        var filteredProps = filterProps(props, typeof Component === \"string\", forwardMotionProps);\n        var elementProps = __assign(__assign(__assign({}, filteredProps), visualProps), { ref: ref });\n        return createElement(Component, elementProps);\n    };\n    return useRender;\n}\n\nexport { createUseRender };\n","import { isCustomValue } from '../../utils/resolve-value.js';\nimport { isMotionValue } from './is-motion-value.js';\n\n/**\n * If the provided value is a MotionValue, this returns the actual value, otherwise just the value itself\n *\n * TODO: Remove and move to library\n *\n * @internal\n */\nfunction resolveMotionValue(value) {\n    var unwrappedValue = isMotionValue(value) ? value.get() : value;\n    return isCustomValue(unwrappedValue)\n        ? unwrappedValue.toValue()\n        : unwrappedValue;\n}\n\nexport { resolveMotionValue };\n","import { __rest } from 'tslib';\nimport { useContext } from 'react';\nimport { isAnimationControls } from '../../animation/utils/is-animation-controls.js';\nimport { PresenceContext } from '../../context/PresenceContext.js';\nimport { checkIfControllingVariants, checkIfVariantNode, resolveVariantFromProps } from '../../render/utils/variants.js';\nimport { useConstant } from '../../utils/use-constant.js';\nimport { resolveMotionValue } from '../../value/utils/resolve-motion-value.js';\nimport { MotionContext } from '../../context/MotionContext/index.js';\n\nfunction makeState(_a, props, context, presenceContext) {\n    var scrapeMotionValuesFromProps = _a.scrapeMotionValuesFromProps, createRenderState = _a.createRenderState, onMount = _a.onMount;\n    var state = {\n        latestValues: makeLatestValues(props, context, presenceContext, scrapeMotionValuesFromProps),\n        renderState: createRenderState(),\n    };\n    if (onMount) {\n        state.mount = function (instance) { return onMount(props, instance, state); };\n    }\n    return state;\n}\nvar makeUseVisualState = function (config) { return function (props, isStatic) {\n    var context = useContext(MotionContext);\n    var presenceContext = useContext(PresenceContext);\n    return isStatic\n        ? makeState(config, props, context, presenceContext)\n        : useConstant(function () { return makeState(config, props, context, presenceContext); });\n}; };\nfunction makeLatestValues(props, context, presenceContext, scrapeMotionValues) {\n    var values = {};\n    var blockInitialAnimation = (presenceContext === null || presenceContext === void 0 ? void 0 : presenceContext.initial) === false;\n    var motionValues = scrapeMotionValues(props);\n    for (var key in motionValues) {\n        values[key] = resolveMotionValue(motionValues[key]);\n    }\n    var initial = props.initial, animate = props.animate;\n    var isControllingVariants = checkIfControllingVariants(props);\n    var isVariantNode = checkIfVariantNode(props);\n    if (context &&\n        isVariantNode &&\n        !isControllingVariants &&\n        props.inherit !== false) {\n        initial !== null && initial !== void 0 ? initial : (initial = context.initial);\n        animate !== null && animate !== void 0 ? animate : (animate = context.animate);\n    }\n    var variantToSet = blockInitialAnimation || initial === false ? animate : initial;\n    if (variantToSet &&\n        typeof variantToSet !== \"boolean\" &&\n        !isAnimationControls(variantToSet)) {\n        var list = Array.isArray(variantToSet) ? variantToSet : [variantToSet];\n        list.forEach(function (definition) {\n            var resolved = resolveVariantFromProps(props, definition);\n            if (!resolved)\n                return;\n            var transitionEnd = resolved.transitionEnd; resolved.transition; var target = __rest(resolved, [\"transitionEnd\", \"transition\"]);\n            for (var key in target)\n                values[key] = target[key];\n            for (var key in transitionEnd)\n                values[key] = transitionEnd[key];\n        });\n    }\n    return values;\n}\n\nexport { makeUseVisualState };\n","import { renderSVG } from './utils/render.js';\nimport { scrapeMotionValuesFromProps } from './utils/scrape-motion-values.js';\nimport { makeUseVisualState } from '../../motion/utils/use-visual-state.js';\nimport { createSvgRenderState } from './utils/create-render-state.js';\nimport { buildSVGAttrs } from './utils/build-attrs.js';\n\nvar svgMotionConfig = {\n    useVisualState: makeUseVisualState({\n        scrapeMotionValuesFromProps: scrapeMotionValuesFromProps,\n        createRenderState: createSvgRenderState,\n        onMount: function (props, instance, _a) {\n            var renderState = _a.renderState, latestValues = _a.latestValues;\n            try {\n                renderState.dimensions =\n                    typeof instance.getBBox ===\n                        \"function\"\n                        ? instance.getBBox()\n                        : instance.getBoundingClientRect();\n            }\n            catch (e) {\n                // Most likely trying to measure an unrendered element under Firefox\n                renderState.dimensions = {\n                    x: 0,\n                    y: 0,\n                    width: 0,\n                    height: 0,\n                };\n            }\n            if (isPath(instance)) {\n                renderState.totalPathLength = instance.getTotalLength();\n            }\n            buildSVGAttrs(renderState, latestValues, undefined, undefined, { enableHardwareAcceleration: false }, props.transformTemplate);\n            // TODO: Replace with direct assignment\n            renderSVG(instance, renderState);\n        },\n    }),\n};\nfunction isPath(element) {\n    return element.tagName === \"path\";\n}\n\nexport { svgMotionConfig };\n","import { makeUseVisualState } from '../../motion/utils/use-visual-state.js';\nimport { scrapeMotionValuesFromProps } from './utils/scrape-motion-values.js';\nimport { createHtmlRenderState } from './utils/create-render-state.js';\n\nvar htmlMotionConfig = {\n    useVisualState: makeUseVisualState({\n        scrapeMotionValuesFromProps: scrapeMotionValuesFromProps,\n        createRenderState: createHtmlRenderState,\n    }),\n};\n\nexport { htmlMotionConfig };\n","import { __assign } from 'tslib';\nimport { isSVGComponent } from './is-svg-component.js';\nimport { createUseRender } from '../use-render.js';\nimport { svgMotionConfig } from '../../svg/config-motion.js';\nimport { htmlMotionConfig } from '../../html/config-motion.js';\n\nfunction createDomMotionConfig(Component, _a, preloadedFeatures, createVisualElement) {\n    var _b = _a.forwardMotionProps, forwardMotionProps = _b === void 0 ? false : _b;\n    var baseConfig = isSVGComponent(Component)\n        ? svgMotionConfig\n        : htmlMotionConfig;\n    return __assign(__assign({}, baseConfig), { preloadedFeatures: preloadedFeatures, useRender: createUseRender(forwardMotionProps), createVisualElement: createVisualElement,\n        Component: Component });\n}\n\nexport { createDomMotionConfig };\n","import { __assign } from 'tslib';\nimport { isMouseEvent, isTouchEvent } from './utils/event-type.js';\nimport { extractEventInfo } from '../events/event-info.js';\nimport sync, { getFrameData, cancelSync } from 'framesync';\nimport { secondsToMilliseconds } from '../utils/time-conversion.js';\nimport { addPointerEvent } from '../events/use-pointer-event.js';\nimport { distance, pipe } from 'popmotion';\n\n/**\n * @internal\n */\nvar PanSession = /** @class */ (function () {\n    function PanSession(event, handlers, _a) {\n        var _this = this;\n        var _b = _a === void 0 ? {} : _a, transformPagePoint = _b.transformPagePoint;\n        /**\n         * @internal\n         */\n        this.startEvent = null;\n        /**\n         * @internal\n         */\n        this.lastMoveEvent = null;\n        /**\n         * @internal\n         */\n        this.lastMoveEventInfo = null;\n        /**\n         * @internal\n         */\n        this.handlers = {};\n        this.updatePoint = function () {\n            if (!(_this.lastMoveEvent && _this.lastMoveEventInfo))\n                return;\n            var info = getPanInfo(_this.lastMoveEventInfo, _this.history);\n            var isPanStarted = _this.startEvent !== null;\n            // Only start panning if the offset is larger than 3 pixels. If we make it\n            // any larger than this we'll want to reset the pointer history\n            // on the first update to avoid visual snapping to the cursoe.\n            var isDistancePastThreshold = distance(info.offset, { x: 0, y: 0 }) >= 3;\n            if (!isPanStarted && !isDistancePastThreshold)\n                return;\n            var point = info.point;\n            var timestamp = getFrameData().timestamp;\n            _this.history.push(__assign(__assign({}, point), { timestamp: timestamp }));\n            var _a = _this.handlers, onStart = _a.onStart, onMove = _a.onMove;\n            if (!isPanStarted) {\n                onStart && onStart(_this.lastMoveEvent, info);\n                _this.startEvent = _this.lastMoveEvent;\n            }\n            onMove && onMove(_this.lastMoveEvent, info);\n        };\n        this.handlePointerMove = function (event, info) {\n            _this.lastMoveEvent = event;\n            _this.lastMoveEventInfo = transformPoint(info, _this.transformPagePoint);\n            // Because Safari doesn't trigger mouseup events when it's above a `<select>`\n            if (isMouseEvent(event) && event.buttons === 0) {\n                _this.handlePointerUp(event, info);\n                return;\n            }\n            // Throttle mouse move event to once per frame\n            sync.update(_this.updatePoint, true);\n        };\n        this.handlePointerUp = function (event, info) {\n            _this.end();\n            var onEnd = _this.handlers.onEnd;\n            if (!onEnd || !_this.startEvent)\n                return;\n            var panInfo = getPanInfo(transformPoint(info, _this.transformPagePoint), _this.history);\n            onEnd && onEnd(event, panInfo);\n        };\n        // If we have more than one touch, don't start detecting this gesture\n        if (isTouchEvent(event) && event.touches.length > 1)\n            return;\n        this.handlers = handlers;\n        this.transformPagePoint = transformPagePoint;\n        var info = extractEventInfo(event);\n        var initialInfo = transformPoint(info, this.transformPagePoint);\n        var point = initialInfo.point;\n        var timestamp = getFrameData().timestamp;\n        this.history = [__assign(__assign({}, point), { timestamp: timestamp })];\n        var onSessionStart = handlers.onSessionStart;\n        onSessionStart &&\n            onSessionStart(event, getPanInfo(initialInfo, this.history));\n        this.removeListeners = pipe(addPointerEvent(window, \"pointermove\", this.handlePointerMove), addPointerEvent(window, \"pointerup\", this.handlePointerUp), addPointerEvent(window, \"pointercancel\", this.handlePointerUp));\n    }\n    PanSession.prototype.updateHandlers = function (handlers) {\n        this.handlers = handlers;\n    };\n    PanSession.prototype.end = function () {\n        this.removeListeners && this.removeListeners();\n        cancelSync.update(this.updatePoint);\n    };\n    return PanSession;\n}());\nfunction transformPoint(info, transformPagePoint) {\n    return transformPagePoint ? { point: transformPagePoint(info.point) } : info;\n}\nfunction subtractPoint(a, b) {\n    return { x: a.x - b.x, y: a.y - b.y };\n}\nfunction getPanInfo(_a, history) {\n    var point = _a.point;\n    return {\n        point: point,\n        delta: subtractPoint(point, lastDevicePoint(history)),\n        offset: subtractPoint(point, startDevicePoint(history)),\n        velocity: getVelocity(history, 0.1),\n    };\n}\nfunction startDevicePoint(history) {\n    return history[0];\n}\nfunction lastDevicePoint(history) {\n    return history[history.length - 1];\n}\nfunction getVelocity(history, timeDelta) {\n    if (history.length < 2) {\n        return { x: 0, y: 0 };\n    }\n    var i = history.length - 1;\n    var timestampedPoint = null;\n    var lastPoint = lastDevicePoint(history);\n    while (i >= 0) {\n        timestampedPoint = history[i];\n        if (lastPoint.timestamp - timestampedPoint.timestamp >\n            secondsToMilliseconds(timeDelta)) {\n            break;\n        }\n        i--;\n    }\n    if (!timestampedPoint) {\n        return { x: 0, y: 0 };\n    }\n    var time = (lastPoint.timestamp - timestampedPoint.timestamp) / 1000;\n    if (time === 0) {\n        return { x: 0, y: 0 };\n    }\n    var currentVelocity = {\n        x: (lastPoint.x - timestampedPoint.x) / time,\n        y: (lastPoint.y - timestampedPoint.y) / time,\n    };\n    if (currentVelocity.x === Infinity) {\n        currentVelocity.x = 0;\n    }\n    if (currentVelocity.y === Infinity) {\n        currentVelocity.y = 0;\n    }\n    return currentVelocity;\n}\n\nexport { PanSession };\n","import { __read } from 'tslib';\nimport { mix } from 'popmotion';\n\n/**\n * Apply constraints to a point. These constraints are both physical along an\n * axis, and an elastic factor that determines how much to constrain the point\n * by if it does lie outside the defined parameters.\n */\nfunction applyConstraints(point, _a, elastic) {\n    var min = _a.min, max = _a.max;\n    if (min !== undefined && point < min) {\n        // If we have a min point defined, and this is outside of that, constrain\n        point = elastic ? mix(min, point, elastic.min) : Math.max(point, min);\n    }\n    else if (max !== undefined && point > max) {\n        // If we have a max point defined, and this is outside of that, constrain\n        point = elastic ? mix(max, point, elastic.max) : Math.min(point, max);\n    }\n    return point;\n}\n/**\n * Calculates a min projection point based on a pointer, pointer progress\n * within the drag target, and constraints.\n *\n * For instance if an element was 100px width, we were dragging from 0.25\n * along this axis, the pointer is at 200px, and there were no constraints,\n * we would calculate a min projection point of 175px.\n */\nfunction calcConstrainedMinPoint(point, length, progress, constraints, elastic) {\n    // Calculate a min point for this axis and apply it to the current pointer\n    var min = point - length * progress;\n    return constraints ? applyConstraints(min, constraints, elastic) : min;\n}\n/**\n * Calculate constraints in terms of the viewport when defined relatively to the\n * measured axis. This is measured from the nearest edge, so a max constraint of 200\n * on an axis with a max value of 300 would return a constraint of 500 - axis length\n */\nfunction calcRelativeAxisConstraints(axis, min, max) {\n    return {\n        min: min !== undefined ? axis.min + min : undefined,\n        max: max !== undefined\n            ? axis.max + max - (axis.max - axis.min)\n            : undefined,\n    };\n}\n/**\n * Calculate constraints in terms of the viewport when\n * defined relatively to the measured bounding box.\n */\nfunction calcRelativeConstraints(layoutBox, _a) {\n    var top = _a.top, left = _a.left, bottom = _a.bottom, right = _a.right;\n    return {\n        x: calcRelativeAxisConstraints(layoutBox.x, left, right),\n        y: calcRelativeAxisConstraints(layoutBox.y, top, bottom),\n    };\n}\n/**\n * Calculate viewport constraints when defined as another viewport-relative axis\n */\nfunction calcViewportAxisConstraints(layoutAxis, constraintsAxis) {\n    var _a;\n    var min = constraintsAxis.min - layoutAxis.min;\n    var max = constraintsAxis.max - layoutAxis.max;\n    // If the constraints axis is actually smaller than the layout axis then we can\n    // flip the constraints\n    if (constraintsAxis.max - constraintsAxis.min <\n        layoutAxis.max - layoutAxis.min) {\n        _a = __read([max, min], 2), min = _a[0], max = _a[1];\n    }\n    return {\n        min: layoutAxis.min + min,\n        max: layoutAxis.min + max,\n    };\n}\n/**\n * Calculate viewport constraints when defined as another viewport-relative box\n */\nfunction calcViewportConstraints(layoutBox, constraintsBox) {\n    return {\n        x: calcViewportAxisConstraints(layoutBox.x, constraintsBox.x),\n        y: calcViewportAxisConstraints(layoutBox.y, constraintsBox.y),\n    };\n}\n/**\n * Calculate the an axis position based on two axes and a progress value.\n */\nfunction calcPositionFromProgress(axis, constraints, progress) {\n    var axisLength = axis.max - axis.min;\n    var min = mix(constraints.min, constraints.max - axisLength, progress);\n    return { min: min, max: min + axisLength };\n}\n/**\n * Rebase the calculated viewport constraints relative to the layout.min point.\n */\nfunction rebaseAxisConstraints(layout, constraints) {\n    var relativeConstraints = {};\n    if (constraints.min !== undefined) {\n        relativeConstraints.min = constraints.min - layout.min;\n    }\n    if (constraints.max !== undefined) {\n        relativeConstraints.max = constraints.max - layout.min;\n    }\n    return relativeConstraints;\n}\nvar defaultElastic = 0.35;\n/**\n * Accepts a dragElastic prop and returns resolved elastic values for each axis.\n */\nfunction resolveDragElastic(dragElastic) {\n    if (dragElastic === false) {\n        dragElastic = 0;\n    }\n    else if (dragElastic === true) {\n        dragElastic = defaultElastic;\n    }\n    return {\n        x: resolveAxisElastic(dragElastic, \"left\", \"right\"),\n        y: resolveAxisElastic(dragElastic, \"top\", \"bottom\"),\n    };\n}\nfunction resolveAxisElastic(dragElastic, minLabel, maxLabel) {\n    return {\n        min: resolvePointElastic(dragElastic, minLabel),\n        max: resolvePointElastic(dragElastic, maxLabel),\n    };\n}\nfunction resolvePointElastic(dragElastic, label) {\n    var _a;\n    return typeof dragElastic === \"number\"\n        ? dragElastic\n        : (_a = dragElastic[label]) !== null && _a !== void 0 ? _a : 0;\n}\n\nexport { applyConstraints, calcConstrainedMinPoint, calcPositionFromProgress, calcRelativeAxisConstraints, calcRelativeConstraints, calcViewportAxisConstraints, calcViewportConstraints, defaultElastic, rebaseAxisConstraints, resolveAxisElastic, resolveDragElastic, resolvePointElastic };\n","import sync from 'framesync';\nimport { copyAxisBox } from '../../../utils/geometry/index.js';\nimport { compareByDepth } from '../../utils/compare-by-depth.js';\n\nfunction isProjecting(visualElement) {\n    var isEnabled = visualElement.projection.isEnabled;\n    return isEnabled || visualElement.shouldResetTransform();\n}\nfunction collectProjectingAncestors(visualElement, ancestors) {\n    if (ancestors === void 0) { ancestors = []; }\n    var parent = visualElement.parent;\n    if (parent)\n        collectProjectingAncestors(parent, ancestors);\n    if (isProjecting(visualElement))\n        ancestors.push(visualElement);\n    return ancestors;\n}\nfunction collectProjectingChildren(visualElement) {\n    var children = [];\n    var addChild = function (child) {\n        if (isProjecting(child))\n            children.push(child);\n        child.children.forEach(addChild);\n    };\n    visualElement.children.forEach(addChild);\n    return children.sort(compareByDepth);\n}\n/**\n * Update the layoutState by measuring the DOM layout. This\n * should be called after resetting any layout-affecting transforms.\n */\nfunction updateLayoutMeasurement(visualElement) {\n    if (visualElement.shouldResetTransform())\n        return;\n    var layoutState = visualElement.getLayoutState();\n    visualElement.notifyBeforeLayoutMeasure(layoutState.layout);\n    layoutState.isHydrated = true;\n    layoutState.layout = visualElement.measureViewportBox();\n    layoutState.layoutCorrected = copyAxisBox(layoutState.layout);\n    visualElement.notifyLayoutMeasure(layoutState.layout, visualElement.prevViewportBox || layoutState.layout);\n    sync.update(function () { return visualElement.rebaseProjectionTarget(); });\n}\n/**\n * Record the viewport box as it was before an expected mutation/re-render\n */\nfunction snapshotViewportBox(visualElement) {\n    if (visualElement.shouldResetTransform())\n        return;\n    visualElement.prevViewportBox = visualElement.measureViewportBox(false);\n    /**\n     * Update targetBox to match the prevViewportBox. This is just to ensure\n     * that targetBox is affected by scroll in the same way as the measured box\n     */\n    visualElement.rebaseProjectionTarget(false, visualElement.prevViewportBox);\n}\n\nexport { collectProjectingAncestors, collectProjectingChildren, snapshotViewportBox, updateLayoutMeasurement };\n","import { __rest, __assign, __spreadArray, __read } from 'tslib';\nimport { invariant } from 'hey-listen';\nimport { PanSession } from '../PanSession.js';\nimport { getGlobalLock } from './utils/lock.js';\nimport { isRefObject } from '../../utils/is-ref-object.js';\nimport { addPointerEvent } from '../../events/use-pointer-event.js';\nimport { addDomEvent } from '../../events/use-dom-event.js';\nimport { getViewportPointFromEvent } from '../../events/event-info.js';\nimport { axisBox, convertAxisBoxToBoundingBox, convertBoundingBoxToAxisBox } from '../../utils/geometry/index.js';\nimport { eachAxis } from '../../utils/each-axis.js';\nimport { calcRelativeConstraints, resolveDragElastic, rebaseAxisConstraints, calcViewportConstraints, applyConstraints, calcConstrainedMinPoint, calcPositionFromProgress, defaultElastic } from './utils/constraints.js';\nimport { getBoundingBox } from '../../render/dom/projection/measure.js';\nimport { calcOrigin } from '../../utils/geometry/delta-calc.js';\nimport { startAnimation } from '../../animation/utils/transitions.js';\nimport { AnimationType } from '../../render/utils/types.js';\nimport { collectProjectingAncestors, updateLayoutMeasurement, collectProjectingChildren } from '../../render/dom/projection/utils.js';\nimport { progress } from 'popmotion';\nimport { convertToRelativeProjection } from '../../render/dom/projection/convert-to-relative.js';\nimport { calcRelativeOffset } from '../../motion/features/layout/utils.js';\nimport { flushLayout, batchLayout } from '../../render/dom/utils/batch-layout.js';\nimport { flushSync } from 'framesync';\n\nvar elementDragControls = new WeakMap();\n/**\n *\n */\nvar lastPointerEvent;\nvar VisualElementDragControls = /** @class */ (function () {\n    function VisualElementDragControls(_a) {\n        var visualElement = _a.visualElement;\n        /**\n         * Track whether we're currently dragging.\n         *\n         * @internal\n         */\n        this.isDragging = false;\n        /**\n         * The current direction of drag, or `null` if both.\n         *\n         * @internal\n         */\n        this.currentDirection = null;\n        /**\n         * The permitted boundaries of travel, in pixels.\n         *\n         * @internal\n         */\n        this.constraints = false;\n        /**\n         * The per-axis resolved elastic values.\n         *\n         * @internal\n         */\n        this.elastic = axisBox();\n        /**\n         * A reference to the host component's latest props.\n         *\n         * @internal\n         */\n        this.props = {};\n        /**\n         * @internal\n         */\n        this.hasMutatedConstraints = false;\n        /**\n         * Track the initial position of the cursor relative to the dragging element\n         * when dragging starts as a value of 0-1 on each axis. We then use this to calculate\n         * an ideal bounding box for the VisualElement renderer to project into every frame.\n         *\n         * @internal\n         */\n        this.cursorProgress = {\n            x: 0.5,\n            y: 0.5,\n        };\n        // When updating _dragX, or _dragY instead of the VisualElement,\n        // persist their values between drag gestures.\n        this.originPoint = {};\n        // This is a reference to the global drag gesture lock, ensuring only one component\n        // can \"capture\" the drag of one or both axes.\n        // TODO: Look into moving this into pansession?\n        this.openGlobalLock = null;\n        /**\n         * @internal\n         */\n        this.panSession = null;\n        this.visualElement = visualElement;\n        this.visualElement.enableLayoutProjection();\n        elementDragControls.set(visualElement, this);\n    }\n    /**\n     * Instantiate a PanSession for the drag gesture\n     *\n     * @public\n     */\n    VisualElementDragControls.prototype.start = function (originEvent, _a) {\n        var _this = this;\n        var _b = _a === void 0 ? {} : _a, _c = _b.snapToCursor, snapToCursor = _c === void 0 ? false : _c, cursorProgress = _b.cursorProgress;\n        var onSessionStart = function (event) {\n            var _a;\n            // Stop any animations on both axis values immediately. This allows the user to throw and catch\n            // the component.\n            _this.stopMotion();\n            /**\n             * Save the initial point. We'll use this to calculate the pointer's position rather\n             * than the one we receive when the gesture actually starts. By then, the pointer will\n             * have already moved, and the perception will be of the pointer \"slipping\" across the element\n             */\n            var initialPoint = getViewportPointFromEvent(event).point;\n            (_a = _this.cancelLayout) === null || _a === void 0 ? void 0 : _a.call(_this);\n            _this.cancelLayout = batchLayout(function (read, write) {\n                var ancestors = collectProjectingAncestors(_this.visualElement);\n                var children = collectProjectingChildren(_this.visualElement);\n                var tree = __spreadArray(__spreadArray([], __read(ancestors)), __read(children));\n                var hasManuallySetCursorOrigin = false;\n                /**\n                 * Apply a simple lock to the projection target. This ensures no animations\n                 * can run on the projection box while this lock is active.\n                 */\n                _this.isLayoutDrag() && _this.visualElement.lockProjectionTarget();\n                write(function () {\n                    tree.forEach(function (element) { return element.resetTransform(); });\n                });\n                read(function () {\n                    updateLayoutMeasurement(_this.visualElement);\n                    children.forEach(updateLayoutMeasurement);\n                });\n                write(function () {\n                    tree.forEach(function (element) { return element.restoreTransform(); });\n                    if (snapToCursor) {\n                        hasManuallySetCursorOrigin = _this.snapToCursor(initialPoint);\n                    }\n                });\n                read(function () {\n                    var isRelativeDrag = Boolean(_this.getAxisMotionValue(\"x\") && !_this.isExternalDrag());\n                    if (!isRelativeDrag) {\n                        _this.visualElement.rebaseProjectionTarget(true, _this.visualElement.measureViewportBox(false));\n                    }\n                    _this.visualElement.scheduleUpdateLayoutProjection();\n                    /**\n                     * When dragging starts, we want to find where the cursor is relative to the bounding box\n                     * of the element. Every frame, we calculate a new bounding box using this relative position\n                     * and let the visualElement renderer figure out how to reproject the element into this bounding\n                     * box.\n                     *\n                     * By doing it this way, rather than applying an x/y transform directly to the element,\n                     * we can ensure the component always visually sticks to the cursor as we'd expect, even\n                     * if the DOM element itself changes layout as a result of React updates the user might\n                     * make based on the drag position.\n                     */\n                    var projection = _this.visualElement.projection;\n                    eachAxis(function (axis) {\n                        if (!hasManuallySetCursorOrigin) {\n                            var _a = projection.target[axis], min = _a.min, max = _a.max;\n                            _this.cursorProgress[axis] = cursorProgress\n                                ? cursorProgress[axis]\n                                : progress(min, max, initialPoint[axis]);\n                        }\n                        /**\n                         * If we have external drag MotionValues, record their origin point. On pointermove\n                         * we'll apply the pan gesture offset directly to this value.\n                         */\n                        var axisValue = _this.getAxisMotionValue(axis);\n                        if (axisValue) {\n                            _this.originPoint[axis] = axisValue.get();\n                        }\n                    });\n                });\n                write(function () {\n                    flushSync.update();\n                    flushSync.preRender();\n                    flushSync.render();\n                    flushSync.postRender();\n                });\n                read(function () { return _this.resolveDragConstraints(); });\n            });\n        };\n        var onStart = function (event, info) {\n            var _a, _b, _c;\n            // Attempt to grab the global drag gesture lock - maybe make this part of PanSession\n            var _d = _this.props, drag = _d.drag, dragPropagation = _d.dragPropagation;\n            if (drag && !dragPropagation) {\n                if (_this.openGlobalLock)\n                    _this.openGlobalLock();\n                _this.openGlobalLock = getGlobalLock(drag);\n                // If we don 't have the lock, don't start dragging\n                if (!_this.openGlobalLock)\n                    return;\n            }\n            flushLayout();\n            // Set current drag status\n            _this.isDragging = true;\n            _this.currentDirection = null;\n            // Fire onDragStart event\n            (_b = (_a = _this.props).onDragStart) === null || _b === void 0 ? void 0 : _b.call(_a, event, info);\n            (_c = _this.visualElement.animationState) === null || _c === void 0 ? void 0 : _c.setActive(AnimationType.Drag, true);\n        };\n        var onMove = function (event, info) {\n            var _a, _b, _c, _d;\n            var _e = _this.props, dragPropagation = _e.dragPropagation, dragDirectionLock = _e.dragDirectionLock;\n            // If we didn't successfully receive the gesture lock, early return.\n            if (!dragPropagation && !_this.openGlobalLock)\n                return;\n            var offset = info.offset;\n            // Attempt to detect drag direction if directionLock is true\n            if (dragDirectionLock && _this.currentDirection === null) {\n                _this.currentDirection = getCurrentDirection(offset);\n                // If we've successfully set a direction, notify listener\n                if (_this.currentDirection !== null) {\n                    (_b = (_a = _this.props).onDirectionLock) === null || _b === void 0 ? void 0 : _b.call(_a, _this.currentDirection);\n                }\n                return;\n            }\n            // Update each point with the latest position\n            _this.updateAxis(\"x\", info.point, offset);\n            _this.updateAxis(\"y\", info.point, offset);\n            // Fire onDrag event\n            (_d = (_c = _this.props).onDrag) === null || _d === void 0 ? void 0 : _d.call(_c, event, info);\n            // Update the last pointer event\n            lastPointerEvent = event;\n        };\n        var onEnd = function (event, info) { return _this.stop(event, info); };\n        var transformPagePoint = this.props.transformPagePoint;\n        this.panSession = new PanSession(originEvent, {\n            onSessionStart: onSessionStart,\n            onStart: onStart,\n            onMove: onMove,\n            onEnd: onEnd,\n        }, { transformPagePoint: transformPagePoint });\n    };\n    VisualElementDragControls.prototype.resolveDragConstraints = function () {\n        var _this = this;\n        var _a = this.props, dragConstraints = _a.dragConstraints, dragElastic = _a.dragElastic;\n        var layout = this.visualElement.getLayoutState().layoutCorrected;\n        if (dragConstraints) {\n            this.constraints = isRefObject(dragConstraints)\n                ? this.resolveRefConstraints(layout, dragConstraints)\n                : calcRelativeConstraints(layout, dragConstraints);\n        }\n        else {\n            this.constraints = false;\n        }\n        this.elastic = resolveDragElastic(dragElastic);\n        /**\n         * If we're outputting to external MotionValues, we want to rebase the measured constraints\n         * from viewport-relative to component-relative.\n         */\n        if (this.constraints && !this.hasMutatedConstraints) {\n            eachAxis(function (axis) {\n                if (_this.getAxisMotionValue(axis)) {\n                    _this.constraints[axis] = rebaseAxisConstraints(layout[axis], _this.constraints[axis]);\n                }\n            });\n        }\n    };\n    VisualElementDragControls.prototype.resolveRefConstraints = function (layoutBox, constraints) {\n        var _a = this.props, onMeasureDragConstraints = _a.onMeasureDragConstraints, transformPagePoint = _a.transformPagePoint;\n        var constraintsElement = constraints.current;\n        invariant(constraintsElement !== null, \"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.\");\n        this.constraintsBox = getBoundingBox(constraintsElement, transformPagePoint);\n        var measuredConstraints = calcViewportConstraints(layoutBox, this.constraintsBox);\n        /**\n         * If there's an onMeasureDragConstraints listener we call it and\n         * if different constraints are returned, set constraints to that\n         */\n        if (onMeasureDragConstraints) {\n            var userConstraints = onMeasureDragConstraints(convertAxisBoxToBoundingBox(measuredConstraints));\n            this.hasMutatedConstraints = !!userConstraints;\n            if (userConstraints) {\n                measuredConstraints = convertBoundingBoxToAxisBox(userConstraints);\n            }\n        }\n        return measuredConstraints;\n    };\n    VisualElementDragControls.prototype.cancelDrag = function () {\n        var _a, _b;\n        (_a = this.cancelLayout) === null || _a === void 0 ? void 0 : _a.call(this);\n        this.isDragging = false;\n        this.panSession && this.panSession.end();\n        this.panSession = null;\n        if (!this.props.dragPropagation && this.openGlobalLock) {\n            this.openGlobalLock();\n            this.openGlobalLock = null;\n        }\n        (_b = this.visualElement.animationState) === null || _b === void 0 ? void 0 : _b.setActive(AnimationType.Drag, false);\n    };\n    VisualElementDragControls.prototype.stop = function (event, info) {\n        var _a, _b, _c;\n        this.visualElement.unlockProjectionTarget();\n        (_a = this.panSession) === null || _a === void 0 ? void 0 : _a.end();\n        this.panSession = null;\n        var isDragging = this.isDragging;\n        this.cancelDrag();\n        if (!isDragging)\n            return;\n        var velocity = info.velocity;\n        this.animateDragEnd(velocity);\n        (_c = (_b = this.props).onDragEnd) === null || _c === void 0 ? void 0 : _c.call(_b, event, info);\n    };\n    VisualElementDragControls.prototype.snapToCursor = function (point) {\n        var _this = this;\n        return eachAxis(function (axis) {\n            var drag = _this.props.drag;\n            // If we're not dragging this axis, do an early return.\n            if (!shouldDrag(axis, drag, _this.currentDirection))\n                return;\n            var axisValue = _this.getAxisMotionValue(axis);\n            if (axisValue) {\n                var box = _this.visualElement.getLayoutState().layout;\n                var length_1 = box[axis].max - box[axis].min;\n                var center = box[axis].min + length_1 / 2;\n                var offset = point[axis] - center;\n                _this.originPoint[axis] = point[axis];\n                axisValue.set(offset);\n            }\n            else {\n                _this.cursorProgress[axis] = 0.5;\n                return true;\n            }\n        }).includes(true);\n    };\n    /**\n     * Update the specified axis with the latest pointer information.\n     */\n    VisualElementDragControls.prototype.updateAxis = function (axis, point, offset) {\n        var drag = this.props.drag;\n        // If we're not dragging this axis, do an early return.\n        if (!shouldDrag(axis, drag, this.currentDirection))\n            return;\n        return this.getAxisMotionValue(axis)\n            ? this.updateAxisMotionValue(axis, offset)\n            : this.updateVisualElementAxis(axis, point);\n    };\n    VisualElementDragControls.prototype.updateAxisMotionValue = function (axis, offset) {\n        var axisValue = this.getAxisMotionValue(axis);\n        if (!offset || !axisValue)\n            return;\n        var nextValue = this.originPoint[axis] + offset[axis];\n        var update = this.constraints\n            ? applyConstraints(nextValue, this.constraints[axis], this.elastic[axis])\n            : nextValue;\n        axisValue.set(update);\n    };\n    VisualElementDragControls.prototype.updateVisualElementAxis = function (axis, point) {\n        var _a;\n        // Get the actual layout bounding box of the element\n        var axisLayout = this.visualElement.getLayoutState().layout[axis];\n        // Calculate its current length. In the future we might want to lerp this to animate\n        // between lengths if the layout changes as we change the DOM\n        var axisLength = axisLayout.max - axisLayout.min;\n        // Get the initial progress that the pointer sat on this axis on gesture start.\n        var axisProgress = this.cursorProgress[axis];\n        // Calculate a new min point based on the latest pointer position, constraints and elastic\n        var min = calcConstrainedMinPoint(point[axis], axisLength, axisProgress, (_a = this.constraints) === null || _a === void 0 ? void 0 : _a[axis], this.elastic[axis]);\n        // Update the axis viewport target with this new min and the length\n        this.visualElement.setProjectionTargetAxis(axis, min, min + axisLength);\n    };\n    VisualElementDragControls.prototype.setProps = function (_a) {\n        var _b = _a.drag, drag = _b === void 0 ? false : _b, _c = _a.dragDirectionLock, dragDirectionLock = _c === void 0 ? false : _c, _d = _a.dragPropagation, dragPropagation = _d === void 0 ? false : _d, _e = _a.dragConstraints, dragConstraints = _e === void 0 ? false : _e, _f = _a.dragElastic, dragElastic = _f === void 0 ? defaultElastic : _f, _g = _a.dragMomentum, dragMomentum = _g === void 0 ? true : _g, remainingProps = __rest(_a, [\"drag\", \"dragDirectionLock\", \"dragPropagation\", \"dragConstraints\", \"dragElastic\", \"dragMomentum\"]);\n        this.props = __assign({ drag: drag,\n            dragDirectionLock: dragDirectionLock,\n            dragPropagation: dragPropagation,\n            dragConstraints: dragConstraints,\n            dragElastic: dragElastic,\n            dragMomentum: dragMomentum }, remainingProps);\n    };\n    /**\n     * Drag works differently depending on which props are provided.\n     *\n     * - If _dragX and _dragY are provided, we output the gesture delta directly to those motion values.\n     * - If the component will perform layout animations, we output the gesture to the component's\n     *      visual bounding box\n     * - Otherwise, we apply the delta to the x/y motion values.\n     */\n    VisualElementDragControls.prototype.getAxisMotionValue = function (axis) {\n        var _a = this.props, layout = _a.layout, layoutId = _a.layoutId;\n        var dragKey = \"_drag\" + axis.toUpperCase();\n        if (this.props[dragKey]) {\n            return this.props[dragKey];\n        }\n        else if (!layout && layoutId === undefined) {\n            return this.visualElement.getValue(axis, 0);\n        }\n    };\n    VisualElementDragControls.prototype.isLayoutDrag = function () {\n        return !this.getAxisMotionValue(\"x\");\n    };\n    VisualElementDragControls.prototype.isExternalDrag = function () {\n        var _a = this.props, _dragX = _a._dragX, _dragY = _a._dragY;\n        return _dragX || _dragY;\n    };\n    VisualElementDragControls.prototype.animateDragEnd = function (velocity) {\n        var _this = this;\n        var _a = this.props, drag = _a.drag, dragMomentum = _a.dragMomentum, dragElastic = _a.dragElastic, dragTransition = _a.dragTransition;\n        /**\n         * Everything beyond the drag gesture should be performed with\n         * relative projection so children stay in sync with their parent element.\n         */\n        var isRelative = convertToRelativeProjection(this.visualElement, this.isLayoutDrag() && !this.isExternalDrag());\n        /**\n         * If we had previously resolved constraints relative to the viewport,\n         * we need to also convert those to a relative coordinate space for the animation\n         */\n        var constraints = this.constraints || {};\n        if (isRelative &&\n            Object.keys(constraints).length &&\n            this.isLayoutDrag()) {\n            var projectionParent = this.visualElement.getProjectionParent();\n            if (projectionParent) {\n                var relativeConstraints_1 = calcRelativeOffset(projectionParent.projection.targetFinal, constraints);\n                eachAxis(function (axis) {\n                    var _a = relativeConstraints_1[axis], min = _a.min, max = _a.max;\n                    constraints[axis] = {\n                        min: isNaN(min) ? undefined : min,\n                        max: isNaN(max) ? undefined : max,\n                    };\n                });\n            }\n        }\n        var momentumAnimations = eachAxis(function (axis) {\n            var _a;\n            if (!shouldDrag(axis, drag, _this.currentDirection)) {\n                return;\n            }\n            var transition = (_a = constraints === null || constraints === void 0 ? void 0 : constraints[axis]) !== null && _a !== void 0 ? _a : {};\n            /**\n             * Overdamp the boundary spring if `dragElastic` is disabled. There's still a frame\n             * of spring animations so we should look into adding a disable spring option to `inertia`.\n             * We could do something here where we affect the `bounceStiffness` and `bounceDamping`\n             * using the value of `dragElastic`.\n             */\n            var bounceStiffness = dragElastic ? 200 : 1000000;\n            var bounceDamping = dragElastic ? 40 : 10000000;\n            var inertia = __assign(__assign({ type: \"inertia\", velocity: dragMomentum ? velocity[axis] : 0, bounceStiffness: bounceStiffness,\n                bounceDamping: bounceDamping, timeConstant: 750, restDelta: 1, restSpeed: 10 }, dragTransition), transition);\n            // If we're not animating on an externally-provided `MotionValue` we can use the\n            // component's animation controls which will handle interactions with whileHover (etc),\n            // otherwise we just have to animate the `MotionValue` itself.\n            return _this.getAxisMotionValue(axis)\n                ? _this.startAxisValueAnimation(axis, inertia)\n                : _this.visualElement.startLayoutAnimation(axis, inertia, isRelative);\n        });\n        // Run all animations and then resolve the new drag constraints.\n        return Promise.all(momentumAnimations).then(function () {\n            var _a, _b;\n            (_b = (_a = _this.props).onDragTransitionEnd) === null || _b === void 0 ? void 0 : _b.call(_a);\n        });\n    };\n    VisualElementDragControls.prototype.stopMotion = function () {\n        var _this = this;\n        eachAxis(function (axis) {\n            var axisValue = _this.getAxisMotionValue(axis);\n            axisValue\n                ? axisValue.stop()\n                : _this.visualElement.stopLayoutAnimation();\n        });\n    };\n    VisualElementDragControls.prototype.startAxisValueAnimation = function (axis, transition) {\n        var axisValue = this.getAxisMotionValue(axis);\n        if (!axisValue)\n            return;\n        var currentValue = axisValue.get();\n        axisValue.set(currentValue);\n        axisValue.set(currentValue); // Set twice to hard-reset velocity\n        return startAnimation(axis, axisValue, 0, transition);\n    };\n    VisualElementDragControls.prototype.scalePoint = function () {\n        var _this = this;\n        var _a = this.props, drag = _a.drag, dragConstraints = _a.dragConstraints;\n        if (!isRefObject(dragConstraints) || !this.constraintsBox)\n            return;\n        // Stop any current animations as there can be some visual glitching if we resize mid animation\n        this.stopMotion();\n        // Record the relative progress of the targetBox relative to the constraintsBox\n        var boxProgress = { x: 0, y: 0 };\n        eachAxis(function (axis) {\n            boxProgress[axis] = calcOrigin(_this.visualElement.projection.target[axis], _this.constraintsBox[axis]);\n        });\n        /**\n         * For each axis, calculate the current progress of the layout axis within the constraints.\n         * Then, using the latest layout and constraints measurements, reposition the new layout axis\n         * proportionally within the constraints.\n         */\n        this.updateConstraints(function () {\n            eachAxis(function (axis) {\n                if (!shouldDrag(axis, drag, null))\n                    return;\n                // Calculate the position of the targetBox relative to the constraintsBox using the\n                // previously calculated progress\n                var _a = calcPositionFromProgress(_this.visualElement.projection.target[axis], _this.constraintsBox[axis], boxProgress[axis]), min = _a.min, max = _a.max;\n                _this.visualElement.setProjectionTargetAxis(axis, min, max);\n            });\n        });\n        /**\n         * If any other draggable components are queuing the same tasks synchronously\n         * this will wait until they've all been scheduled before flushing.\n         */\n        setTimeout(flushLayout, 1);\n    };\n    VisualElementDragControls.prototype.updateConstraints = function (onReady) {\n        var _this = this;\n        this.cancelLayout = batchLayout(function (read, write) {\n            var ancestors = collectProjectingAncestors(_this.visualElement);\n            write(function () {\n                return ancestors.forEach(function (element) { return element.resetTransform(); });\n            });\n            read(function () { return updateLayoutMeasurement(_this.visualElement); });\n            write(function () {\n                return ancestors.forEach(function (element) { return element.restoreTransform(); });\n            });\n            read(function () {\n                _this.resolveDragConstraints();\n            });\n            if (onReady)\n                write(onReady);\n        });\n    };\n    VisualElementDragControls.prototype.mount = function (visualElement) {\n        var _this = this;\n        var element = visualElement.getInstance();\n        /**\n         * Attach a pointerdown event listener on this DOM element to initiate drag tracking.\n         */\n        var stopPointerListener = addPointerEvent(element, \"pointerdown\", function (event) {\n            var _a = _this.props, drag = _a.drag, _b = _a.dragListener, dragListener = _b === void 0 ? true : _b;\n            drag && dragListener && _this.start(event);\n        });\n        /**\n         * Attach a window resize listener to scale the draggable target within its defined\n         * constraints as the window resizes.\n         */\n        var stopResizeListener = addDomEvent(window, \"resize\", function () {\n            _this.scalePoint();\n        });\n        /**\n         * Ensure drag constraints are resolved correctly relative to the dragging element\n         * whenever its layout changes.\n         */\n        var stopLayoutUpdateListener = visualElement.onLayoutUpdate(function () {\n            if (_this.isDragging) {\n                _this.resolveDragConstraints();\n            }\n        });\n        /**\n         * If the previous component with this same layoutId was dragging at the time\n         * it was unmounted, we want to continue the same gesture on this component.\n         */\n        var prevDragCursor = visualElement.prevDragCursor;\n        if (prevDragCursor) {\n            this.start(lastPointerEvent, { cursorProgress: prevDragCursor });\n        }\n        /**\n         * Return a function that will teardown the drag gesture\n         */\n        return function () {\n            stopPointerListener === null || stopPointerListener === void 0 ? void 0 : stopPointerListener();\n            stopResizeListener === null || stopResizeListener === void 0 ? void 0 : stopResizeListener();\n            stopLayoutUpdateListener === null || stopLayoutUpdateListener === void 0 ? void 0 : stopLayoutUpdateListener();\n            _this.cancelDrag();\n        };\n    };\n    return VisualElementDragControls;\n}());\nfunction shouldDrag(direction, drag, currentDirection) {\n    return ((drag === true || drag === direction) &&\n        (currentDirection === null || currentDirection === direction));\n}\n/**\n * Based on an x/y offset determine the current drag direction. If both axis' offsets are lower\n * than the provided threshold, return `null`.\n *\n * @param offset - The x/y offset from origin.\n * @param lockThreshold - (Optional) - the minimum absolute offset before we can determine a drag direction.\n */\nfunction getCurrentDirection(offset, lockThreshold) {\n    if (lockThreshold === void 0) { lockThreshold = 10; }\n    var direction = null;\n    if (Math.abs(offset.y) > lockThreshold) {\n        direction = \"y\";\n    }\n    else if (Math.abs(offset.x) > lockThreshold) {\n        direction = \"x\";\n    }\n    return direction;\n}\n\nexport { VisualElementDragControls, elementDragControls };\n","import { calcRelativeOffset } from '../../../motion/features/layout/utils.js';\nimport { eachAxis } from '../../../utils/each-axis.js';\nimport { removeBoxTransforms } from '../../../utils/geometry/delta-apply.js';\n\n/**\n * Returns a boolean stating whether or not we converted the projection\n * to relative projection.\n */\nfunction convertToRelativeProjection(visualElement, isLayoutDrag) {\n    if (isLayoutDrag === void 0) { isLayoutDrag = true; }\n    var projectionParent = visualElement.getProjectionParent();\n    if (!projectionParent)\n        return false;\n    var offset;\n    if (isLayoutDrag) {\n        offset = calcRelativeOffset(projectionParent.projection.target, visualElement.projection.target);\n        removeBoxTransforms(offset, projectionParent.getLatestValues());\n    }\n    else {\n        offset = calcRelativeOffset(projectionParent.getLayoutState().layout, visualElement.getLayoutState().layout);\n    }\n    eachAxis(function (axis) {\n        return visualElement.setProjectionTargetAxis(axis, offset[axis].min, offset[axis].max, true);\n    });\n    return true;\n}\n\nexport { convertToRelativeProjection };\n","import { useDrag } from '../../gestures/drag/use-drag.js';\nimport { usePanGesture } from '../../gestures/use-pan-gesture.js';\nimport { makeRenderlessComponent } from '../utils/make-renderless-component.js';\n\nvar drag = {\n    pan: makeRenderlessComponent(usePanGesture),\n    drag: makeRenderlessComponent(useDrag),\n};\n\nexport { drag };\n","import { useRef, useContext, useEffect } from 'react';\nimport { MotionConfigContext } from '../context/MotionConfigContext.js';\nimport { useUnmountEffect } from '../utils/use-unmount-effect.js';\nimport { usePointerEvent } from '../events/use-pointer-event.js';\nimport { PanSession } from './PanSession.js';\n\n/**\n *\n * @param handlers -\n * @param ref -\n *\n * @internalremarks\n * Currently this sets new pan gesture functions every render. The memo route has been explored\n * in the past but ultimately we're still creating new functions every render. An optimisation\n * to explore is creating the pan gestures and loading them into a `ref`.\n *\n * @internal\n */\nfunction usePanGesture(_a) {\n    var onPan = _a.onPan, onPanStart = _a.onPanStart, onPanEnd = _a.onPanEnd, onPanSessionStart = _a.onPanSessionStart, visualElement = _a.visualElement;\n    var hasPanEvents = onPan || onPanStart || onPanEnd || onPanSessionStart;\n    var panSession = useRef(null);\n    var transformPagePoint = useContext(MotionConfigContext).transformPagePoint;\n    var handlers = {\n        onSessionStart: onPanSessionStart,\n        onStart: onPanStart,\n        onMove: onPan,\n        onEnd: function (event, info) {\n            panSession.current = null;\n            onPanEnd && onPanEnd(event, info);\n        },\n    };\n    useEffect(function () {\n        if (panSession.current !== null) {\n            panSession.current.updateHandlers(handlers);\n        }\n    });\n    function onPointerDown(event) {\n        panSession.current = new PanSession(event, handlers, {\n            transformPagePoint: transformPagePoint,\n        });\n    }\n    usePointerEvent(visualElement, \"pointerdown\", hasPanEvents && onPointerDown);\n    useUnmountEffect(function () { return panSession.current && panSession.current.end(); });\n}\n\nexport { usePanGesture };\n","import { __assign } from 'tslib';\nimport { useContext, useEffect } from 'react';\nimport { MotionConfigContext } from '../../context/MotionConfigContext.js';\nimport { VisualElementDragControls } from './VisualElementDragControls.js';\nimport { useConstant } from '../../utils/use-constant.js';\n\n/**\n * A hook that allows an element to be dragged.\n *\n * @internal\n */\nfunction useDrag(props) {\n    var groupDragControls = props.dragControls, visualElement = props.visualElement;\n    var transformPagePoint = useContext(MotionConfigContext).transformPagePoint;\n    var dragControls = useConstant(function () {\n        return new VisualElementDragControls({\n            visualElement: visualElement,\n        });\n    });\n    dragControls.setProps(__assign(__assign({}, props), { transformPagePoint: transformPagePoint }));\n    // If we've been provided a DragControls for manual control over the drag gesture,\n    // subscribe this component to it on mount.\n    useEffect(function () { return groupDragControls && groupDragControls.subscribe(dragControls); }, [dragControls]);\n    // Mount the drag controls with the visualElement\n    useEffect(function () { return dragControls.mount(visualElement); }, []);\n}\n\nexport { useDrag };\n","import { __assign } from 'tslib';\nimport { complex, px } from 'style-value-types';\nimport { mix } from 'popmotion';\nimport { cssVariableRegex } from '../utils/css-variables-conversion.js';\n\nfunction pixelsToPercent(pixels, axis) {\n    return (pixels / (axis.max - axis.min)) * 100;\n}\n/**\n * We always correct borderRadius as a percentage rather than pixels to reduce paints.\n * For example, if you are projecting a box that is 100px wide with a 10px borderRadius\n * into a box that is 200px wide with a 20px borderRadius, that is actually a 10%\n * borderRadius in both states. If we animate between the two in pixels that will trigger\n * a paint each time. If we animate between the two in percentage we'll avoid a paint.\n */\nfunction correctBorderRadius(latest, _layoutState, _a) {\n    var target = _a.target;\n    /**\n     * If latest is a string, if it's a percentage we can return immediately as it's\n     * going to be stretched appropriately. Otherwise, if it's a pixel, convert it to a number.\n     */\n    if (typeof latest === \"string\") {\n        if (px.test(latest)) {\n            latest = parseFloat(latest);\n        }\n        else {\n            return latest;\n        }\n    }\n    /**\n     * If latest is a number, it's a pixel value. We use the current viewportBox to calculate that\n     * pixel value as a percentage of each axis\n     */\n    var x = pixelsToPercent(latest, target.x);\n    var y = pixelsToPercent(latest, target.y);\n    return x + \"% \" + y + \"%\";\n}\nvar varToken = \"_$css\";\nfunction correctBoxShadow(latest, _a) {\n    var delta = _a.delta, treeScale = _a.treeScale;\n    var original = latest;\n    /**\n     * We need to first strip and store CSS variables from the string.\n     */\n    var containsCSSVariables = latest.includes(\"var(\");\n    var cssVariables = [];\n    if (containsCSSVariables) {\n        latest = latest.replace(cssVariableRegex, function (match) {\n            cssVariables.push(match);\n            return varToken;\n        });\n    }\n    var shadow = complex.parse(latest);\n    // TODO: Doesn't support multiple shadows\n    if (shadow.length > 5)\n        return original;\n    var template = complex.createTransformer(latest);\n    var offset = typeof shadow[0] !== \"number\" ? 1 : 0;\n    // Calculate the overall context scale\n    var xScale = delta.x.scale * treeScale.x;\n    var yScale = delta.y.scale * treeScale.y;\n    shadow[0 + offset] /= xScale;\n    shadow[1 + offset] /= yScale;\n    /**\n     * Ideally we'd correct x and y scales individually, but because blur and\n     * spread apply to both we have to take a scale average and apply that instead.\n     * We could potentially improve the outcome of this by incorporating the ratio between\n     * the two scales.\n     */\n    var averageScale = mix(xScale, yScale, 0.5);\n    // Blur\n    if (typeof shadow[2 + offset] === \"number\")\n        shadow[2 + offset] /= averageScale;\n    // Spread\n    if (typeof shadow[3 + offset] === \"number\")\n        shadow[3 + offset] /= averageScale;\n    var output = template(shadow);\n    if (containsCSSVariables) {\n        var i_1 = 0;\n        output = output.replace(varToken, function () {\n            var cssVariable = cssVariables[i_1];\n            i_1++;\n            return cssVariable;\n        });\n    }\n    return output;\n}\nvar borderCorrectionDefinition = {\n    process: correctBorderRadius,\n};\nvar defaultScaleCorrectors = {\n    borderRadius: __assign(__assign({}, borderCorrectionDefinition), { applyTo: [\n            \"borderTopLeftRadius\",\n            \"borderTopRightRadius\",\n            \"borderBottomLeftRadius\",\n            \"borderBottomRightRadius\",\n        ] }),\n    borderTopLeftRadius: borderCorrectionDefinition,\n    borderTopRightRadius: borderCorrectionDefinition,\n    borderBottomLeftRadius: borderCorrectionDefinition,\n    borderBottomRightRadius: borderCorrectionDefinition,\n    boxShadow: {\n        process: correctBoxShadow,\n    },\n};\n\nexport { correctBorderRadius, correctBoxShadow, defaultScaleCorrectors, pixelsToPercent };\n","import { __extends, __rest, __assign, __read } from 'tslib';\nimport * as React from 'react';\nimport { eachAxis } from '../../../utils/each-axis.js';\nimport { startAnimation, getValueTransition } from '../../../animation/utils/transitions.js';\nimport { checkIfParentHasChanged, calcRelativeOffset, tweenAxis } from './utils.js';\nimport { VisibilityAction } from '../../../components/AnimateSharedLayout/types.js';\nimport { usePresence } from '../../../components/AnimatePresence/use-presence.js';\nimport { axisBox } from '../../../utils/geometry/index.js';\nimport { addScaleCorrection } from '../../../render/dom/projection/scale-correction.js';\nimport { defaultScaleCorrectors } from '../../../render/dom/projection/default-scale-correctors.js';\n\nvar progressTarget = 1000;\nvar Animate = /** @class */ (function (_super) {\n    __extends(Animate, _super);\n    function Animate() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /**\n         * A mutable object that tracks the target viewport box\n         * for the current animation frame.\n         */\n        _this.frameTarget = axisBox();\n        /**\n         * The current animation target, we use this to check whether to start\n         * a new animation or continue the existing one.\n         */\n        _this.currentAnimationTarget = axisBox();\n        /**\n         * Track whether we're animating this axis.\n         */\n        _this.isAnimating = {\n            x: false,\n            y: false,\n        };\n        _this.stopAxisAnimation = {\n            x: undefined,\n            y: undefined,\n        };\n        _this.isAnimatingTree = false;\n        _this.animate = function (target, origin, _a) {\n            if (_a === void 0) { _a = {}; }\n            var originBox = _a.originBox, targetBox = _a.targetBox, visibilityAction = _a.visibilityAction, shouldStackAnimate = _a.shouldStackAnimate, onComplete = _a.onComplete, prevParent = _a.prevParent, config = __rest(_a, [\"originBox\", \"targetBox\", \"visibilityAction\", \"shouldStackAnimate\", \"onComplete\", \"prevParent\"]);\n            var _b = _this.props, visualElement = _b.visualElement, layout = _b.layout;\n            /**\n             * Early return if we've been instructed not to animate this render.\n             */\n            if (shouldStackAnimate === false) {\n                _this.isAnimatingTree = false;\n                return _this.safeToRemove();\n            }\n            /**\n             * Prioritise tree animations\n             */\n            if (_this.isAnimatingTree && shouldStackAnimate !== true) {\n                return;\n            }\n            else if (shouldStackAnimate) {\n                _this.isAnimatingTree = true;\n            }\n            /**\n             * Allow the measured origin (prev bounding box) and target (actual layout) to be\n             * overridden by the provided config.\n             */\n            origin = originBox || origin;\n            target = targetBox || target;\n            /**\n             * If this element has a projecting parent, there's an opportunity to animate\n             * it relatively to that parent rather than relatively to the viewport. This\n             * allows us to add orchestrated animations.\n             */\n            var isRelative = false;\n            var projectionParent = visualElement.getProjectionParent();\n            if (projectionParent) {\n                var prevParentViewportBox = projectionParent.prevViewportBox;\n                var parentLayout = projectionParent.getLayoutState().layout;\n                /**\n                 * If we're being provided a previous parent VisualElement by AnimateSharedLayout\n                 */\n                if (prevParent) {\n                    /**\n                     * If we've been provided an explicit target box it means we're animating back\n                     * to this previous parent. So we can make a relative box by comparing to the previous\n                     * parent's layout\n                     */\n                    if (targetBox) {\n                        parentLayout = prevParent.getLayoutState().layout;\n                    }\n                    /**\n                     * Likewise if we've been provided an explicit origin box it means we're\n                     * animating out from a different element. So we should figure out where that was\n                     * on screen relative to the new parent element.\n                     */\n                    if (originBox &&\n                        !checkIfParentHasChanged(prevParent, projectionParent) &&\n                        prevParent.prevViewportBox) {\n                        prevParentViewportBox = prevParent.prevViewportBox;\n                    }\n                }\n                if (prevParentViewportBox &&\n                    isProvidedCorrectDataForRelativeSharedLayout(prevParent, originBox, targetBox)) {\n                    isRelative = true;\n                    origin = calcRelativeOffset(prevParentViewportBox, origin);\n                    target = calcRelativeOffset(parentLayout, target);\n                }\n            }\n            var boxHasMoved = hasMoved(origin, target);\n            var animations = eachAxis(function (axis) {\n                var _a, _b;\n                /**\n                 * If layout is set to \"position\", we can resize the origin box based on the target\n                 * box and only animate its position.\n                 */\n                if (layout === \"position\") {\n                    var targetLength = target[axis].max - target[axis].min;\n                    origin[axis].max = origin[axis].min + targetLength;\n                }\n                if (visualElement.projection.isTargetLocked) {\n                    return;\n                }\n                else if (visibilityAction !== undefined) {\n                    visualElement.setVisibility(visibilityAction === VisibilityAction.Show);\n                }\n                else if (boxHasMoved) {\n                    // If the box has moved, animate between it's current visual state and its\n                    // final state\n                    return _this.animateAxis(axis, target[axis], origin[axis], __assign(__assign({}, config), { isRelative: isRelative }));\n                }\n                else {\n                    (_b = (_a = _this.stopAxisAnimation)[axis]) === null || _b === void 0 ? void 0 : _b.call(_a);\n                    // If the box has remained in the same place, immediately set the axis target\n                    // to the final desired state\n                    return visualElement.setProjectionTargetAxis(axis, target[axis].min, target[axis].max, isRelative);\n                }\n            });\n            // Force a render to ensure there's no flash of uncorrected bounding box.\n            visualElement.syncRender();\n            /**\n             * If this visualElement isn't present (ie it's been removed from the tree by the user but\n             * kept in by the tree by AnimatePresence) then call safeToRemove when all axis animations\n             * have successfully finished.\n             */\n            return Promise.all(animations).then(function () {\n                _this.isAnimatingTree = false;\n                onComplete && onComplete();\n                visualElement.notifyLayoutAnimationComplete();\n            });\n        };\n        return _this;\n    }\n    Animate.prototype.componentDidMount = function () {\n        var _this = this;\n        var visualElement = this.props.visualElement;\n        visualElement.animateMotionValue = startAnimation;\n        visualElement.enableLayoutProjection();\n        this.unsubLayoutReady = visualElement.onLayoutUpdate(this.animate);\n        visualElement.layoutSafeToRemove = function () { return _this.safeToRemove(); };\n        addScaleCorrection(defaultScaleCorrectors);\n    };\n    Animate.prototype.componentWillUnmount = function () {\n        var _this = this;\n        this.unsubLayoutReady();\n        eachAxis(function (axis) { var _a, _b; return (_b = (_a = _this.stopAxisAnimation)[axis]) === null || _b === void 0 ? void 0 : _b.call(_a); });\n    };\n    /**\n     * TODO: This manually performs animations on the visualElement's layout progress\n     * values. It'd be preferable to amend the startLayoutAxisAnimation\n     * API to accept more custom animations like this.\n     */\n    Animate.prototype.animateAxis = function (axis, target, origin, _a) {\n        var _this = this;\n        var _b, _c;\n        var _d = _a === void 0 ? {} : _a, transition = _d.transition, isRelative = _d.isRelative;\n        /**\n         * If we're not animating to a new target, don't run this animation\n         */\n        if (this.isAnimating[axis] &&\n            axisIsEqual(target, this.currentAnimationTarget[axis])) {\n            return;\n        }\n        (_c = (_b = this.stopAxisAnimation)[axis]) === null || _c === void 0 ? void 0 : _c.call(_b);\n        this.isAnimating[axis] = true;\n        var visualElement = this.props.visualElement;\n        var frameTarget = this.frameTarget[axis];\n        var layoutProgress = visualElement.getProjectionAnimationProgress()[axis];\n        /**\n         * Set layout progress back to 0. We set it twice to hard-reset any velocity that might\n         * be re-incoporated into a subsequent spring animation.\n         */\n        layoutProgress.clearListeners();\n        layoutProgress.set(0);\n        layoutProgress.set(0);\n        /**\n         * Create an animation function to run once per frame. This will tween the visual bounding box from\n         * origin to target using the latest progress value.\n         */\n        var frame = function () {\n            // Convert the latest layoutProgress, which is a value from 0-1000, into a 0-1 progress\n            var p = layoutProgress.get() / progressTarget;\n            // Tween the axis and update the visualElement with the latest values\n            tweenAxis(frameTarget, origin, target, p);\n            visualElement.setProjectionTargetAxis(axis, frameTarget.min, frameTarget.max, isRelative);\n        };\n        // Synchronously run a frame to ensure there's no flash of the uncorrected bounding box.\n        frame();\n        // Create a function to stop animation on this specific axis\n        var unsubscribeProgress = layoutProgress.onChange(frame);\n        this.stopAxisAnimation[axis] = function () {\n            _this.isAnimating[axis] = false;\n            layoutProgress.stop();\n            unsubscribeProgress();\n        };\n        this.currentAnimationTarget[axis] = target;\n        var layoutTransition = transition ||\n            visualElement.getDefaultTransition() ||\n            defaultLayoutTransition;\n        // Start the animation on this axis\n        var animation = startAnimation(axis === \"x\" ? \"layoutX\" : \"layoutY\", layoutProgress, progressTarget, layoutTransition && getValueTransition(layoutTransition, \"layout\")).then(this.stopAxisAnimation[axis]);\n        return animation;\n    };\n    Animate.prototype.safeToRemove = function () {\n        var _a, _b;\n        (_b = (_a = this.props).safeToRemove) === null || _b === void 0 ? void 0 : _b.call(_a);\n    };\n    Animate.prototype.render = function () {\n        return null;\n    };\n    return Animate;\n}(React.Component));\nfunction AnimateLayoutContextProvider(props) {\n    var _a = __read(usePresence(), 2), safeToRemove = _a[1];\n    return React.createElement(Animate, __assign({}, props, { safeToRemove: safeToRemove }));\n}\nfunction hasMoved(a, b) {\n    return (!isZeroBox(a) &&\n        !isZeroBox(b) &&\n        (!axisIsEqual(a.x, b.x) || !axisIsEqual(a.y, b.y)));\n}\nvar zeroAxis = { min: 0, max: 0 };\nfunction isZeroBox(a) {\n    return axisIsEqual(a.x, zeroAxis) && axisIsEqual(a.y, zeroAxis);\n}\nfunction axisIsEqual(a, b) {\n    return a.min === b.min && a.max === b.max;\n}\nvar defaultLayoutTransition = {\n    duration: 0.45,\n    ease: [0.4, 0, 0.1, 1],\n};\nfunction isProvidedCorrectDataForRelativeSharedLayout(prevParent, originBox, targetBox) {\n    return prevParent || (!prevParent && !(originBox || targetBox));\n}\n\nexport { AnimateLayoutContextProvider };\n","import { __spreadArray, __read } from 'tslib';\nimport sync, { flushSync } from 'framesync';\nimport { collectProjectingAncestors, updateLayoutMeasurement } from '../../../render/dom/projection/utils.js';\nimport { batchLayout, flushLayout } from '../../../render/dom/utils/batch-layout.js';\nimport { compareByDepth } from '../../../render/utils/compare-by-depth.js';\nimport { Presence } from '../types.js';\n\n/**\n * Default handlers for batching VisualElements\n */\nvar defaultHandler = {\n    layoutReady: function (child) { return child.notifyLayoutReady(); },\n};\n/**\n * Create a batcher to process VisualElements\n */\nfunction createBatcher() {\n    var queue = new Set();\n    return {\n        add: function (child) { return queue.add(child); },\n        flush: function (_a) {\n            var _b = _a === void 0 ? defaultHandler : _a, layoutReady = _b.layoutReady, parent = _b.parent;\n            batchLayout(function (read, write) {\n                var order = Array.from(queue).sort(compareByDepth);\n                var ancestors = parent\n                    ? collectProjectingAncestors(parent)\n                    : [];\n                write(function () {\n                    var allElements = __spreadArray(__spreadArray([], __read(ancestors)), __read(order));\n                    allElements.forEach(function (element) { return element.resetTransform(); });\n                });\n                read(function () {\n                    order.forEach(updateLayoutMeasurement);\n                });\n                write(function () {\n                    ancestors.forEach(function (element) { return element.restoreTransform(); });\n                    order.forEach(layoutReady);\n                });\n                read(function () {\n                    /**\n                     * After all children have started animating, ensure any Entering components are set to Present.\n                     * If we add deferred animations (set up all animations and then start them in two loops) this\n                     * could be moved to the start loop. But it needs to happen after all the animations configs\n                     * are generated in AnimateSharedLayout as this relies on presence data\n                     */\n                    order.forEach(function (child) {\n                        if (child.isPresent)\n                            child.presence = Presence.Present;\n                    });\n                });\n                write(function () {\n                    /**\n                     * Starting these animations will have queued jobs on the frame loop. In some situations,\n                     * like when removing an element, these will be processed too late after the DOM is manipulated,\n                     * leaving a flash of incorrectly-projected content. By manually flushing these jobs\n                     * we ensure there's no flash.\n                     */\n                    flushSync.preRender();\n                    flushSync.render();\n                });\n                read(function () {\n                    /**\n                     * Schedule a callback at the end of the following frame to assign the latest projection\n                     * box to the prevViewportBox snapshot. Once global batching is in place this could be run\n                     * synchronously. But for now it ensures that if any nested `AnimateSharedLayout` top-level\n                     * child attempts to calculate its previous relative position against a prevViewportBox\n                     * it will be against its latest projection box instead, as the snapshot is useless beyond this\n                     * render.\n                     */\n                    sync.postRender(function () {\n                        return order.forEach(assignProjectionToSnapshot);\n                    });\n                    queue.clear();\n                });\n            });\n            // TODO: Need to find a layout-synchronous way of flushing this\n            flushLayout();\n        },\n    };\n}\nfunction assignProjectionToSnapshot(child) {\n    child.prevViewportBox = child.projection.target;\n}\n\nexport { createBatcher };\n","import { createContext } from 'react';\nimport { createBatcher } from '../components/AnimateSharedLayout/utils/batcher.js';\n\nvar SharedLayoutContext = createContext(createBatcher());\n/**\n * @internal\n */\nvar FramerTreeLayoutContext = createContext(createBatcher());\nfunction isSharedLayout(context) {\n    return !!context.forceUpdate;\n}\n\nexport { FramerTreeLayoutContext, SharedLayoutContext, isSharedLayout };\n","import { __extends, __assign } from 'tslib';\nimport React__default, { useContext } from 'react';\nimport { isSharedLayout, SharedLayoutContext, FramerTreeLayoutContext } from '../../../context/SharedLayoutContext.js';\nimport { snapshotViewportBox } from '../../../render/dom/projection/utils.js';\n\n/**\n * This component is responsible for scheduling the measuring of the motion component\n */\nvar Measure = /** @class */ (function (_super) {\n    __extends(Measure, _super);\n    function Measure() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * If this is a child of a SyncContext, register the VisualElement with it on mount.\n     */\n    Measure.prototype.componentDidMount = function () {\n        var _a = this.props, syncLayout = _a.syncLayout, framerSyncLayout = _a.framerSyncLayout, visualElement = _a.visualElement;\n        isSharedLayout(syncLayout) && syncLayout.register(visualElement);\n        isSharedLayout(framerSyncLayout) &&\n            framerSyncLayout.register(visualElement);\n        visualElement.onUnmount(function () {\n            if (isSharedLayout(syncLayout)) {\n                syncLayout.remove(visualElement);\n            }\n            if (isSharedLayout(framerSyncLayout)) {\n                framerSyncLayout.remove(visualElement);\n            }\n        });\n    };\n    /**\n     * If this is a child of a SyncContext, notify it that it needs to re-render. It will then\n     * handle the snapshotting.\n     *\n     * If it is stand-alone component, add it to the batcher.\n     */\n    Measure.prototype.getSnapshotBeforeUpdate = function () {\n        var _a = this.props, syncLayout = _a.syncLayout, visualElement = _a.visualElement;\n        if (isSharedLayout(syncLayout)) {\n            syncLayout.syncUpdate();\n        }\n        else {\n            snapshotViewportBox(visualElement);\n            syncLayout.add(visualElement);\n        }\n        return null;\n    };\n    Measure.prototype.componentDidUpdate = function () {\n        var syncLayout = this.props.syncLayout;\n        if (!isSharedLayout(syncLayout))\n            syncLayout.flush();\n    };\n    Measure.prototype.render = function () {\n        return null;\n    };\n    return Measure;\n}(React__default.Component));\nfunction MeasureContextProvider(props) {\n    var syncLayout = useContext(SharedLayoutContext);\n    var framerSyncLayout = useContext(FramerTreeLayoutContext);\n    return (React__default.createElement(Measure, __assign({}, props, { syncLayout: syncLayout, framerSyncLayout: framerSyncLayout })));\n}\n\nexport { MeasureContextProvider };\n","import { AnimateLayoutContextProvider } from './Animate.js';\nimport { MeasureContextProvider } from './Measure.js';\n\nvar layoutAnimations = {\n    measureLayout: MeasureContextProvider,\n    layoutAnimation: AnimateLayoutContextProvider,\n};\n\nexport { layoutAnimations };\n","import { __assign } from 'tslib';\nimport { createMotionComponent } from '../../motion/index.js';\nimport { createMotionProxy } from './motion-proxy.js';\nimport { createDomMotionConfig } from './utils/create-config.js';\nimport { gestureAnimations } from '../../motion/features/gestures.js';\nimport { animations } from '../../motion/features/animations.js';\nimport { drag } from '../../motion/features/drag.js';\nimport { layoutAnimations } from '../../motion/features/layout/index.js';\nimport { createDomVisualElement } from './create-visual-element.js';\n\nvar featureBundle = __assign(__assign(__assign(__assign({}, animations), gestureAnimations), drag), layoutAnimations);\n/**\n * HTML & SVG components, optimised for use with gestures and animation. These can be used as\n * drop-in replacements for any HTML & SVG component, all CSS & SVG properties are supported.\n *\n * @public\n */\nvar motion = /*@__PURE__*/ createMotionProxy(function (Component, config) {\n    return createDomMotionConfig(Component, config, featureBundle, createDomVisualElement);\n});\n/**\n * Create a DOM `motion` component with the provided string. This is primarily intended\n * as a full alternative to `motion` for consumers who have to support environments that don't\n * support `Proxy`.\n *\n * ```javascript\n * import { createDomMotionComponent } from \"framer-motion\"\n *\n * const motion = {\n *   div: createDomMotionComponent('div')\n * }\n * ```\n *\n * @public\n */\nfunction createDomMotionComponent(key) {\n    return createMotionComponent(createDomMotionConfig(key, { forwardMotionProps: false }, featureBundle, createDomVisualElement));\n}\n\nexport { createDomMotionComponent, motion };\n","import { __assign } from 'tslib';\nimport { interpolate } from 'popmotion';\n\nvar isCustomValueType = function (v) {\n    return typeof v === \"object\" && v.mix;\n};\nvar getMixer = function (v) { return (isCustomValueType(v) ? v.mix : undefined); };\nfunction transform() {\n    var args = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n    }\n    var useImmediate = !Array.isArray(args[0]);\n    var argOffset = useImmediate ? 0 : -1;\n    var inputValue = args[0 + argOffset];\n    var inputRange = args[1 + argOffset];\n    var outputRange = args[2 + argOffset];\n    var options = args[3 + argOffset];\n    var interpolator = interpolate(inputRange, outputRange, __assign({ mixer: getMixer(outputRange[0]) }, options));\n    return useImmediate ? interpolator(inputValue) : interpolator;\n}\n\nexport { transform };\n","import { __read } from 'tslib';\nimport { transform } from '../utils/transform.js';\nimport { useCombineMotionValues } from './use-combine-values.js';\nimport { useConstant } from '../utils/use-constant.js';\n\nfunction useTransform(input, inputRangeOrTransformer, outputRange, options) {\n    var transformer = typeof inputRangeOrTransformer === \"function\"\n        ? inputRangeOrTransformer\n        : transform(inputRangeOrTransformer, outputRange, options);\n    return Array.isArray(input)\n        ? useListTransform(input, transformer)\n        : useListTransform([input], function (_a) {\n            var _b = __read(_a, 1), latest = _b[0];\n            return transformer(latest);\n        });\n}\nfunction useListTransform(values, transformer) {\n    var latest = useConstant(function () { return []; });\n    return useCombineMotionValues(values, function () {\n        latest.length = 0;\n        var numValues = values.length;\n        for (var i = 0; i < numValues; i++) {\n            latest[i] = values[i].get();\n        }\n        return transformer(latest);\n    });\n}\n\nexport { useTransform };\n","import { useMotionValue } from './use-motion-value.js';\nimport { useMultiOnChange } from './use-on-change.js';\nimport sync from 'framesync';\n\nfunction useCombineMotionValues(values, combineValues) {\n    /**\n     * Initialise the returned motion value. This remains the same between renders.\n     */\n    var value = useMotionValue(combineValues());\n    /**\n     * Create a function that will update the template motion value with the latest values.\n     * This is pre-bound so whenever a motion value updates it can schedule its\n     * execution in Framesync. If it's already been scheduled it won't be fired twice\n     * in a single frame.\n     */\n    var updateValue = function () { return value.set(combineValues()); };\n    /**\n     * Synchronously update the motion value with the latest values during the render.\n     * This ensures that within a React render, the styles applied to the DOM are up-to-date.\n     */\n    updateValue();\n    /**\n     * Subscribe to all motion values found within the template. Whenever any of them change,\n     * schedule an update.\n     */\n    useMultiOnChange(values, function () { return sync.update(updateValue, false, true); });\n    return value;\n}\n\nexport { useCombineMotionValues };\n","import { motionValue } from '../index.js';\n\nfunction createScrollMotionValues() {\n    return {\n        scrollX: motionValue(0),\n        scrollY: motionValue(0),\n        scrollXProgress: motionValue(0),\n        scrollYProgress: motionValue(0),\n    };\n}\nfunction setProgress(offset, maxOffset, value) {\n    value.set(!offset || !maxOffset ? 0 : offset / maxOffset);\n}\nfunction createScrollUpdater(values, getOffsets) {\n    var update = function () {\n        var _a = getOffsets(), xOffset = _a.xOffset, yOffset = _a.yOffset, xMaxOffset = _a.xMaxOffset, yMaxOffset = _a.yMaxOffset;\n        // Set absolute positions\n        values.scrollX.set(xOffset);\n        values.scrollY.set(yOffset);\n        // Set 0-1 progress\n        setProgress(xOffset, xMaxOffset, values.scrollXProgress);\n        setProgress(yOffset, yMaxOffset, values.scrollYProgress);\n    };\n    update();\n    return update;\n}\n\nexport { createScrollMotionValues, createScrollUpdater };\n","import { createScrollUpdater, createScrollMotionValues } from './utils.js';\nimport { addDomEvent } from '../../events/use-dom-event.js';\nimport { useIsomorphicLayoutEffect } from '../../utils/use-isomorphic-effect.js';\n\nvar viewportScrollValues;\nfunction getViewportScrollOffsets() {\n    return {\n        xOffset: window.pageXOffset,\n        yOffset: window.pageYOffset,\n        xMaxOffset: document.body.clientWidth - window.innerWidth,\n        yMaxOffset: document.body.clientHeight - window.innerHeight,\n    };\n}\nvar hasListeners = false;\nfunction addEventListeners() {\n    hasListeners = true;\n    if (typeof window === \"undefined\")\n        return;\n    var updateScrollValues = createScrollUpdater(viewportScrollValues, getViewportScrollOffsets);\n    addDomEvent(window, \"scroll\", updateScrollValues, { passive: true });\n    addDomEvent(window, \"resize\", updateScrollValues);\n}\n/**\n * Returns MotionValues that update when the viewport scrolls:\n *\n * - `scrollX`  Horizontal scroll distance in pixels.\n * - `scrollY`  Vertical scroll distance in pixels.\n * - `scrollXProgress`  Horizontal scroll progress between `0` and `1`.\n * - `scrollYProgress`  Vertical scroll progress between `0` and `1`.\n *\n * **Warning:** Setting `body` or `html` to `height: 100%` or similar will break the `Progress`\n * values as this breaks the browser's capability to accurately measure the page length.\n *\n * @library\n *\n * ```jsx\n * import * as React from \"react\"\n * import {\n *   Frame,\n *   useViewportScroll,\n *   useTransform\n * } from \"framer\"\n *\n * export function MyComponent() {\n *   const { scrollYProgress } = useViewportScroll()\n *   return <Frame scaleX={scrollYProgress} />\n * }\n * ```\n *\n * @motion\n *\n * ```jsx\n * export const MyComponent = () => {\n *   const { scrollYProgress } = useViewportScroll()\n *   return <motion.div style={{ scaleX: scrollYProgress }} />\n * }\n * ```\n *\n * @public\n */\nfunction useViewportScroll() {\n    /**\n     * Lazy-initialise the viewport scroll values\n     */\n    if (!viewportScrollValues) {\n        viewportScrollValues = createScrollMotionValues();\n    }\n    useIsomorphicLayoutEffect(function () {\n        !hasListeners && addEventListeners();\n    }, []);\n    return viewportScrollValues;\n}\n\nexport { useViewportScroll };\n","var wrap = function (min, max, v) {\n    var rangeSize = max - min;\n    return ((((v - min) % rangeSize) + rangeSize) % rangeSize) + min;\n};\n\nexport { wrap };\n","import { __read } from 'tslib';\nimport { useRef, useState } from 'react';\nimport { wrap } from 'popmotion';\n\n/**\n * Cycles through a series of visual properties. Can be used to toggle between or cycle through animations. It works similar to `useState` in React. It is provided an initial array of possible states, and returns an array of two arguments.\n *\n * @library\n *\n * ```jsx\n * import * as React from \"react\"\n * import { Frame, useCycle } from \"framer\"\n *\n * export function MyComponent() {\n *   const [x, cycleX] = useCycle(0, 50, 100)\n *\n *   return (\n *     <Frame\n *       animate={{ x: x }}\n *       onTap={() => cycleX()}\n *      />\n *    )\n * }\n * ```\n *\n * @motion\n *\n * An index value can be passed to the returned `cycle` function to cycle to a specific index.\n *\n * ```jsx\n * import * as React from \"react\"\n * import { motion, useCycle } from \"framer-motion\"\n *\n * export const MyComponent = () => {\n *   const [x, cycleX] = useCycle(0, 50, 100)\n *\n *   return (\n *     <motion.div\n *       animate={{ x: x }}\n *       onTap={() => cycleX()}\n *      />\n *    )\n * }\n * ```\n *\n * @param items - items to cycle through\n * @returns [currentState, cycleState]\n *\n * @public\n */\nfunction useCycle() {\n    var items = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        items[_i] = arguments[_i];\n    }\n    var index = useRef(0);\n    var _a = __read(useState(items[index.current]), 2), item = _a[0], setItem = _a[1];\n    return [\n        item,\n        function (next) {\n            index.current =\n                typeof next !== \"number\"\n                    ? wrap(0, items.length, index.current + 1)\n                    : next;\n            setItem(items[index.current]);\n        },\n    ];\n}\n\nexport { useCycle };\n","import { __spreadArray, __read } from 'tslib';\nimport { invariant } from 'hey-listen';\nimport { stopAnimation, animateVisualElement } from '../render/utils/animation.js';\nimport { setValues } from '../render/utils/setters.js';\n\n/**\n * @public\n */\nfunction animationControls() {\n    /**\n     * Track whether the host component has mounted.\n     */\n    var hasMounted = false;\n    /**\n     * Pending animations that are started before a component is mounted.\n     * TODO: Remove this as animations should only run in effects\n     */\n    var pendingAnimations = [];\n    /**\n     * A collection of linked component animation controls.\n     */\n    var subscribers = new Set();\n    var controls = {\n        subscribe: function (visualElement) {\n            subscribers.add(visualElement);\n            return function () { return void subscribers.delete(visualElement); };\n        },\n        start: function (definition, transitionOverride) {\n            /**\n             * TODO: We only perform this hasMounted check because in Framer we used to\n             * encourage the ability to start an animation within the render phase. This\n             * isn't behaviour concurrent-safe so when we make Framer concurrent-safe\n             * we can ditch this.\n             */\n            if (hasMounted) {\n                var animations_1 = [];\n                subscribers.forEach(function (visualElement) {\n                    animations_1.push(animateVisualElement(visualElement, definition, {\n                        transitionOverride: transitionOverride,\n                    }));\n                });\n                return Promise.all(animations_1);\n            }\n            else {\n                return new Promise(function (resolve) {\n                    pendingAnimations.push({\n                        animation: [definition, transitionOverride],\n                        resolve: resolve,\n                    });\n                });\n            }\n        },\n        set: function (definition) {\n            invariant(hasMounted, \"controls.set() should only be called after a component has mounted. Consider calling within a useEffect hook.\");\n            return subscribers.forEach(function (visualElement) {\n                setValues(visualElement, definition);\n            });\n        },\n        stop: function () {\n            subscribers.forEach(function (visualElement) {\n                stopAnimation(visualElement);\n            });\n        },\n        mount: function () {\n            hasMounted = true;\n            pendingAnimations.forEach(function (_a) {\n                var animation = _a.animation, resolve = _a.resolve;\n                controls.start.apply(controls, __spreadArray([], __read(animation))).then(resolve);\n            });\n            return function () {\n                hasMounted = false;\n                controls.stop();\n            };\n        },\n    };\n    return controls;\n}\n\nexport { animationControls };\n","import { animationControls } from './animation-controls.js';\nimport { useEffect } from 'react';\nimport { useConstant } from '../utils/use-constant.js';\n\n/**\n * Creates `AnimationControls`, which can be used to manually start, stop\n * and sequence animations on one or more components.\n *\n * The returned `AnimationControls` should be passed to the `animate` property\n * of the components you want to animate.\n *\n * These components can then be animated with the `start` method.\n *\n * @library\n *\n * ```jsx\n * import * as React from 'react'\n * import { Frame, useAnimation } from 'framer'\n *\n * export function MyComponent(props) {\n *    const controls = useAnimation()\n *\n *    controls.start({\n *        x: 100,\n *        transition: { duration: 0.5 },\n *    })\n *\n *    return <Frame animate={controls} />\n * }\n * ```\n *\n * @motion\n *\n * ```jsx\n * import * as React from 'react'\n * import { motion, useAnimation } from 'framer-motion'\n *\n * export function MyComponent(props) {\n *    const controls = useAnimation()\n *\n *    controls.start({\n *        x: 100,\n *        transition: { duration: 0.5 },\n *    })\n *\n *    return <motion.div animate={controls} />\n * }\n * ```\n *\n * @returns Animation controller with `start` and `stop` methods\n *\n * @public\n */\nfunction useAnimation() {\n    var controls = useConstant(animationControls);\n    useEffect(controls.mount, []);\n    return controls;\n}\n\nexport { useAnimation };\n"],"sourceRoot":""}